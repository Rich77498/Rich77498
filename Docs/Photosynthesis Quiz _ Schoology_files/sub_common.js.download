/*! For license information please see sub_common.js.LICENSE.txt */
(window.LearnosityAmd=window.LearnosityAmd||[]).push([[0],Array(131).concat([function(r,a,l){"use strict";l.d(a,"a",(function(){return i18nTemplate}));var S=l(0),O=l.n(S);function i18nTemplate(r,a){return O.a.isEmpty(r)?"":(O()(a).forEach((function(a,l){var S="{{".concat(l,"}}");r=r.replace(S,a)})),r)}},,,,,,function(r,a,l){"use strict";var S=l(0),O=l.n(S),E=l(10),T=(l(42),l(35));function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function _classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function _setPrototypeOf(r,a){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,a){return r.__proto__=a,r})(r,a)}function _createSuper(r){var a=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function _createSuperInternal(){var l,S=_getPrototypeOf(r);if(a){var O=_getPrototypeOf(this).constructor;l=Reflect.construct(S,arguments,O)}else l=S.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _possibleConstructorReturn(r,a){return!a||"object"!==_typeof(a)&&"function"!=typeof a?function _assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(r):a}function _getPrototypeOf(r){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}var j=["exactMatch","partialMatch","partialMatchV2"],D=function isDefaultValidResponseValue(r){return 0===O.a.filter(r,(function(r){return r||0===r})).length},q=function(r){!function _inherits(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&_setPrototypeOf(r,a)}(ClozeScorer,r);var a=_createSuper(ClozeScorer);function ClozeScorer(){return _classCallCheck(this,ClozeScorer),a.apply(this,arguments)}return function _createClass(r,a,l){return a&&_defineProperties(r.prototype,a),l&&_defineProperties(r,l),r}(ClozeScorer,[{key:"reset",value:function reset(r){var a=JSON.stringify(r),l=this.flags||this.cachedFlags;if(this.serializedData!==a){r.question.validation&&r.question.validation.scoring_type||(r=E.a.normalizeParameters(r));var S=getOptions(r.question,l);try{this.scoringData=function getScoringData(r,a){var l=r.question.validation,S=[];if(!function canValidateResponse(r){if(!1===O.a.getNested(r,"validation.automarkable"))return!1;var a=r.validation||r||{};return!O.a.isEmpty(a)&&(O.a.isArray(a.valid_responses)||O.a.isObject(a.valid_response)&&!D(a.valid_response.value))}(r.question))return{automarkable:!1};r.question.equiv_literal_legacy&&(r=E.a.processCompatibility(r));if(r.response=r.response||{},l&&l.scoring_type){if(!O.a.contains(j,l.scoring_type))throw new E.a.InvalidScoringTypeException(r.question.type,l.scoring_type);return l.valid_response&&S.push(l.valid_response),l.alt_responses&&(S=S.concat(l.alt_responses)),function processResponsesCurrentScoringFormat(r,a,l){var S={score:1,penaltyScore:0,rounding:"floor"};return E.a.scoreArray(r,a,S,l)}(r,S,a)}return O.a.isArray(r.question.valid_responses)?function processLegacyResponses1233(r,a){var l,S,T=r.question,j=r.response&&r.response.value||[],D=T.valid_responses,q=[];a=getOptions(T,{stripWhiteSpaceForMath:!0}),O.a.each(j,(function(r,T){var j,B,G=D[T],Z=!1;O.a.each(G,(function(l){l.value&&O.a.isNumber(l.score)&&(E.a.stringCompare(r,l.value,a)?(B=l.score,Z=!0):B=B||0,(O.a.isUndefined(j)||l.score>j)&&(j=l.score))})),l=E.a.addIfDefined(l,B),S=E.a.addIfDefined(S,j),q.push(Z)})),j.length||O.a.each(D,(function(r,a){var l;O.a.each(r,(function(r){O.a.isNumber(r.score)&&(O.a.isUndefined(l)||r.score>l)&&(l=r.score)})),S=E.a.addIfDefined(S,l)}));return{score:l,responsesValid:q,maxScore:S,isValid:q.length?O.a.all(q):void 0}}(r,a):function processLegacyResponsesPre2140(r,a){var l,S=r.question,T=r.response||{};S.validation=S.validation||{};var j,D,q=S.validation.valid_responses,B=T.value||[],G=Math.abs(O.a.isNumber(S.validation.penalty_score)?S.validation.penalty_score:0),Z=function getResponseScoreArray(r){var a,l=parseFloat(r.validation.valid_score),S=r.validation.valid_responses,E=[];if(l=isNaN(l)?1:l,O.a.isArray(r.validation.valid_score))E=r.validation.valid_score;else for(var T=0;T<S.length;T++){a=[];for(var j=0;j<S[T].length;j++)a.push(l);E.push(a)}return E}(S),$=[],Q=0;O.a.each(B,(function(r,S){var T=q[S],D=0,B=!1;if(!O.a.isUndefined(r)&&null!==r&&""!==r&&O.a.isArray(T))for(var Q=0;Q<T.length;Q++){if(E.a.stringCompare(r,T[Q],a)){D=Z[S][Q],l=T,B=!0;break}D=-1*G}$.push(B),j=(O.a.isUndefined(j)?0:j)+D})),O.a.each(Z,(function(r){Q+=O.a.max(r)})),B.length&&!1===S.validation.partial_scoring&&j!==Q&&(j=0);B.length&&$.length&&(D=!1===S.validation.partial_scoring?O.a.all($):O.a.any($));return{score:j,responsesValid:$,suggestedResponse:l,maxScore:Q,isValid:D}}(r,a)}(r,S),E.a.normalizeScores(this.scoringData,r)}catch(r){this.scoringData={error:r}}this.serializedData=a}return this.cachedFlags=l,this}},{key:"flags",get:function get(){}}]),ClozeScorer}(T.a);function getOptions(r,a){var l={caseSensitive:!!r.case_sensitive,removeWhitespace:!!r.is_math&&a.stripWhiteSpaceForMath,matchAllPossibleResponses:!(!r.validation||!r.validation.match_all_possible_responses)};return delete a.stripWhiteSpaceForMath,O.a.extend(a,l)}a.a=q},,,function(r,a){r.exports=function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}},function(r,a,l){r.exports=l(540)},,function(r,a,l){"use strict";l.d(a,"a",(function(){return S})),l.d(a,"f",(function(){return O})),l.d(a,"e",(function(){return E})),l.d(a,"d",(function(){return T})),l.d(a,"c",(function(){return j})),l.d(a,"g",(function(){return D})),l.d(a,"b",(function(){return q}));var S={bold:{type:"button",icon:"lrn-icon-bold",command:"bold"},italic:{type:"button",icon:"lrn-icon-italic",command:"italic"},underline:{type:"button",icon:"lrn-icon-underline",command:"underline"},orderedList:{type:"button",icon:"lrn-icon-list-numbered",command:"insertOrderedList"},unorderedList:{type:"button",icon:"lrn-icon-list-bulleted",command:"insertUnorderedList"},removeFormat:{type:"button",icon:"lrn-icon-remove-format",command:"removeFormat"},alignLeft:{type:"button",icon:"lrn-icon-align-left",command:"alignLeftStyle"},alignCenter:{type:"button",icon:"lrn-icon-align-center",command:"alignCenterStyle"},alignRight:{type:"button",icon:"lrn-icon-align-right",command:"alignRightStyle"},alignJustify:{type:"button",icon:"lrn-icon-align-justify",command:"alignJustifyStyle"},superscript:{type:"button",icon:"lrn-icon-superscript",command:"superscript"},subscript:{type:"button",icon:"lrn-icon-subscript",command:"subscript"},insertHorizontalRule:{type:"button",icon:"lrn-icon-hr",command:"insertHorizontalRule"},indentIncrease:{type:"button",icon:"lrn-icon-indent-increase",command:"increaseIndent"},indentDecrease:{type:"button",icon:"lrn-icon-indent-decrease",command:"decreaseIndent"},textDirectionLtr:{type:"button",icon:"lrn-icon-text-direction-ltr",command:"textDirectionLtr"},textDirectionRtl:{type:"button",icon:"lrn-icon-text-direction-rtl",command:"textDirectionRtl"},blockquote:{type:"button",icon:"lrn-icon-blockquote",command:"insertBlockQuote"},table:{type:"createTable",icon:"lrn-icon-table"},editTable:{type:"editTable",icon:"lrn-icon-edit-table"},image:{type:"insertImage",icon:"lrn-icon-image",icons:{edit:"lrn-icon-image-edit",preview:"lrn-icon-image-preview",delete:"lrn-icon-image-delete"}},undo:{type:"button",icon:"lrn-icon-undo",command:"undo"},redo:{type:"button",icon:"lrn-icon-redo",command:"redo"},charactermap:{type:"charactermap"},characterMathMap:{type:"characterMathMap"},"|":{type:"divider"},formulaEditor:{type:"formulaEditor",icon:"lrn-icon-formula"}},O=12,E={SMALL:"small",MEDIUM:"medium",LARGE:"large",FULL_SIZE:"fullSize"},T={SMALL:200,MEDIUM:525,LARGE:1024,FULL_SIZE:3024},j={CREATE_FORMULA:"createFormula",EDIT_FORMULA:"editFormula"},D={FORMULA_EDITOR:"editFormula"},q=["image/jpg","image/jpeg","image/png","image/gif","image/bmp",".jfif"]},,,,,,,,,function(r,a,l){"use strict";var S=l(125),O=l.n(S);function Icon(r){var a=r.icon;return a?O.a.createElement("span",{className:"lrn_icon  ".concat(a),"aria-hidden":"true"}):null}function ScreenReader(r){var a=r.label;return a?O.a.createElement("span",{className:"sr-only"},"  ",a):null}a.a={Divider:function Divider(){return O.a.createElement("div",{className:"lrn-divider"})},Button:function Button(r){var a=r.disabled,l=r.isActive,S=r.name,E=r.icon,T=r.label,j=r.activeClassName,D=r.children,q=r.getRef,B=r.onMouseEnter,G=r.onMouseLeave,Z=r.onMouseDown,$=r.onClick,Q=r.tabIndex,ee="lrn_btn  lrn-editor-toolbar-button-".concat(S,"  ").concat(l?j:"","  ").concat(r.className||"");return O.a.createElement("button",{ref:function ref(r){return q&&q(r)},type:"button",className:ee,"aria-label":T,"aria-pressed":"false",disabled:a,onMouseEnter:function onMouseEnter(){return B(T)},onMouseLeave:G,onMouseDown:function mouseDownHandler(r){Z&&Z(),r.preventDefault()},onClick:function clickHandler(r){$&&$(),r.preventDefault()},tabIndex:Q},O.a.createElement(Icon,{icon:E}),O.a.createElement(ScreenReader,{label:T}),D)}}},function(r,a,l){"use strict";var S=l(125),O=l.n(S),E=l(185);l(187);a.a=function Modal(r){var a=r.afterRender,l=r.children,S=r.title,T=r.parentNode,j=r.modalIsOpen,D=r.onRequestClose,q=r.preventFocusWhenAppear,B="lrn-wysihtml-modal  ".concat(r.className||"");return O.a.createElement(E.a,{afterRender:a,preventFocusWhenAppear:q,isOpen:j,parentNode:T,className:"lrn-wysihtml-floating-modal",onRequestClose:D,shouldUpdatePosition:!1},O.a.createElement("div",{className:B,style:{opacity:1}},O.a.createElement("div",{className:"lrn-wysihtml-modal-dialog",role:"dialog",style:{opacity:1}},O.a.createElement("div",{className:"lrn-wysihtml-modal-title"},S),O.a.createElement("div",{className:"lrn-wysihtml-modal-content"},l),O.a.createElement("button",{type:"button",className:"lrn_btn lrn_btn_close",title:"Close","data-lrn-action":"close",onClick:D},O.a.createElement("span",{className:"sr-only"},"Close")))))}},,,,,,,,,function(r,a,l){"use strict";var S=l(5),O=l.n(S),E=l(0),T=l.n(E),j=l(50),D=["toggle"],q=["Left","Right","Backspace","÷","×","-","+","="];switch(j.a.getOs()){case"osx":D=["shift","opt"];break;case"windows":case"unix":case"linux":D=["shift","alt"]}var B=O.a.Model.extend({keysForToggle:D,keyForCtrlToggle:"ctrl",ariaHiddenSymbols:q,defaults:{type:"write"},initialize:function initialize(){this.createDisplayableShortcut(),this.on("change:shortcut",this.createDisplayableShortcut,this)},createDisplayableShortcut:function createDisplayableShortcut(){var r=T.a.clone(this.get("shortcut"));"toggle"===T.a.first(r)&&(r=T.a.union(this.keysForToggle,T.a.rest(r,1))),"ctrl"===T.a.first(r)&&(r=T.a.union(["ctrl"],T.a.rest(r))),r&&r[0]===this.get("title")&&(r=[]),this.set("displayableShortcut",r)},renderLabelAsLatex:function renderLabelAsLatex(){var r=this.get("label_latex");return T.a.isBoolean(r)?r:this.get("label").indexOf("\\")>-1},isPlaceholder:function isPlaceholder(){return""===this.get("id")},isFunctional:function isFunctional(){return!("addmatrixcol"===this.get("name")||"addmatrixrow"===this.get("name"))&&"keystroke"===this.get("type")},hasOwnStyle:function hasOwnStyle(){return!!this.get("style")},isAria:function isAria(r){return T.a.contains(q,r)}});a.a=O.a.Collection.extend({model:B,get:function get(r){return O.a.Collection.prototype.get.apply(this,arguments)||this.find((function(a){return T.a.contains(a.get("aliases"),r)}))},add:function add(r){this.isUnique(r)&&O.a.Collection.prototype.add.apply(this,arguments)},isUnique:function isUnique(r){var a=r.aliases&&T.a.union(r.aliases,r.id)||[];return!this.any((function(l){return r.id===l.id||T.a.intersection(a,l.get("aliases")).length}))},getShortcutsMap:function getShortcutsMap(){var r={};return this.each((function(a){var l=a.get("shortcut");"toggle"===T.a.first(l)&&(r[l[1]]=a)})),r},getGroups:function getGroups(){var r=T.a.unique(this.pluck("group")),a=this;return T.a.map(r,(function(r){return a.where({group:r})}))},getFirstInEachGroup:function getFirstInEachGroup(){return T.a.map(this.getGroups(),T.a.first)}})},,,,,function(r,a,l){"use strict";l.d(a,"a",(function(){return D}));var S=l(0),O=l.n(S),E=l(3),T=l(13);function _classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}var j="spokenmathWorker";var D=new(function(){function SingletonWorker(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,SingletonWorker),this._loading=!1,this._collections=[],this._resolveCollections=this._resolveCollections.bind(this),this.getPostMessage=a.getPostMessage.bind(this),this.processReceivedMessage=a.processReceivedMessage.bind(this)}return function _createClass(r,a,l){return a&&_defineProperties(r.prototype,a),l&&_defineProperties(r,l),r}(SingletonWorker,[{key:"process",value:function process(r){var a=this,l=this._collections;return new E.default((function(S){l.push({data:r,resolve:S}),a._loading||a._loadWorker()}))}},{key:"_loadWorker",value:function _loadWorker(){var r=this;this._loading=!0,function loadWorker(r){return new E.default((function(a){T.a.getExposedExternalBundle(r)().then((function(r){a(r)}))}))}(j).then((function(a){var l=new a,S=r._collections,E=O.a.pluck(S,"data");l.postMessage(r.getPostMessage(E)),l.addEventListener("message",(function(a){var O=a.data;l.terminate(),r._loading=!1,r._resolveCollections(r.processReceivedMessage(O)),S.length&&r._loadWorker()}))}))}},{key:"_resolveCollections",value:function _resolveCollections(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=this._collections;r.length&&a.length;){var l=a.shift(),S=l.resolve;S(r.shift())}}}]),SingletonWorker}())(j,{getPostMessage:function getPostMessage(r){return{latexes:r}},processReceivedMessage:function processReceivedMessage(r){return r.value}})},,,,,function(r,a,l){"use strict";var S=l(1),O=l.n(S),E=l(0),T=l.n(E),j=function ScaleCompensator(r,a){var l=this;this.id=T.a.uniqueId("lrn_scale_compensator_"),this.$el=r,this.opts=a,this.scale=T.a.debounce((function(){var r=T.a.bind(l.scaleAndPosition,l);window.requestAnimationFrame?window.requestAnimationFrame(r):r()}),a.debounceTime)};T.a.extend(j.prototype,{start:function start(r){return O()(window).on("resize."+this.id+" orientationchange."+this.id+" scroll."+this.id,this.scale),this},stop:function stop(){O()(window).off("."+this.id)},scaleAndPosition:function scaleAndPosition(){var r=document.documentElement.clientWidth,a=document.documentElement.clientHeight,l=window.innerWidth,S=window.innerHeight,O=l/r,E="scale("+O+") translateX("+window.pageXOffset/O+"px) translateY("+-(a-(window.pageYOffset+S))/O+"px)";O>.99?(this.$el.removeClass("lrn_scalable"),E=""):this.$el.addClass("lrn_scalable"),this.setTransform(E),this.opts.onUpdate(O)},setTransform:function setTransform(r){return this.$el.css({transform:r,"-moz-transform":r,"-o-transform":r,"-webkit-transform":r,"-ms-transform":r}),this},destroy:function destroy(){this.stop(),this.setTransform("").$el.removeClass("lrn_scalable"),this.$el=this.opts=null}}),a.a=j},function(r,a,l){"use strict";var S=l(5),O=l.n(S),E=l(125),T=l.n(E),j=l(128),D=l.n(j),q=l(157);function _extends(){return(_extends=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&(r[S]=l[S])}return r}).apply(this,arguments)}function _classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function _defineProperty(r,a,l){return a in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,r}var B=function(){function CustomDropdown(r,a){var l=this,S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,CustomDropdown),_defineProperty(this,"on",O.a.Events.on),_defineProperty(this,"once",O.a.Events.once),_defineProperty(this,"off",O.a.Events.off),_defineProperty(this,"trigger",O.a.Events.trigger),_defineProperty(this,"_selectedIndex",-1),_defineProperty(this,"_value",null),_defineProperty(this,"_onChange",(function(r){var a=r.index,S=r.value;l._selectedIndex=a,l._value=S,l.trigger("change",{value:S,selectedIndex:a})})),_defineProperty(this,"_onBlur",(function(){l.trigger("blur")})),_defineProperty(this,"_onUpdateComplete",(function(){l.trigger("updateComplete")})),this.el=r,this.menuOptions=a,this.options=S,this._render()}return function _createClass(r,a,l){return a&&_defineProperties(r.prototype,a),l&&_defineProperties(r,l),r}(CustomDropdown,[{key:"open",value:function open(r){this.component.open(r)}},{key:"close",value:function close(){this.component.close()}},{key:"isOpen",value:function isOpen(){return this.component.isOpen()}},{key:"_render",value:function _render(){var r=this.menuOptions,a=this.options;this.component=D.a.render(T.a.createElement(q.a,_extends({},a,{containerClass:"lrn_theme_primary",menuOptions:r,onChange:this._onChange,onBlur:this._onBlur,updateComplete:this._onUpdateComplete,selectedIndex:this.selectedIndex})),this.el)}},{key:"selectedIndex",get:function get(){return this._selectedIndex},set:function set(r){this._selectedIndex=r,this.component.setSelectedIndex(r)}},{key:"value",get:function get(){return this._value}}]),CustomDropdown}();a.a=B},,,,,,,,,,,,,,,function(r,a,l){r.exports=l(546)},function(r,a,l){r.exports=l(593)},,,,,,,,,,function(r,a,l){"use strict";var S=l(0),O=l.n(S),E=l(18),T={jpg:{jpg:"image/jpeg",jpeg:"image/jpeg",jfif:"image/jpeg"},png:"image/png",gif:"image/gif",bmp:"image/bmp",pdf:"application/pdf",csv:"text/csv",rtf:"application/rtf",txt:"text/plain",xps:"application/vnd.ms-xpsdocument",ms_word:{doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",docm:"application/vnd.ms-word.document.macroenabled.12",dotm:"application/vnd.ms-word.template.macroenabled.12"},ms_excel:{xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12"},ms_powerpoint:{ppt:"application/vnd.ms-powerpoint",pps:"application/vnd.ms-powerpoint",pot:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",pptm:"application/vnd.ms-powerpoint.presentation.macroenabled.12",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",potm:"application/vnd.ms-powerpoint.presentation.macroenabled.12",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",ppsm:"application/vnd.ms-powerpoint.slideshow.macroenabled.12"},ms_publisher:{pub:"application/vnd.ms-publisher"},open_office:{odf:"application/vnd.oasis.opendocument.formula",odt:"application/vnd.oasis.opendocument.text",ods:"application/vnd.oasis.opendocument.spreadsheet",odp:"application/vnd.oasis.opendocument.presentation"},video:{mp4:"video/mp4",mov:"video/quicktime",webm:"video/webm",avi:"video/avi",asf:"video/x-ms-asf",wmv:"video/x-ms-wmv"},zip:"application/zip",matlab:{m:"text/plain",fig:"application/octet-stream",mat:"application/octet-stream"},altera_quartus:{bdf:"text/plain",bsf:"text/plain"},verilog:{sv:"text/plain"},c:"text/plain",h:"text/plain",s:"text/plain",v:"text/plain",cpp:"text/plain",assembly:{asm:"text/plain"}},j={createBasePath:function createBasePath(r){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=new Date(r.get("security").getTimestamp()),S=l.getUTCFullYear(),O=new Date(Date.UTC(S,0,1)),E=Math.ceil((l-O)/864e5),T=r.get("consumer"),j=T.get("id"),D=r.get("user_id"),q=a?"userupload/":"";return"".concat(q).concat(j,"/questionresponse/").concat(S,"/").concat(E,"/").concat(j,"_").concat(D)},createFullPath:function createFullPath(r,a,l,S){var O=this.createBasePath(r,S),T=E.a.v4(),j=this.getValidExtension(l);return"".concat(O,"_").concat(a,"/").concat(T,".").concat(j)},getValidExtension:function getValidExtension(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=this.getFlattenedExtensions(),l=r.lastIndexOf(".")+1,S=l>0?r.slice(l).toLowerCase():"";return a[S]?S:""},getFlattenedExtensions:function getFlattenedExtensions(){var r={};return O.a.mapObject(T,(function buildExtensionMime(a,l){O.a.isString(a)?r[l]=a:O.a.isObject(a)&&O.a.mapObject(a,buildExtensionMime)})),r},getExtensions:function getExtensions(r){var a=T[r],l=[];return O.a.isString(a)?l.push(r):O.a.isObject(a)&&(l=O.a.keys(a)),l},getMimeTypeByExtension:function getMimeTypeByExtension(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=this.getFlattenedExtensions(),l=a[r.toLowerCase()];return l||""}};a.a=j},function(r,a,l){"use strict";var S=l(220),O=l(543).f,E=l(545),T=l(277),j=l(495),D=l(255),q=l(241),wrapConstructor=function(r){var Wrapper=function(a,l,S){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(a);case 2:return new r(a,l)}return new r(a,l,S)}return r.apply(this,arguments)};return Wrapper.prototype=r.prototype,Wrapper};r.exports=function(r,a){var l,B,G,Z,$,Q,ee,te,ne=r.target,re=r.global,oe=r.stat,ie=r.proto,ae=re?S:oe?S[ne]:(S[ne]||{}).prototype,se=re?T:T[ne]||(T[ne]={}),le=se.prototype;for(G in a)l=!E(re?G:ne+(oe?".":"#")+G,r.forced)&&ae&&q(ae,G),$=se[G],l&&(Q=r.noTargetGet?(te=O(ae,G))&&te.value:ae[G]),Z=l&&Q?Q:a[G],l&&typeof $==typeof Z||(ee=r.bind&&l?j(Z,S):r.wrap&&l?wrapConstructor(Z):ie&&"function"==typeof Z?j(Function.call,Z):Z,(r.sham||Z&&Z.sham||$&&$.sham)&&D(ee,"sham",!0),se[G]=ee,ie&&(q(T,B=ne+"Prototype")||D(T,B,{}),T[B][G]=Z,r.real&&le&&!le[G]&&D(le,G,Z)))}},function(r,a,l){var S=l(220),O=l(498),E=l(241),T=l(500),j=l(501),D=l(551),q=O("wks"),B=S.Symbol,G=D?B:B&&B.withoutSetter||T;r.exports=function(r){return E(q,r)||(j&&E(B,r)?q[r]=B[r]:q[r]=G("Symbol."+r)),q[r]}},,function(r,a,l){"use strict";var S=l(0),O=l.n(S),E=l(178);a.a=function getOrderedListBasedOnQuestion(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0;if(!a.shuffle_options)return O.a.deepClone(r);if(!O.a.isString(l))throw new Error("getOrderedListBasedOnQuestion requires a seed");return Object(E.a)({seed:l,exclusions:r,questionMetadata:a.metadata,originalOrder:r})}},,,function(r,a,l){"use strict";l.d(a,"d",(function(){return getSpellCheckValue})),l.d(a,"a",(function(){return getAutoCapitalizeValue})),l.d(a,"b",(function(){return getAutoCompleteValue})),l.d(a,"c",(function(){return getAutoCorrectValue}));var S=l(0),O=l.n(S);function getSpellCheckValue(r){return O.a.isBoolean(r)?r:!!O.a.isString(r)&&"true"===r}function getAutoCapitalizeValue(r){return defaultCheck(r)}function getAutoCompleteValue(r){return defaultCheck(r)}function getAutoCorrectValue(r){return defaultCheck(r)}function defaultCheck(r){return O.a.isString(r)?"true"===r?"on":"off":O.a.isBoolean(r)&&r?"on":"off"}},function(r,a,l){"use strict";var S=l(0),O=l.n(S),E=l(5),T=l.n(E),j=l(209),D=(l(3),l(9),l(6)),q=l(199),B="".concat(D.a.apiHost,"/asset/view"),G="".concat(D.a.apiHost,"/asset/viewProcessed"),Z={uploading:"uploading",failed:"failed",complete:"complete"};a.a=T.a.Model.extend({UPLOAD_STATUS:Z,initialize:function initialize(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=r.file,S=a.eventBus,E=a.activity,T=a.securityObject,j=a.hasVideoSupport,D=a.hasVideoRecordingSupport,q=a.assetExtension,B=a.assetMimeType,G=a.assetPath,$=a.responseId;if(this.options=a,this.eventBus=S,this.activity=E,this.securityToken=this._uriEncodeObject(T),this.responseId=$,this.hasVideoSupport=j,this.hasVideoRecordingSupport=D,this.set("id",O.a.uniqueId()),!O.a.isUndefined(l)&&this.validateFile(l)){if(this.file=l,this.set({name:l.name,originalName:l.name,extension:q,size:l.size,mimetype:B||l.type,status:Z.uploading,hasUploaded:this.hasUploaded(),description:"",hasFailed:!1,hasNotifiedFailure:!0,assetPath:G}),(D||j)&&this.isVideoFile()){var Q=G.substr(0,G.lastIndexOf(".")),ee=this.get("name").substr(0,this.get("name").lastIndexOf("."));this.set({assetProcessedPath:"".concat(Q,".").concat("mp4"),extension:"mp4",name:"".concat(ee,".").concat("mp4")})}this.uploadAndHandle()}else this.set({status:Z.complete,hasUploaded:!0});this.set("colorClass",this.getIconColorClass(this.get("extension")))},validateFile:function validateFile(r){return r instanceof File||r instanceof Blob&&!!r.name},hasUploaded:function hasUploaded(){return this.get("status")===Z.complete},upload:function upload(){return j.a.upload({file:this.file,activity:this.activity,responseId:this.responseId,extension:this.get("extension"),mimeType:this.get("mimetype"),assetPath:this.get("assetPath"),assetProcessedPath:this.get("assetProcessedPath"),hasVideoSupport:this.hasVideoSupport})},uploadAndHandle:function uploadAndHandle(){var r=this;return this.upload().then((function(){r.handleUploadSuccess()})).catch((function(){r.handleUploadFail()}))},abortUpload:function abortUpload(){j.a.abort(this.get("assetPath"))},isSubmitPractice:function isSubmitPractice(){return this.options.activity.get("type")===this.activity.TYPE.SUBMIT_PRACTICE},isVideoFile:function isVideoFile(){var r=q.a.getExtensions("video"),a=this.get("extension");return O.a.contains(r,a)},handleUploadSuccess:function handleUploadSuccess(){var r=this.options.onUploadSuccess;this.set({status:Z.complete,hasUploaded:!0,hasNotifiedFailure:!0}),O.a.isUndefined(this.eventBus)||this.eventBus.trigger("fileUploaded",this),r&&r()},handleUploadFail:function handleUploadFail(){var r=this.options.onUploadError;this.set({status:Z.failed,hasFailed:!0,hasNotifiedFailure:!1}),O.a.isUndefined(this.eventBus)||this.eventBus.trigger("fileUploadFailed",this),r&&r()},getViewUrl:function getViewUrl(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a={assetPath:this.get("assetPath")},l=B;this.get("assetProcessedPath")&&(a.assetProcessedPath=this.get("assetProcessedPath"),a.assetOriginalName=this.get("originalName"),l=G),r&&(a.assetName=this.get("name"));var S=this._uriEncodeObject(a);return"".concat(l,"?action=get&security=").concat(this.securityToken,"&usrequest=").concat(S)},retryUpload:function retryUpload(){this.get("hasFailed")&&(this.set({hasFailed:!1,status:Z.uploading}),this.uploadAndHandle())},clearFailNotification:function clearFailNotification(){this.set("hasNotifiedFailure",!0)},getIconColorClass:function getIconColorClass(r){var a="default";switch(r){case"png":case"gif":case"pdf":case"csv":case"rtf":case"txt":case"xps":a=r;break;case"jpg":case"jpeg":a="jpg";break;case"doc":case"docx":case"dot":case"dotx":case"docm":case"dotm":a="word";break;case"xls":case"xlsx":case"xlt":case"xltm":case"xlsm":a="excel";break;case"ppt":case"pps":case"pot":case"pptx":case"pptm":case"potx":case"potm":case"ppsx":case"ppsm":a="powerpoint";break;case"pub":a="publisher";break;case"odf":case"odt":case"ods":case"odp":a="open-office";break;case"mp4":case"mov":case"avi":a="video"}return"".concat("lrn-file-").concat(a)},updateDescription:function updateDescription(r){this.set({description:r})},_uriEncodeObject:function _uriEncodeObject(r){return encodeURIComponent(JSON.stringify(r))}})},,function(r,a,l){"use strict";var S=l(0),O=l.n(S),E=(l(253),l(3)),T=(l(18),l(9));function _defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}var j=function(){function S3(){var r=this;!function _classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}(this,S3),this.promise=new E.default((function(a,l){r.resolve=a,r.reject=l}))}return function _createClass(r,a,l){return a&&_defineProperties(r.prototype,a),l&&_defineProperties(r,l),r}(S3,[{key:"request",value:function request(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.send(r),this.promise}},{key:"handleSuccess",value:function handleSuccess(r){r.target.status<400?this.resolve(r):this.handleFailure(r)}},{key:"handleFailure",value:function handleFailure(r){this.reject(r.target.status)}},{key:"send",value:function send(){var r=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=new FormData,S=a.data.data.file,E="".concat(a.data.data.name,".").concat(a.data.data.extension),T=new XMLHttpRequest,j=S.slice(0,S.size,S.type),D=0;O.a.each(a.formInputs,(function(r,a){l.append(a,r)})),l.append("file",j,E),T.addEventListener("load",(function(a){r.handleSuccess(a)})),T.addEventListener("error",(function(a){r.handleFailure(a)})),T.upload.addEventListener("progress",(function(r){D=r.loaded})),T.open(a.formAttributes.method,a.formAttributes.action),T.send(l),a.onSendStart&&a.onSendStart({abort:function abort(){return T.abort()},getUploadedBytes:function getUploadedBytes(){return D}})}}]),S3}(),D=l(7),q=(D.a.isMicrosoft,[]),B=[],G=!1,Z=[],$={MAX_ATTEMPTS:3,RETRY_DELAY:8e3,upload:function upload(){var r=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.validate(a);var l=a.activity,S=a.extension,O=a.file,T=a.assetPath,j=a.mimeType,D=l.get("security"),q={extension:S,file:O,assetPath:T,mimeType:j};return new E.default((function(a,l){var S={security:D.getRequestParameters(),data:q,success:function success(){r.removeFromQueue(S),r.resumeQueue(),a(q)},failure:function failure(a){r.removeFromQueue(S),r.resumeQueue(),l(a)}};r.addToQueue(S)}))},validate:function validate(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!r.file)throw new Error("FileUpload missing file");if(!O.a.isObject(r.activity))throw new Error("FileUpload missing activity");if(!O.a.isString(r.responseId))throw new Error("FileUpload missing responseId");if(!O.a.isString(r.extension))throw new Error("FileUpload missing file extension")},addToQueue:function addToQueue(r){if(this.getQueueItem(r.data.assetPath))throw new Error("Attempting to add duplicate assetPath to upload queue: ".concat(r.data.assetPath));Z.push({config:r,isProcessing:!1,attempts:0}),this.processQueue()},abort:function abort(r){var a=this.getQueueItem(r);if(a){var l=a.config.s3Upload;l&&l.abort(),this.removeFromQueue(a),a.isProcessing&&this.resumeQueue()}},removeFromQueue:function removeFromQueue(r){clearTimeout(r.retryTimeoutId),Z=O.a.filter(Z,(function(a){return r.data.assetPath!==a.config.data.assetPath}))},resumeQueue:function resumeQueue(){G=!1,this.processQueue()},processQueue:function processQueue(){if(!G){var r=O()(Z).find((function(r){return!r.isProcessing}));r&&this.processQueueItem(r)}},processQueueItem:function processQueueItem(r){var a=this,l=r.config,S=l.data,E=S.assetPath,j=S.mimeType;O.a.contains(Z,r)&&(G=!0,r.isProcessing=!0,r.attempts++,T.a.request({url:"/asset/uploadform",security:l.security,action:T.a.ACTION.GET,data:{assetPath:E,mimeType:j},success:function success(l){a.handleTokenSuccess(r,l)},failure:function failure(){a.handleFailure(r)}}))},handleTokenSuccess:function handleTokenSuccess(r,a){var l=this,S=r.config;if(O.a.contains(Z,r)){var E=new j;O.a.getNested(a,"response.data")?E.request({formAttributes:a.response.data.formAttributes,formInputs:a.response.data.formInputs,data:S,onSendStart:function onSendStart(r){S.s3Upload=r}}).then((function(){S.success()})).catch((function(){l.handleFailure(r)})):this.handleFailure(r)}},handleFailure:function handleFailure(r){var a=this;r.attempts<this.MAX_ATTEMPTS?(clearTimeout(r.retryTimeoutId),r.retryTimeoutId=setTimeout((function(){return a.processQueueItem(r)}),this.RETRY_DELAY)):r.config.failure.call(null,"Could not upload after ".concat(this.MAX_ATTEMPTS," attempts"))},isSafeToUnload:function isSafeToUnload(){var r=O.a.find(Z,(function(r){return r.isProcessing}));return!G&&!r},isAssetPathInQueue:function isAssetPathInQueue(r){return O.a.some(Z,(function(a){return a.config.data.assetPath===r}))},getQueueItem:function getQueueItem(r){return O()(Z).find((function(a){return r===a.config.data.assetPath}))},getUploadStatus:function getUploadStatus(){var r=0,a=0;return O.a.each(B,(function(l){l.each((function(l){a+=l.get("size"),l.get("hasUploaded")&&(r+=l.get("size"))}))})),Z.forEach((function(a){var l=a.config.s3Upload;l&&(r+=l.getUploadedBytes())})),{uploadComplete:this.isSafeToUnload(),totalBytes:a,bytesUploaded:r}},hookToActivity:function hookToActivity(r,a){O.a.contains(B,a)||B.push(a),O.a.isEmpty(r)||O.a.contains(q,r)||(r.hooks.unload.push(this.isSafeToUnload),r.hooks.saveProgress.push(O.a.bind(this.getUploadStatus,this)),q.push(r))}};a.a=$},,,,function(r,a,l){"use strict";var S=l(0),O=l.n(S),E=["syntax","argument"],T=["stringMatch"];String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),a.a={processSpec:function processSpec(r){var a,l,S;if(O.a.isObject(r)&&"equivSyntax"===r.method)return O.a.isObject(r.options)&&O.a.isString(r.options.syntax)&&""!==r.options.syntax||!r.value?("\\number",S={method:"equivSyntax",value:""},l=r.options.syntax||"\\number",S.value="\\format{"+l,O.a.isNumber(r.options.argument)&&(S.value+="{"+r.options.argument+"}"),S.value+="}",O.a.isBoolean(r.options.ignoreText)&&(S.options={ignoreText:r.options.ignoreText}),S):r;for(a=0;a<E.length;a++)O.a.isObject(r.options)&&!O.a.isUndefined(r.options[E[a]])&&delete r.options[E[a]];return r},useMathCore:function useMathCore(r){return!(O.a.isObject(r)&&-1!==O.a.indexOf(T,r.method))},validate:function validate(r,a){var l,S,E,T,j,D={errorCode:0,location:void 0,message:"Normal completion",result:!1};return O.a.isObject(r)&&O.a.isString(a)&&"stringMatch"===r.method&&O.a.isString(r.value)&&(l=r.value.replace(/\\\s/g," "),S=a.replace(/\\\s/g," "),T=!O.a.isObject(r.options)||O.a.isObject(r.options)&&!1!==r.options.ignoreLeadingAndTrailingSpaces,j=!O.a.isObject(r.options)||O.a.isObject(r.options)&&!1!==r.options.treatMultipleSpacesAsOne,E=O.a.isObject(r.options)&&!0===r.options.inverseResult,T&&(l=l.trim(),S=S.trim()),j&&(l=l.replace(/\s+/g," "),S=S.replace(/\s+/g," ")),D.result=l===S,E&&(D.result=!D.result)),D}}},function(r,a,l){"use strict";l.d(a,"a",(function(){return applySelectiveFontBoost}));var S=l(245),O=l.n(S);function applySelectiveFontBoost(r,a){r&&!a&&O.a.isWindows&&[].slice.call(r.querySelectorAll(".mq-math-mode span")).filter((function(r){return"−"===r.textContent})).forEach((function(r){r.style.fontSize="120%"}))}},function(r,a,l){"use strict";l(5);var S=l(0),O=l.n(S),E=l(17),T=l.n(E),j=l(51),D=l(244),q=l.n(D),B=l(137);function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function _classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function _setPrototypeOf(r,a){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,a){return r.__proto__=a,r})(r,a)}function _createSuper(r){var a=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function _createSuperInternal(){var l,S=_getPrototypeOf(r);if(a){var O=_getPrototypeOf(this).constructor;l=Reflect.construct(S,arguments,O)}else l=S.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _possibleConstructorReturn(r,a){return!a||"object"!==_typeof(a)&&"function"!=typeof a?function _assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(r):a}function _getPrototypeOf(r){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}var G=function(r){!function _inherits(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&_setPrototypeOf(r,a)}(ClozeAssociationScorer,r);var a=_createSuper(ClozeAssociationScorer);function ClozeAssociationScorer(){return _classCallCheck(this,ClozeAssociationScorer),a.apply(this,arguments)}return function _createClass(r,a,l){return a&&_defineProperties(r.prototype,a),l&&_defineProperties(r,l),r}(ClozeAssociationScorer,[{key:"flags",get:function get(){return{stripWhiteSpaceForMath:!1}}}]),ClozeAssociationScorer}(B.a);function clozeinlinetext_scoring_typeof(r){return(clozeinlinetext_scoring_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function clozeinlinetext_scoring_classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function clozeinlinetext_scoring_defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function clozeinlinetext_scoring_setPrototypeOf(r,a){return(clozeinlinetext_scoring_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,a){return r.__proto__=a,r})(r,a)}function clozeinlinetext_scoring_createSuper(r){var a=function clozeinlinetext_scoring_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function _createSuperInternal(){var l,S=clozeinlinetext_scoring_getPrototypeOf(r);if(a){var O=clozeinlinetext_scoring_getPrototypeOf(this).constructor;l=Reflect.construct(S,arguments,O)}else l=S.apply(this,arguments);return clozeinlinetext_scoring_possibleConstructorReturn(this,l)}}function clozeinlinetext_scoring_possibleConstructorReturn(r,a){return!a||"object"!==clozeinlinetext_scoring_typeof(a)&&"function"!=typeof a?function clozeinlinetext_scoring_assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(r):a}function clozeinlinetext_scoring_getPrototypeOf(r){return(clozeinlinetext_scoring_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}var Z=function(r){!function clozeinlinetext_scoring_inherits(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&clozeinlinetext_scoring_setPrototypeOf(r,a)}(ClozeInlinetextScorer,r);var a=clozeinlinetext_scoring_createSuper(ClozeInlinetextScorer);function ClozeInlinetextScorer(){return clozeinlinetext_scoring_classCallCheck(this,ClozeInlinetextScorer),a.apply(this,arguments)}return function clozeinlinetext_scoring_createClass(r,a,l){return a&&clozeinlinetext_scoring_defineProperties(r.prototype,a),l&&clozeinlinetext_scoring_defineProperties(r,l),r}(ClozeInlinetextScorer,[{key:"flags",get:function get(){return{stripWhiteSpaceForMath:!0}}}]),ClozeInlinetextScorer}(B.a);function clozedropdown_scoring_typeof(r){return(clozedropdown_scoring_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function clozedropdown_scoring_classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function clozedropdown_scoring_defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function clozedropdown_scoring_setPrototypeOf(r,a){return(clozedropdown_scoring_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,a){return r.__proto__=a,r})(r,a)}function clozedropdown_scoring_createSuper(r){var a=function clozedropdown_scoring_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function _createSuperInternal(){var l,S=clozedropdown_scoring_getPrototypeOf(r);if(a){var O=clozedropdown_scoring_getPrototypeOf(this).constructor;l=Reflect.construct(S,arguments,O)}else l=S.apply(this,arguments);return clozedropdown_scoring_possibleConstructorReturn(this,l)}}function clozedropdown_scoring_possibleConstructorReturn(r,a){return!a||"object"!==clozedropdown_scoring_typeof(a)&&"function"!=typeof a?function clozedropdown_scoring_assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(r):a}function clozedropdown_scoring_getPrototypeOf(r){return(clozedropdown_scoring_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}var $=function(r){!function clozedropdown_scoring_inherits(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&clozedropdown_scoring_setPrototypeOf(r,a)}(ClozeDropdownScorer,r);var a=clozedropdown_scoring_createSuper(ClozeDropdownScorer);function ClozeDropdownScorer(){return clozedropdown_scoring_classCallCheck(this,ClozeDropdownScorer),a.apply(this,arguments)}return function clozedropdown_scoring_createClass(r,a,l){return a&&clozedropdown_scoring_defineProperties(r.prototype,a),l&&clozedropdown_scoring_defineProperties(r,l),r}(ClozeDropdownScorer,[{key:"flags",get:function get(){return{stripWhiteSpaceForMath:!1,strictEquality:!0,trimWhiteSpace:!0}}}]),ClozeDropdownScorer}(B.a);function clozetext_scoring_typeof(r){return(clozetext_scoring_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function clozetext_scoring_classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function clozetext_scoring_defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function clozetext_scoring_setPrototypeOf(r,a){return(clozetext_scoring_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,a){return r.__proto__=a,r})(r,a)}function clozetext_scoring_createSuper(r){var a=function clozetext_scoring_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function _createSuperInternal(){var l,S=clozetext_scoring_getPrototypeOf(r);if(a){var O=clozetext_scoring_getPrototypeOf(this).constructor;l=Reflect.construct(S,arguments,O)}else l=S.apply(this,arguments);return clozetext_scoring_possibleConstructorReturn(this,l)}}function clozetext_scoring_possibleConstructorReturn(r,a){return!a||"object"!==clozetext_scoring_typeof(a)&&"function"!=typeof a?function clozetext_scoring_assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(r):a}function clozetext_scoring_getPrototypeOf(r){return(clozetext_scoring_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}var Q=function(r){!function clozetext_scoring_inherits(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&clozetext_scoring_setPrototypeOf(r,a)}(ClozeTextScorer,r);var a=clozetext_scoring_createSuper(ClozeTextScorer);function ClozeTextScorer(){return clozetext_scoring_classCallCheck(this,ClozeTextScorer),a.apply(this,arguments)}return function clozetext_scoring_createClass(r,a,l){return a&&clozetext_scoring_defineProperties(r.prototype,a),l&&clozetext_scoring_defineProperties(r,l),r}(ClozeTextScorer,[{key:"flags",get:function get(){return{stripWhiteSpaceForMath:!0}}}]),ClozeTextScorer}(B.a);function imageclozeassociation_scoring_typeof(r){return(imageclozeassociation_scoring_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function imageclozeassociation_scoring_classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function imageclozeassociation_scoring_defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function imageclozeassociation_scoring_setPrototypeOf(r,a){return(imageclozeassociation_scoring_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,a){return r.__proto__=a,r})(r,a)}function imageclozeassociation_scoring_createSuper(r){var a=function imageclozeassociation_scoring_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function _createSuperInternal(){var l,S=imageclozeassociation_scoring_getPrototypeOf(r);if(a){var O=imageclozeassociation_scoring_getPrototypeOf(this).constructor;l=Reflect.construct(S,arguments,O)}else l=S.apply(this,arguments);return imageclozeassociation_scoring_possibleConstructorReturn(this,l)}}function imageclozeassociation_scoring_possibleConstructorReturn(r,a){return!a||"object"!==imageclozeassociation_scoring_typeof(a)&&"function"!=typeof a?function imageclozeassociation_scoring_assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(r):a}function imageclozeassociation_scoring_getPrototypeOf(r){return(imageclozeassociation_scoring_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}var ee=function(r){!function imageclozeassociation_scoring_inherits(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&imageclozeassociation_scoring_setPrototypeOf(r,a)}(ImageClozeAssociationScorer,r);var a=imageclozeassociation_scoring_createSuper(ImageClozeAssociationScorer);function ImageClozeAssociationScorer(){return imageclozeassociation_scoring_classCallCheck(this,ImageClozeAssociationScorer),a.apply(this,arguments)}return function imageclozeassociation_scoring_createClass(r,a,l){return a&&imageclozeassociation_scoring_defineProperties(r.prototype,a),l&&imageclozeassociation_scoring_defineProperties(r,l),r}(ImageClozeAssociationScorer,[{key:"flags",get:function get(){return{stripWhiteSpaceForMath:!1}}}]),ImageClozeAssociationScorer}(B.a);function imageclozedropdown_scoring_typeof(r){return(imageclozedropdown_scoring_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function imageclozedropdown_scoring_classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function imageclozedropdown_scoring_defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function imageclozedropdown_scoring_setPrototypeOf(r,a){return(imageclozedropdown_scoring_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,a){return r.__proto__=a,r})(r,a)}function imageclozedropdown_scoring_createSuper(r){var a=function imageclozedropdown_scoring_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function _createSuperInternal(){var l,S=imageclozedropdown_scoring_getPrototypeOf(r);if(a){var O=imageclozedropdown_scoring_getPrototypeOf(this).constructor;l=Reflect.construct(S,arguments,O)}else l=S.apply(this,arguments);return imageclozedropdown_scoring_possibleConstructorReturn(this,l)}}function imageclozedropdown_scoring_possibleConstructorReturn(r,a){return!a||"object"!==imageclozedropdown_scoring_typeof(a)&&"function"!=typeof a?function imageclozedropdown_scoring_assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(r):a}function imageclozedropdown_scoring_getPrototypeOf(r){return(imageclozedropdown_scoring_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}var te=function(r){!function imageclozedropdown_scoring_inherits(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&imageclozedropdown_scoring_setPrototypeOf(r,a)}(ImageClozeDropdownScorer,r);var a=imageclozedropdown_scoring_createSuper(ImageClozeDropdownScorer);function ImageClozeDropdownScorer(){return imageclozedropdown_scoring_classCallCheck(this,ImageClozeDropdownScorer),a.apply(this,arguments)}return function imageclozedropdown_scoring_createClass(r,a,l){return a&&imageclozedropdown_scoring_defineProperties(r.prototype,a),l&&imageclozedropdown_scoring_defineProperties(r,l),r}(ImageClozeDropdownScorer,[{key:"flags",get:function get(){return{stripWhiteSpaceForMath:!1}}}]),ImageClozeDropdownScorer}(B.a);function imageclozetext_scoring_typeof(r){return(imageclozetext_scoring_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function imageclozetext_scoring_classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function imageclozetext_scoring_defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function imageclozetext_scoring_setPrototypeOf(r,a){return(imageclozetext_scoring_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,a){return r.__proto__=a,r})(r,a)}function imageclozetext_scoring_createSuper(r){var a=function imageclozetext_scoring_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function _createSuperInternal(){var l,S=imageclozetext_scoring_getPrototypeOf(r);if(a){var O=imageclozetext_scoring_getPrototypeOf(this).constructor;l=Reflect.construct(S,arguments,O)}else l=S.apply(this,arguments);return imageclozetext_scoring_possibleConstructorReturn(this,l)}}function imageclozetext_scoring_possibleConstructorReturn(r,a){return!a||"object"!==imageclozetext_scoring_typeof(a)&&"function"!=typeof a?function imageclozetext_scoring_assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(r):a}function imageclozetext_scoring_getPrototypeOf(r){return(imageclozetext_scoring_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}var ne=function(r){!function imageclozetext_scoring_inherits(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&imageclozetext_scoring_setPrototypeOf(r,a)}(ImageClozeTextScorer,r);var a=imageclozetext_scoring_createSuper(ImageClozeTextScorer);function ImageClozeTextScorer(){return imageclozetext_scoring_classCallCheck(this,ImageClozeTextScorer),a.apply(this,arguments)}return function imageclozetext_scoring_createClass(r,a,l){return a&&imageclozetext_scoring_defineProperties(r.prototype,a),l&&imageclozetext_scoring_defineProperties(r,l),r}(ImageClozeTextScorer,[{key:"flags",get:function get(){return{stripWhiteSpaceForMath:!1}}}]),ImageClozeTextScorer}(B.a),re=l(4),oe=l(158);a.a=j.a.extend({imageTemplate:q.a,RESPONSE_MARKER_REGEXP:"{{response}}",initialize:function initialize(){j.a.prototype.initialize.apply(this,arguments),this.updateValidationObject()},validateStartup:function validateStartup(){j.a.prototype.validateStartup.call(this),this.get("question").template&&(this.get("question").template=T.a.sanitizeHTML(this.get("question").template))},processResponseValue:function processResponseValue(r){this.hasResponse()||this.set({response:{value:[],type:this.RESPONSE_TYPE.ARRAY}},{silent:!0}),this.get("response").value=r},isDefaultValidResponseValue:function isDefaultValidResponseValue(r){return 0===O.a.filter(r,(function(r){return r||0===r})).length},getScorerClass:function getScorerClass(){var r,a=this.TYPE;switch(this.get("type")){case a.CLOZETEXT:r=Q;break;case a.CLOZEASSOCIATION:r=G;break;case a.CLOZEDROPDOWN:r=$;break;case a.CLOZEINLINETEXT:r=Z;break;case a.IMAGECLOZEASSOCIATION:r=ee;break;case a.IMAGECLOZEDROPDOWN:r=te;break;case a.IMAGECLOZETEXT:r=ne}return r},validateResponse:function validateResponse(){var r=this.getScorer(),a=r.error();if(!a)return r.validateIndividualResponses();if("MathQuestionException"!==a.name)throw a;"user"!==a.location&&re.a.exception({code:10019,detail:a.message,i18n:this.activity.get("i18n")})},isImageCloze:function isImageCloze(){var r=this.TYPE;return O.a.include([r.IMAGECLOZETEXT,r.IMAGECLOZEASSOCIATION,r.IMAGECLOZEDROPDOWN,r.IMAGECLOZEFORMULA,r.IMAGECLOZECHEMISTRY],this.get("type"))},getDynamicShuffleSeed:function getDynamicShuffleSeed(){return new oe.a(this).getDynamicSeed()},getContentTemplate:function getContentTemplate(){if(this.isImageCloze()){var r=q.a,a=this.get("question"),l={img_alt:!!a.img_alt&&a.img_alt,img_title:!!a.img_title&&a.img_title,img_src:a.img_src,response_positions:a.response_positions,response_container:a.response_container,padding:!!a.padding&&a.padding,question_type:this.get("type")};return a.image&&(a.image.src&&(l.img_src=a.image.src),a.image.alt&&(l.img_alt=a.image.alt),a.image.title&&(l.img_title=a.image.title)),r({displayLogic:l})}return this.get("question").template},getImageClozeAriaLabels:function getImageClozeAriaLabels(){if(this.isImageCloze())return O.a.isUndefined(this._ariaLabels)&&(this._ariaLabels=O.a.map(this.get("question").aria_labels,(function(r){return O.a.escape(r)}))),this._ariaLabels},updateValidationObject:function updateValidationObject(){var r=this.get("question");if(r.hasOwnProperty("valid_responses")){var a,l,S,E=[],T=[],j=!0;O.a.each(r.valid_responses,(function(r,D){E[D]=[],T[D]=[],O.a.each(r,(function(r,q){l=O.a.isUndefined(r.value)?null:r.value,null!==(S=O.a.isUndefined(r.score)?null:r.score)&&(S=parseInt(S,10)),E[D].push(l),T[D].push(S),O.a.isUndefined(a)?a=S:j&=a===S}))})),delete r.valid_responses,r.validation={valid_responses:E},a=j?a:T,O.a.isNull(a)||(r.validation.valid_score=a),this.set({question:r},{silent:!0}),this.trackEvent("Updated pre v1.24.0 question object.")}},getCorrectByIndex:function getCorrectByIndex(r){if(this.canValidateResponse())return this.getValidResponse().value[r]},isVerticalTopContainer:function isVerticalTopContainer(){return O.a.isUndefined(this._verticalTop)&&(this._verticalTop=!!this.isImageCloze()&&!!O.a.getNested(this.get("question"),"response_container.vertical_top")),this._verticalTop},getIgnoreLeadingAndTrailingSpaces:function getIgnoreLeadingAndTrailingSpaces(){var r=this.get("question").ignore_leading_and_trailing_spaces;return!O.a.isBoolean(r)||r}})},,,,,function(r,a,l){(function(a){var check=function(r){return r&&r.Math==Math&&r};r.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof a&&a)||Function("return this")()}).call(this,l(37))},function(r,a){r.exports=function(r){try{return!!r()}catch(r){return!0}}},,,function(r,a,l){"use strict";l.d(a,"a",(function(){return trapFocus}));var S=l(0),O=l.n(S),E=l(1),T=l.n(E),j=l(7),D=["a[href]",'input:not([disabled]):not([tabindex="-1"])','select:not([disabled]):not([tabindex="-1"])','textarea:not([disabled]):not([tabindex="-1"])','button:not([disabled]):not([tabindex="-1"])','[tabindex]:not([tabindex="-1"])',"[contenteditable]","area[href]","iframe","object","embed"].join();function trapFocus(r,a){var l=document.activeElement,S=T()(r).find(D).filter(":visible"),E=O.a.first(S),q=O.a.last(S);if(S.length){var B=function handler(r){9===r.keyCode&&(r.shiftKey?document.activeElement===E&&(r.preventDefault(),q.focus()):document.activeElement===q&&(r.preventDefault(),E.focus()))};return(a&&O.a.isFunction(a.focus)?a:E).focus(),r.addEventListener("keydown",B),r.setAttribute("role","dialog"),j.a.isSafari||r.setAttribute("aria-modal","true"),function restore(a){r.removeEventListener("keydown",B),r.removeAttribute("role"),r.removeAttribute("aria-modal"),(a&&O.a.isFunction(a.focus)?a:l).focus()}}}},,,,,,,,,,,,,,,function(r,a,l){"use strict";var S=l(0),O=l.n(S),E=l(5),T=l.n(E),j=l(207);a.a=T.a.Collection.extend({model:j.a,comparator:"name",ATTRS_FOR_RESPONSE:["name","description","originalName","extension","size","assetPath","assetProcessedPath"],getResponseValueFormat:function getResponseValueFormat(){var r=this,a=this.where({hasUploaded:!0});return O()(a).map((function(a){return a.pick(r.ATTRS_FOR_RESPONSE)}))}})},function(r,a){r.exports=function(r){return"object"==typeof r?null!==r:"function"==typeof r}},function(r,a){var l={}.hasOwnProperty;r.exports=function(r,a){return l.call(r,a)}},function(r,a,l){var S=l(277);r.exports=function(r){return S[r+"Prototype"]}},function(r,a,l){r.exports=l(570)},function(module,exports,__webpack_require__){var _=__webpack_require__(0);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="lrn_imagecloze_container"'+(null==(__t=displayLogic.padding?' style="padding: '+displayLogic.padding+'px"':"")?"":__t)+' ><img draggable="false"',displayLogic.img_alt&&(__p+='alt="'+(null==(__t=displayLogic.img_alt)?"":_.escape(__t))+'"'),__p+="",displayLogic.img_title&&(__p+='title="'+(null==(__t=displayLogic.img_title)?"":_.escape(__t))+'"'),__p+='class="lrn_imagecloze_image"src="'+(null==(__t=displayLogic.img_src)?"":_.escape(__t))+'">',_.each(displayLogic.response_positions,(function(r){__p+='<div class="lrn_imagecloze_response" style="left:'+(null==(__t=r.x)?"":__t)+"%;top:"+(null==(__t=r.y)?"":__t)+"%;",displayLogic.response_container&&"imageclozeassociation"===displayLogic.question_type&&(__p+="",displayLogic.response_container.hasOwnProperty("height")&&(__p+="height:"+(null==(__t=displayLogic.response_container.height)?"":__t)+";"),__p+=""),__p+='">{{response}}</div>'})),__p+="</div>";return __p}},function(r,a,l){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var S=navigator.userAgent.toLowerCase(),O=S.match(/(opera|ie|edge|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],E=O[1],T=parseInt(O[2],10),j="ie"===E&&T<8&&/trident/i.test(S),D=!!S.match(/android|webos|iphone|ipad|ipod|blackBerry|windows phone|opera mini|iemobile/i),q=!!S.match(/applewebkit/),B=/^((?!android|chrome).)*safari/i.test(navigator.userAgent),G=!(!window.chrome||!window.chrome.runtime||"[object Function]"!==Object.prototype.toString.call(window.chrome.runtime.getManifest)),Z=!!navigator.platform&&["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].indexOf(navigator.platform)>=0,$=S.match(/(iPad)/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;S.match(/trident.*rv[ :]*11\./)&&(E="ie",T=11),S.match(/edge/)&&(E="edge"),"version"===E&&(E=O[3]);var Q={browser:E,version:T,compatibilityMode:j,isMobile:D,isChromeApp:G,isAppleWebKit:q,isValidDOCTYPE:function isValidDOCTYPE(r){return!(!r||!r.doctype||"html"!==r.doctype.name)},isIOS:Z,isIPad:$,isMicrosoft:"ie"===E||"edge"===E,isWindows:!(!window.navigator||!window.navigator.platform)&&["Windows","Win32","Win64","WinCE"].indexOf(window.navigator.platform)>-1,isSafari:B};a.default=Q},,,,,,,function(r,a,l){"use strict";var S=l(0),O=l.n(S),E=l(209),T=l(207),j=l(239),D=l(199),q=l(276);function ownKeys(r,a){var l=Object.keys(r);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(r);a&&(S=S.filter((function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),l.push.apply(l,S)}return l}function _objectSpread(r){for(var a=1;a<arguments.length;a++){var l=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(l),!0).forEach((function(a){_defineProperty(r,a,l[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(l)):ownKeys(Object(l)).forEach((function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(l,a))}))}return r}function _defineProperty(r,a,l){return a in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,r}var B=-90,G=-180,Z=-270;function getImageConversionOrientation(r){return r===B?8:r===G?3:r===Z?6:void 0}function ImageUploader(r){this.activity=r.activity,this.modelId=r.modelId,this.responseId=r.responseId,this.eventBus=r.eventBus,this.compression=r.compression,this.assets=new j.a,E.a.hookToActivity(this.activity,this.assets)}O.a.extend(ImageUploader.prototype,{compressImage:function compressImage(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a=O.a.extend(this.compression,a);var l=.001*Math.min(r.size,a.size),S=parseInt(l-Math.max(.1*l,1),10),E=_objectSpread(_objectSpread({},a),{},{size:Math.abs(S),orientation:getImageConversionOrientation(a.rotation)});return delete E.rotation,q.compressAccurately(r,E).then((function(a){return a.name=r.name,a.lastModified=r.lastModified,a.lastModifiedDate=r.lastModifiedDate,a}))},upload:function upload(r){var a=D.a.createFullPath(this.activity,this.modelId,r.name,!0),l=D.a.getValidExtension(r.name),S=D.a.getMimeTypeByExtension(l);return this.assets.add({file:r},{assetPath:a,assetExtension:l,assetMimeType:S,activity:this.activity,responseId:this.responseId,eventBus:this.eventBus,securityObject:this.getSecurityObject()})},resume:function resume(r){return this.assets.add({assetPath:r},{securityObject:this.getSecurityObject()})},getSecurityObject:function getSecurityObject(){return this.activity.get("security").getRequestParameters()},currentUploadsCount:function currentUploadsCount(){return this.assets.where({status:T.a.prototype.UPLOAD_STATUS.uploading}).length}}),a.a=ImageUploader},function(r,a,l){"use strict";a.a={encode:function base64_encode(r){var a,l,S,O,E,T,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",D=0,q=0,B="",G=[];if(!r)return r;do{a=(E=r.charCodeAt(D++)<<16|r.charCodeAt(D++)<<8|r.charCodeAt(D++))>>18&63,l=E>>12&63,S=E>>6&63,O=63&E,G[q++]=j.charAt(a)+j.charAt(l)+j.charAt(S)+j.charAt(O)}while(D<r.length);return B=G.join(""),((T=r.length%3)?B.slice(0,T-3):B)+"===".slice(T||3)},decode:function base64_decode(r){var a,l,S,O,E,T,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",D=0,q=0,B=[];if(!r)return r;r+="";do{a=(T=j.indexOf(r.charAt(D++))<<18|j.indexOf(r.charAt(D++))<<12|(O=j.indexOf(r.charAt(D++)))<<6|(E=j.indexOf(r.charAt(D++))))>>16&255,l=T>>8&255,S=255&T,B[q++]=64===O?String.fromCharCode(a):64===E?String.fromCharCode(a,l):String.fromCharCode(a,l,S)}while(D<r.length);return B.join("")}}},function(r,a,l){var S=l(221);r.exports=!S((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(r,a,l){var S=l(254),O=l(334),E=l(354);r.exports=S?function(r,a,l){return O.f(r,a,E(1,l))}:function(r,a,l){return r[a]=l,r}},function(r,a,l){r.exports=l(588)},function(r,a,l){r.exports=l(607)},,function(r,a,l){"use strict";l.d(a,"a",(function(){return mathAccessibility}));var S=l(0),O=l.n(S);function mathAccessibility(r,a){r.processAccessibility=O.a.wrap(r.processAccessibility,(function(a,l){(l=l||{}).getSourceText=function(r){return r.find(".lrn-spokenmath").text()},a.call(r,l)})),r.activity.get("state")===r.activity.STATE.REVIEW&&(r.processAccessibility=O.a.wrap(r.processAccessibility,(function(l,S){var E=a(),T=0;O.a.each(E,(function(a){var O=a.mathEvents;r.listenToOnce(O,O.EVENT.EDITOR_SPOKENMATH_UPDATED,(function(){++T===E.length&&l.call(r,S)}))}))})))}},,function(r,a,l){"use strict";var S=l(1),O=l.n(S),E=l(0),T=l.n(E),j=l(52),D=l(348),q=l.n(D),B=l(260),G=l.n(B),Z=l(11),$=l(24),Q=(l(7),j.a.extend({template:q.a,responseMarkerRegExp:void 0,responseValue:[],showingValidationUI:!1,previousResponseValue:[],readOnly:!1,validGap:11,pointLeftRightGap:1.4,pointerWidth:20,pointerTopBottomHeight:25,pointerLeftRightHeight:36,pointerHeight:"10px",RESPONSE_CONTAINER_DEFAULT_DATA:{defaultData:{bottom:"0px",width:"96px",height:"2.3em"},imageclozeassociation:{width:"20px"},imageclozedropdown:{width:"50px"}},responseContainerDefaultInputType:"text",responseContainerInputTypes:["text","number"],incorrectAnswerBubbleTemplate:G.a,initialize:function initialize(){var r,a;j.a.prototype.initialize.call(this),this.jqNamespace=".lrn-cloze-".concat(this.cid),this.events=T.a.extend({},Q.prototype.events,this.events),this.activity=this.options.activity,this.i18n=this.activity.get("i18n"),this.responseMarkerRegExp=new RegExp(this.model.RESPONSE_MARKER_REGEXP,"g"),r=this.model.getContentTemplate().match(this.responseMarkerRegExp),this.responseValue=[],this.responseValue.length=r?r.length:0;for(var l=0;l<this.responseValue.length;l++)this.responseValue[l]=null;this.activity.get("state")===this.activity.STATE.RESUME&&this.model.hasResponse()&&(this.responseValue=this.model.getResponseValue()||[]),this.responseContainerDefaultData=T.a.extend({},this.RESPONSE_CONTAINER_DEFAULT_DATA.defaultData),(a=this.RESPONSE_CONTAINER_DEFAULT_DATA[this.model.get("type")])&&T.a.extend(this.responseContainerDefaultData,a),this.readOnly=this.activity.get("state")===this.activity.STATE.REVIEW||this.activity.get("state")===this.activity.STATE.PREVIEW,this.displayLogic={},this.addRenderingLogic(),this.render(),this.initialisationCompleted()},render:function render(r){var a,l=this.model,S=this,E=l.get("question"),j=l.isVerticalTopContainer();function resizeImage(){var r=function setWidth(){return Object($.a)(S.$el,(function(){S.setImageWidth()}))};r(),S.isListeningToWindowResize||(O()(window).on("resize"+S.jqNamespace,r),S.isListeningToWindowResize=!0)}function resizeImageOnLoad(){var r=S.$(".lrn_imagecloze_image");r.prop("complete")?resizeImage():r.on("load",resizeImage)}return a=r||this.template({questionResponse:l,displayLogic:this.displayLogic,labels:this.i18n.labels}),this.renderViewContent(a,this.extraClasses),this.displayLogic.isReviewState&&this.renderValidatableUI(),this.$el.toggleClass("lrn_cloze_vertical_top_none",!j),this.displayLogic.isMath&&l.isImageCloze()&&T.a.hasProperty(E,"ui_style.possibility_list_position")&&("left"===E.ui_style.possibility_list_position||"right"===E.ui_style.possibility_list_position)?this.mathquillRendering()?(this.renderMathquill(),resizeImageOnLoad()):Z.a.once(Z.a.EVENT.RENDERED,resizeImageOnLoad):resizeImageOnLoad(),this},setImageWidth:function setImageWidth(){var r=this.$(".lrn_imagecloze_image"),a=this.$(".lrn_possibilityList"),l=this.$(".lrn_imagecloze_container"),S=this.$(".lrn_cloze_response_container"),O=this.$(".lrn_response_input"),E=this.$(".lrn_response_innerbody");S.add(E).add(l).add(r).css({maxWidth:"",width:""});var j,D,q,B,G,Z,$=2*parseFloat(O.css("padding-left"),10)||0,Q=E.innerWidth(),ee=a.length,te=this.getScaledWidth(r.width());return r.css({width:te}),S.css({"max-width":Q,display:"block"}),ee&&(D=a.css("position"),a.css("position","absolute"),q=this.model.get("question"),Z=T.a.hasProperty(q,"ui_style.possibility_list_position")&&("left"===q.ui_style.possibility_list_position||"right"===q.ui_style.possibility_list_position),j=this.$(".lrn_response_innerbody"),B=O.outerWidth(),G=0,a.css("position",D),Z&&(G=a.outerWidth()),S.css({width:this.getScaledWidth(B+G+$)}),j.css({"max-width":Q,width:this.getScaledWidth(B+G+$)})),l.css({width:r.width()}),te},getScaledWidth:function getScaledWidth(r){return this.displayLogic.imageScale?r/this.model.FONTSIZE_MAP[this.model.FONTSIZE.NORMAL]+"em":r},addRenderingLogic:function addRenderingLogic(){j.a.prototype.addRenderingLogic.call(this);var r=this,a=this.model.get("question"),l=this.activity.get("state")===this.activity.STATE.REVIEW;this.displayLogic.readOnly=l||this.activity.get("state")===this.activity.STATE.PREVIEW,this.displayLogic.multipleResponses=this.responseValue&&this.responseValue.length>1,this.displayLogic.isMath=!!a.is_math,T.a.isObject(this.displayLogic.responseContainer)||(this.displayLogic.responseContainer={}),this.displayLogic.responseContainer.inputType=this.responseContainerDefaultInputType,T.a.isObject(a.response_container)&&(a.response_container.hasOwnProperty("width")&&(this.displayLogic.responseContainer.width=a.response_container.width,a.response_container.width.indexOf("%")>0&&(this.displayLogic.responseContainer.fluid_width=!0)),a.response_container.hasOwnProperty("height")&&(this.displayLogic.responseContainer.height=a.response_container.height,a.response_container.height.indexOf("%")>0&&(this.displayLogic.responseContainer.fluid_height=!0)),a.response_container.hasOwnProperty("placeholder")&&(this.displayLogic.responseContainer.placeholder=a.response_container.placeholder,this.displayLogic.responseContainer.showPlaceholder=!T.a.isEmpty(a.response_container.placeholder)&&!this.displayLogic.readOnly),a.response_container.hasOwnProperty("pointer")&&(this.displayLogic.responseContainer.pointer=a.response_container.pointer),a.response_container.hasOwnProperty("wordwrap")&&(this.displayLogic.responseContainer.wordwrap=a.response_container.wordwrap),T.a.contains(this.responseContainerInputTypes,a.response_container.input_type)&&(this.displayLogic.responseContainer.inputType=a.response_container.input_type)),a.image&&(this.displayLogic.imageScale=a.image.scale),this.extraClasses="lrn_cloze";var S=this.model.getContentTemplate(),O=-1;S=S.replace(this.responseMarkerRegExp,(function(){return O++,r.getResponseInputHTML(O,r.getPointerVars(O))})),this.displayLogic.processedTemplate=S,this.displayLogic.extraContentHTML=this.getExtraContentHTML()},getResponseInputHTML:function getResponseInputHTML(r){return"{replacedInput"+r+"}"},getExtraContentHTML:function getExtraContentHTML(){return null},showCorrectAnswer:function showCorrectAnswer(){this.showCorrectAnswerList()},showCorrectAnswersHover:function showCorrectAnswersHover(){throw new Error("Unimplemented function showCorrectAnswersHover for question type:"+this.model.get("type"))},getResponseContainerFor:function getResponseContainerFor(r){var a=this.model.get("question"),l=T.a.extend({},this.displayLogic.responseContainer);return T.a.isArray(a.response_containers)&&T.a.isObject(a.response_containers[r])&&(T.a.extend(l,a.response_containers[r]),T.a.contains(this.responseContainerInputTypes,a.response_containers[r].input_type)&&(l.inputType=a.response_containers[r].input_type),l.showPlaceholder=!T.a.isEmpty(l.placeholder)&&!this.displayLogic.readOnly),l},getImageClozeAriaLabelFor:function getImageClozeAriaLabelFor(r){var a=this.model.getImageClozeAriaLabels();if(T.a.isArray(a))return a[r]},getPointerVars:function getPointerVars(r){if(!this.model.isImageCloze())return{};var a=this.model.getFontSize(),l=this.getResponseContainerFor(r),S=this.getPixel(l.width||this.responseContainerDefaultData.width,a),O=this.getPixel(l.height||this.responseContainerDefaultData.height,a),E=this.getPixel(l.height||this.responseContainerDefaultData.bottom,a),T=(this.getPixel(this.pointerHeight,a),{position:l.pointer});switch(this.model.get("type")===this.model.TYPE.IMAGECLOZEDROPDOWN&&(this.validGap=0),this.model.get("type")===this.model.TYPE.IMAGECLOZETEXT&&(this.responseContainerDefaultHeight="24px"),l.pointer){case"top":T.top=O/2+this.getPointLeftRightGap()+"px",T.left=this.getEm(-1*(Math.ceil((S-this.pointerWidth)/2)+2));break;case"right":T.right=this.pointerWidth/2+this.getPointLeftRightGap()+"px",T.top=this.getEm(-1*Math.floor((O-this.pointerLeftRightHeight)/2));break;case"bottom":T.bottom=E+this.getPointLeftRightGap()/2+"px",T.left=this.getEm(-1*(Math.ceil((S-this.pointerWidth)/2)+2));break;case"left":T.left=this.pointerWidth*this.pointLeftRightGap+this.getPointLeftRightGap()+"px",T.top=this.getEm(-1*Math.floor((O-this.pointerLeftRightHeight)/2));break;default:T={}}return T},getPointLeftRightGap:function getPointLeftRightGap(){if(!this._pointLeftRightGap){var r=this.model.getFontSize();this._pointLeftRightGap=this.pointLeftRightGap*r}return this._pointLeftRightGap},getPixel:function getPixel(r,a){var l=(r=r.toString()).substr(-2),S=parseFloat(r.substr(0,r.length-2));return"em"===l?S*a:S},getEm:function getEm(r,a,l){var S=r/(l?this.model.FONTSIZE_MAP.normal:this.model.getFontSize());return a?S:S+"em"},remove:function remove(){O()(window).off(this.jqNamespace),j.a.prototype.remove.call(this)}}));a.a=Q},,,,,,,,,,,,,,,function(r,a,l){const S=l(0);r.exports=function(r){var a={};function n(l){if(a[l])return a[l].exports;var S=a[l]={i:l,l:!1,exports:{}};return r[l].call(S.exports,S,S.exports,n),S.l=!0,S.exports}return n.m=r,n.c=a,n.d=function(r,a,l){n.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:l})},n.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,a){if(1&a&&(r=n(r)),8&a)return r;if(4&a&&"object"==typeof r&&r&&r.__esModule)return r;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:r}),2&a&&"string"!=typeof r)for(var S in r)n.d(l,S,function(a){return r[a]}.bind(null,S));return l},n.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(a,"a",a),a},n.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},n.p="",n(n.s=0)}([function(r,a,l){"use strict";var O;function o(r){return["image/png","image/jpeg","image/gif"].some((function(a){return a===r}))}function u(r,a,l){return void 0===a&&(a=.92),void 0===l&&(l=O.JPEG),function(r,a,l,S){return new(l||(l=Promise))((function(O,E){function i(r){try{c(S.next(r))}catch(r){E(r)}}function u(r){try{c(S.throw(r))}catch(r){E(r)}}function c(r){var a;r.done?O(r.value):(a=r.value,a instanceof l?a:new l((function(r){r(a)}))).then(i,u)}c((S=S.apply(r,a||[])).next())}))}(this,void 0,void 0,(function(){return function(r,a){var l,S,O,E,T={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return E={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function u(E){return function(j){return function(E){if(l)throw new TypeError("Generator is already executing.");for(;T;)try{if(l=1,S&&(O=2&E[0]?S.return:E[0]?S.throw||((O=S.return)&&O.call(S),0):S.next)&&!(O=O.call(S,E[1])).done)return O;switch(S=0,O&&(E=[2&E[0],O.value]),E[0]){case 0:case 1:O=E;break;case 4:return T.label++,{value:E[1],done:!1};case 5:T.label++,S=E[1],E=[0];continue;case 7:E=T.ops.pop(),T.trys.pop();continue;default:if(!((O=(O=T.trys).length>0&&O[O.length-1])||6!==E[0]&&2!==E[0])){T=0;continue}if(3===E[0]&&(!O||E[1]>O[0]&&E[1]<O[3])){T.label=E[1];break}if(6===E[0]&&T.label<O[1]){T.label=O[1],O=E;break}if(O&&T.label<O[2]){T.label=O[2],T.ops.push(E);break}O[2]&&T.ops.pop(),T.trys.pop();continue}E=a.call(r,T)}catch(r){E=[6,r],S=0}finally{l=O=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([E,j])}}}(this,(function(S){return o(l)||(l=O.JPEG),[2,r.toDataURL(l,a)]}))}))}function c(r,a,l){return void 0===a&&(a=.92),void 0===l&&(l=O.JPEG),new Promise((function(S){return r.toBlob((function(r){return S(r)}),l,a)}))}function f(r,a){return function(r,a,l,S){return new(l||(l=Promise))((function(O,E){function i(r){try{c(S.next(r))}catch(r){E(r)}}function u(r){try{c(S.throw(r))}catch(r){E(r)}}function c(r){var a;r.done?O(r.value):(a=r.value,a instanceof l?a:new l((function(r){r(a)}))).then(i,u)}c((S=S.apply(r,a||[])).next())}))}(this,void 0,void 0,(function(){var l,S,O,E,T;return function(r,a){var l,S,O,E,T={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return E={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function u(E){return function(j){return function(E){if(l)throw new TypeError("Generator is already executing.");for(;T;)try{if(l=1,S&&(O=2&E[0]?S.return:E[0]?S.throw||((O=S.return)&&O.call(S),0):S.next)&&!(O=O.call(S,E[1])).done)return O;switch(S=0,O&&(E=[2&E[0],O.value]),E[0]){case 0:case 1:O=E;break;case 4:return T.label++,{value:E[1],done:!1};case 5:T.label++,S=E[1],E=[0];continue;case 7:E=T.ops.pop(),T.trys.pop();continue;default:if(!((O=(O=T.trys).length>0&&O[O.length-1])||6!==E[0]&&2!==E[0])){T=0;continue}if(3===E[0]&&(!O||E[1]>O[0]&&E[1]<O[3])){T.label=E[1];break}if(6===E[0]&&T.label<O[1]){T.label=O[1],O=E;break}if(O&&T.label<O[2]){T.label=O[2],T.ops.push(E);break}O[2]&&T.ops.pop(),T.trys.pop();continue}E=a.call(r,T)}catch(r){E=[6,r],S=0}finally{l=O=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([E,j])}}}(this,(function(j){for(l=r.split(","),S=l[0].match(/:(.*?);/)[1],O=atob(l[1]),E=O.length,T=new Uint8Array(E);E--;)T[E]=O.charCodeAt(E);return o(a)&&(S=a),[2,new Blob([T],{type:S})]}))}))}function h(r){return new Promise((function(a,l){var S=new Image;S.onload=function(){return a(S)},S.onerror=function(){return l(new Error("dataURLtoImage(): dataURL is illegal"))},S.src=r}))}function d(r,a){var l=document.createElement("a");l.href=window.URL.createObjectURL(r),l.download=a||Date.now().toString(36),document.body.appendChild(l);var S=document.createEvent("MouseEvents");S.initEvent("click",!1,!1),l.dispatchEvent(S),document.body.removeChild(l)}function p(r){return new Promise((function(a){var l=new FileReader;l.onloadend=function(r){return a(r.target.result)},l.readAsDataURL(r)}))}l.r(a),l.d(a,"canvastoDataURL",(function(){return u})),l.d(a,"canvastoFile",(function(){return c})),l.d(a,"dataURLtoFile",(function(){return f})),l.d(a,"dataURLtoImage",(function(){return h})),l.d(a,"downloadFile",(function(){return d})),l.d(a,"filetoDataURL",(function(){return p})),l.d(a,"imagetoCanvas",(function(){return g})),l.d(a,"urltoBlob",(function(){return v})),l.d(a,"urltoImage",(function(){return m})),l.d(a,"compress",(function(){return k})),l.d(a,"compressAccurately",(function(){return I})),l.d(a,"EImageType",(function(){return O})),function(r){r.PNG="image/png",r.JPEG="image/jpeg",r.GIF="image/gif"}(O||(O={}));var b=function(){return(b=S.extend||function(r){for(var a,l=1,S=arguments.length;l<S;l++)for(var O in a=arguments[l])Object.prototype.hasOwnProperty.call(a,O)&&(r[O]=a[O]);return r}).apply(this,arguments)};function g(r,a){return void 0===a&&(a={}),function(r,a,l,S){return new(l||(l=Promise))((function(O,E){function i(r){try{c(S.next(r))}catch(r){E(r)}}function u(r){try{c(S.throw(r))}catch(r){E(r)}}function c(r){var a;r.done?O(r.value):(a=r.value,a instanceof l?a:new l((function(r){r(a)}))).then(i,u)}c((S=S.apply(r,a||[])).next())}))}(this,void 0,void 0,(function(){var l,S,O,E,T,j,D;return function(r,a){var l,S,O,E,T={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return E={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function u(E){return function(j){return function(E){if(l)throw new TypeError("Generator is already executing.");for(;T;)try{if(l=1,S&&(O=2&E[0]?S.return:E[0]?S.throw||((O=S.return)&&O.call(S),0):S.next)&&!(O=O.call(S,E[1])).done)return O;switch(S=0,O&&(E=[2&E[0],O.value]),E[0]){case 0:case 1:O=E;break;case 4:return T.label++,{value:E[1],done:!1};case 5:T.label++,S=E[1],E=[0];continue;case 7:E=T.ops.pop(),T.trys.pop();continue;default:if(!((O=(O=T.trys).length>0&&O[O.length-1])||6!==E[0]&&2!==E[0])){T=0;continue}if(3===E[0]&&(!O||E[1]>O[0]&&E[1]<O[3])){T.label=E[1];break}if(6===E[0]&&T.label<O[1]){T.label=O[1],O=E;break}if(O&&T.label<O[2]){T.label=O[2],T.ops.push(E);break}O[2]&&T.ops.pop(),T.trys.pop();continue}E=a.call(r,T)}catch(r){E=[6,r],S=0}finally{l=O=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([E,j])}}}(this,(function(q){for(j in l=b({},a),S=document.createElement("canvas"),O=S.getContext("2d"),l)Object.prototype.hasOwnProperty.call(l,j)&&(l[j]=Number(l[j]));switch(l.scale?(D=l.scale>0&&l.scale<10?l.scale:1,T=r.width*D,E=r.height*D):(T=l.width||l.height*r.width/r.height||r.width,E=l.height||l.width*r.height/r.width||r.height),[5,6,7,8].some((function(r){return r===l.orientation}))?(S.height=T,S.width=E):(S.height=E,S.width=T),l.orientation){case 3:O.rotate(180*Math.PI/180),O.drawImage(r,-S.width,-S.height,S.width,S.height);break;case 6:O.rotate(90*Math.PI/180),O.drawImage(r,0,-S.width,S.height,S.width);break;case 8:O.rotate(270*Math.PI/180),O.drawImage(r,-S.height,0,S.height,S.width);break;case 2:O.translate(S.width,0),O.scale(-1,1),O.drawImage(r,0,0,S.width,S.height);break;case 4:O.translate(S.width,0),O.scale(-1,1),O.rotate(180*Math.PI/180),O.drawImage(r,-S.width,-S.height,S.width,S.height);break;case 5:O.translate(S.width,0),O.scale(-1,1),O.rotate(90*Math.PI/180),O.drawImage(r,0,-S.width,S.height,S.width);break;case 7:O.translate(S.width,0),O.scale(-1,1),O.rotate(270*Math.PI/180),O.drawImage(r,-S.height,0,S.height,S.width);break;default:O.drawImage(r,0,0,S.width,S.height)}return[2,S]}))}))}function v(r){return fetch(r).then((function(r){return r.blob()}))}function m(r){return new Promise((function(a,l){var S=new Image;S.onload=function(){return a(S)},S.onerror=function(){return l(new Error("urltoImage(): Image failed to load, please check the image URL"))},S.src=r}))}var x=function(r,a,l,S){return new(l||(l=Promise))((function(O,E){function i(r){try{c(S.next(r))}catch(r){E(r)}}function u(r){try{c(S.throw(r))}catch(r){E(r)}}function c(r){var a;r.done?O(r.value):(a=r.value,a instanceof l?a:new l((function(r){r(a)}))).then(i,u)}c((S=S.apply(r,a||[])).next())}))},P=function(r,a){var l,S,O,E,T={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return E={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function u(E){return function(j){return function(E){if(l)throw new TypeError("Generator is already executing.");for(;T;)try{if(l=1,S&&(O=2&E[0]?S.return:E[0]?S.throw||((O=S.return)&&O.call(S),0):S.next)&&!(O=O.call(S,E[1])).done)return O;switch(S=0,O&&(E=[2&E[0],O.value]),E[0]){case 0:case 1:O=E;break;case 4:return T.label++,{value:E[1],done:!1};case 5:T.label++,S=E[1],E=[0];continue;case 7:E=T.ops.pop(),T.trys.pop();continue;default:if(!((O=(O=T.trys).length>0&&O[O.length-1])||6!==E[0]&&2!==E[0])){T=0;continue}if(3===E[0]&&(!O||E[1]>O[0]&&E[1]<O[3])){T.label=E[1];break}if(6===E[0]&&T.label<O[1]){T.label=O[1],O=E;break}if(O&&T.label<O[2]){T.label=O[2],T.ops.push(E);break}O[2]&&T.ops.pop(),T.trys.pop();continue}E=a.call(r,T)}catch(r){E=[6,r],S=0}finally{l=O=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([E,j])}}};function k(r,a){return void 0===a&&(a={}),x(this,void 0,void 0,(function(){var l,E,T,j;return P(this,(function(D){switch(D.label){case 0:if(!(r instanceof Blob))throw new Error("compress(): First arg must be a Blob object or a File object.");return"object"!=typeof a&&(a=S.extend({quality:a})),a.quality=Number(a.quality),S.isNaN(a.quality)?[2,r]:[4,p(r)];case 1:return l=D.sent(),E=l.split(",")[0].match(/:(.*?);/)[1],T=O.JPEG,o(a.type)&&(T=a.type,E=a.type),[4,h(l)];case 2:return[4,g(D.sent(),S.extend({},a))];case 3:return[4,u(D.sent(),a.quality,T)];case 4:return[4,f(D.sent(),E)];case 5:return(j=D.sent()).size>r.size?[2,r]:[2,j]}}))}))}function I(r,a){return void 0===a&&(a={}),x(this,void 0,void 0,(function(){var l,E,T,j,D,q,B,G,Z,$,Q,ee;return P(this,(function(te){switch(te.label){case 0:if(!(r instanceof Blob))throw new Error("compressAccurately(): First arg must be a Blob object or a File object.");return"object"!=typeof a&&(a=S.extend({size:a})),a.size=Number(a.size),S.isNaN(a.size)||1024*a.size>r.size?[2,r]:(a.accuracy=Number(a.accuracy),(!a.accuracy||a.accuracy<.8||a.accuracy>.99)&&(a.accuracy=.95),l={max:a.size*(2-a.accuracy)*1024,accurate:1024*a.size,min:a.size*a.accuracy*1024},[4,p(r)]);case 1:return E=te.sent(),T=E.split(",")[0].match(/:(.*?);/)[1],j=O.JPEG,o(a.type)&&(j=a.type,T=a.type),[4,h(E)];case 2:return[4,g(te.sent(),S.extend({},a))];case 3:D=te.sent(),q=.75,B=.5,Z=[null,null],$=1,te.label=4;case 4:return $<=7?[4,u(D,B,j)]:[3,7];case 5:if(G=te.sent(),Q=G.length*q,7===$)return(l.max<Q||l.min>Q)&&(G=function(){for(var r=0,a=0,l=arguments.length;a<l;a++)r+=arguments[a].length;var S=Array(r),O=0;for(a=0;a<l;a++)for(var E=arguments[a],T=0,j=E.length;T<j;T++,O++)S[O]=E[T];return S}([G],Z).filter((function(r){return r})).sort((function(r,a){return Math.abs(r.length*q-l.accurate)-Math.abs(a.length*q-l.accurate)}))[0]),[3,7];if(l.max<Q)Z[1]=G,B-=Math.pow(.5,$+1);else{if(!(l.min>Q))return[3,7];Z[0]=G,B+=Math.pow(.5,$+1)}te.label=6;case 6:return $++,[3,4];case 7:return[4,f(G,T)];case 8:return(ee=te.sent()).size>r.size?[2,r]:[2,ee]}}))}))}}])},function(r,a){r.exports={}},,,,,,,,,,,,,function(module,exports,__webpack_require__){var _=__webpack_require__(0);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="lrn_bubble lrn_charactermap"><div class="lrn_charactermap_title">'+(null==(__t=labels.characterMapTitle)?"":__t)+"</div>",_.each(characters,(function(r,a){__p+='<button class="lrn_btn_grid lrn_characterbutton" type="button" unselectable="on" tabindex="0" data-character-btn-index="'+(null==(__t=a)?"":__t)+'">'+(null==(__t=r)?"":__t)+"</button>"})),__p+="</div>";return __p}},,,,,,function(r,a,l){"use strict";l(1);var S=l(0),O=l.n(S),E=l(8).a.extend({DEFAULT_FORMATTING_OPTIONS:["bold","italic","underline","|","unorderedList","orderedList"],SHOW_WORD_LIMITS:{ALWAYS:"always",ON:"on-limit",OFF:"off"},MAX_WORD_LENGTH:1e4,processResponseValue:function processResponseValue(r){this.hasResponse()||this.set({response:{value:"",wordCount:0,type:this.RESPONSE_TYPE.STRING}},{silent:!0}),this.get("response").value=r.value,this.get("response").wordCount=r.wordCount},getFormattingOptions:function getFormattingOptions(){if(!this._formattingOptions){var r=this.get("question").formatting_options;O.a.isArray(r)||(r=this.DEFAULT_FORMATTING_OPTIONS);var a=this.getCharacterMap(),l=r.indexOf("charactermap");O.a.isArray(a)||!1!==a?l<0&&r.push("charactermap"):!1===a&&l>=0&&Array.prototype.splice.call(r,l,1),this._formattingOptions=r}return this._formattingOptions},getMaxLength:function getMaxLength(){if(!this._maxLength){var r=this.get("question").max_length;(!O.a.isNumber(r)||r<0||r>this.MAX_WORD_LENGTH)&&(r=this.MAX_WORD_LENGTH),this._maxLength=r}return this._maxLength},getWordCount:function getWordCount(){return this.hasResponse()?this.get("response").wordCount:0},getShowWordCount:function getShowWordCount(){if(O.a.isUndefined(this._showWordCount)){var r=this.get("question").show_word_count;this._showWordCount=!O.a.isBoolean(r)||r}return this._showWordCount},getPlaceholder:function getPlaceholder(){return this.get("question").placeholder},getBrowserSpellCheck:function getBrowserSpellCheck(){if(O.a.isUndefined(this._spellCheck)){var r=this.get("question").spellcheck;this._spellCheck=O.a.isBoolean(r)?r:"false"!==r}return this._spellCheck},disableAutoLink:function disableAutoLink(){return this.activity.get("disable_auto_link")||O.a.getNested(this.get("question"),"disable_auto_link")},getCharacterMap:function getCharacterMap(){if(O.a.isUndefined(this._characterMap)){var r=this.get("question"),a=r.character_map,l=O.a.isArray(r.formatting_options)?r.formatting_options:[],S=(O.a.isUndefined(a)||O.a.isArray(a)&&!a.length)&&l.indexOf("charactermap")>=0;this._characterMap=!!S||!(!O.a.isArray(a)&&!O.a.isBoolean(a))&&a}return this._characterMap},getShowWordLimit:function getShowWordLimit(){if(O.a.isUndefined(this._showWordLimit)){var r=this.get("question").show_word_limit,a=this.SHOW_WORD_LIMITS;this._showWordLimit=O.a.contains(a,r)?r:a.ALWAYS}return this._showWordLimit},getUIStyle:function getUIStyle(){return O.a.isUndefined(this._uiStyle)&&(this._uiStyle=O.a.getNested(this.get("question"),"ui_style")||{}),this._uiStyle},isMaxLengthDefined:function isMaxLengthDefined(){return O.a.isUndefined(this._isMaxLengthDefined)&&(this._isMaxLengthDefined=!!this.get("question").max_length),this._isMaxLengthDefined},wordCountExceeded:function wordCountExceeded(){return this.getWordCount()>this.getMaxLength()},hasAllowedResponse:function hasAllowedResponse(){return!(this.hasResponse()&&!this.get("question").submit_over_limit&&this.wordCountExceeded())}});a.a=E},,function(r,a,l){var S=l(240);r.exports=function(r){if(!S(r))throw TypeError(String(r)+" is not an object");return r}},function(r,a,l){var S=l(254),O=l(221),E=l(241),T=Object.defineProperty,j={},thrower=function(r){throw r};r.exports=function(r,a){if(E(j,r))return j[r];a||(a={});var l=[][r],D=!!E(a,"ACCESSORS")&&a.ACCESSORS,q=E(a,0)?a[0]:thrower,B=E(a,1)?a[1]:void 0;return j[r]=!!l&&!O((function(){if(D&&!S)return!0;var r={length:-1};D?T(r,1,{enumerable:!0,get:thrower}):r[1]=1,l.call(r,q,B)}))}},function(r,a){r.exports={}},,,,,function(r,a,l){"use strict";var S=l(0),O=l.n(S),E=l(35),T=l(10);function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function _classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function _setPrototypeOf(r,a){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,a){return r.__proto__=a,r})(r,a)}function _createSuper(r){var a=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function _createSuperInternal(){var l,S=_getPrototypeOf(r);if(a){var O=_getPrototypeOf(this).constructor;l=Reflect.construct(S,arguments,O)}else l=S.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _possibleConstructorReturn(r,a){return!a||"object"!==_typeof(a)&&"function"!=typeof a?function _assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(r):a}function _getPrototypeOf(r){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}var j=["exactMatch"],D=function isDefaultValidResponseValue(r){return 0===O.a.filter(r,(function(r){return r&&(r.value||r.method||0===r.value)})).length},q=function(r){!function _inherits(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&_setPrototypeOf(r,a)}(MathScorer,r);var a=_createSuper(MathScorer);function MathScorer(){return _classCallCheck(this,MathScorer),a.apply(this,arguments)}return function _createClass(r,a,l){return a&&_defineProperties(r.prototype,a),l&&_defineProperties(r,l),r}(MathScorer,[{key:"reset",value:function reset(r,a){var l=JSON.stringify(r);if(a=a||this.cachedValidateSingleSpec,this.serializedData!==l){try{this.scoringData=function getScoringData(r,a){if(!function canValidateResponse(r){if(!1===O.a.getNested(r,"validation.automarkable"))return!1;var a=r.validation||r;return!(O.a.isEmpty(a)||!(a.valid_responses||a.valid_response&&!D(a.valid_response.value)))}(r.question))return{automarkable:!1};r.response=r.response||{};var l,S,E=r.response&&r.response.value,q=[];r.question.equiv_literal_legacy&&(r=T.a.processCompatibility(r));if(S=!!r.question.validation.allow_negative_scores,r.response=r.response||{},r.question.validation.scoring_type){if(!O.a.contains(j,r.question.validation.scoring_type))throw new T.a.InvalidScoringTypeException(r.question.type,r.question.validation.scoring_type);r.question.validation.valid_response&&q.push(r.question.validation.valid_response),r.question.validation.alt_responses&&(q=q.concat(r.question.validation.alt_responses)),l=Math.abs(O.a.isNumber(r.question.validation.penalty)?r.question.validation.penalty:0)}else q=r.question.validation&&r.question.validation.valid_responses||[];var B=T.a.validateMathLists(E,q,a,1,l);void 0===B.scoreWithFullPenalty?B.score=null:B.score=S?B.scoreWithFullPenalty:Math.max(0,B.scoreWithFullPenalty);return B}(r,a),T.a.normalizeScores(this.scoringData,r)}catch(r){this.scoringData={error:r}}this.serializedData=l}return this.cachedValidateSingleSpec=a,this}}]),MathScorer}(E.a);a.a=q},,function(r,a,l){"use strict";var S=l(0),O=l.n(S),E=l(703),T=l.n(E);function _defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function _defineProperty(r,a,l){return a in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,r}var j=function(){function Fraction(r,a,l){!function _classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}(this,Fraction),this.integer=isNaN(parseFloat(l))?0:parseFloat(l),this.numerator=0,this.denominator=null,(r||a)&&this.set(r,a)}return function _createClass(r,a,l){return a&&_defineProperties(r.prototype,a),l&&_defineProperties(r,l),r}(Fraction,[{key:"normalize",value:function normalize(r){var a,l,S,O,E=this.denominator?this.denominator:1;if(!0===r?(S=this.numerator,O=E):(l=Fraction.gcd(this.numerator,E),S=this.numerator/l,O=E/l),Math.abs(S)>=Math.abs(O)){if(1===O)return this.integer+=S,this.numerator=0,this.denominator=null,this;a=S<0?-Math.floor(-S/O):Math.floor(S/O),this.integer<0?this.integer-=a:this.integer+=a,S-=a*O}return this.set(S,O)}},{key:"clone",value:function clone(){return new Fraction(this)}},{key:"set",value:function set(r,a){if(r instanceof Fraction)this.integer=r.integer,this.numerator=r.numerator,this.denominator=r.denominator;else if(O.a.isUndefined(r)||O.a.isNull(r)||O.a.isUndefined(a)||O.a.isNull(a))if(O.a.isUndefined(a)||O.a.isNull(a))if(O.a.isString(r)){var l=Fraction.IMPROPER_REG_EXP.exec(r),S=Fraction.MIXED_REG_EXP.exec(r);S&&4===S.length?(this.integer=parseInt(S[1],10),this.numerator=parseInt(S[2],10),this.denominator=parseInt(S[3],10)):l&&3===l.length?(this.numerator=parseInt(l[1],10),this.denominator=parseInt(l[2],10)):(this.integer=parseFloat(r),this.numerator=0,this.denominator=null)}else O.a.isNumber(r)?(this.integer=r,this.numerator=0,this.denominator=null):(this.integer=0,this.numerator=0,this.denominator=null);else O.a.isUndefined(a)||O.a.isNull(a)?(this.integer=0,this.numerator=0,this.denominator=null):(this.integer=0,this.numerator=0,(O.a.isNumber(a)||O.a.isString(a))&&(this.denominator=parseInt(a,10),this.denominator||(this.denominator=null)));else(O.a.isNumber(r)||O.a.isString(r))&&(this.numerator=parseInt(r,10)),(O.a.isNumber(a)||O.a.isString(a))&&(this.denominator=parseInt(a,10)),this.denominator||(this.denominator=null);return this.setCorrectSign(),this}},{key:"convertToDenominator",value:function convertToDenominator(r){var a,l,S=this.denominator?this.denominator:1,E=this.numerator,T=this.integer;return O.a.isNumber(r)||(r=(l=new Fraction(r)).denominator?l.denominator:1),O.a.isNumber(r)&&S!==r&&(a=r/S,0===(E=this.numerator*a)&&(E=T*r,T=0)),new Fraction(E,r,T)}},{key:"add",value:function add(r){var a,l,S,O;return r=new Fraction(r),a=this.getImproperFraction(),l=r.getImproperFraction(),S=Fraction.lcm(a.denominator?a.denominator:1,l.denominator?l.denominator:1),(O=new Fraction(S/(a.denominator?a.denominator:1)*a.numerator+S/(l.denominator?l.denominator:1)*l.numerator,S)).normalize(!0),O}},{key:"subtract",value:function subtract(r){return r=new Fraction(r),this.add(r.multiply(-1))}},{key:"inverse",value:function inverse(){var r=this.getImproperFraction();return new Fraction(r.denominator,r.numerator)}},{key:"multiply",value:function multiply(r){var a,l;return r=new Fraction(r),a=this.getImproperFraction(),l=r.getImproperFraction(),new Fraction(a.numerator*l.numerator,(a.denominator?a.denominator:0)*(l.denominator?l.denominator:0))}},{key:"divide",value:function divide(r){return r=new Fraction(r),this.multiply(r.inverse())}},{key:"getProperFraction",value:function getProperFraction(){var r=new Fraction(this);return r.normalize(!0),new Fraction(r.integer<0&&r.numerator>0?-r.numerator:r.numerator,this.denominator)}},{key:"getImproperFraction",value:function getImproperFraction(){var r,a;return this.numerator&&this.denominator?(r=this.integer<0?this.integer*this.denominator-this.numerator:this.integer*this.denominator+this.numerator,a=this.denominator):this.denominator?(a=this.denominator,this.integer&&(r=this.integer*this.denominator)):this.integer&&(r=this.integer,a=1),new Fraction(r,a)}},{key:"getSimpleFraction",value:function getSimpleFraction(){return new Fraction(this.integer<0?-this.numerator:this.numerator,this.denominator)}},{key:"toInteger",value:function toInteger(){return~~this.toDecimal()}},{key:"toDecimal",value:function toDecimal(){return this.denominator&&0!==this.denominator?this.integer&&this.integer<0?this.integer-this.numerator/this.denominator:this.numerator/this.denominator+this.integer:this.integer}},{key:"setCorrectSign",value:function setCorrectSign(){this.numerator&&this.numerator<0&&this.denominator&&this.denominator<0?(this.numerator=-this.numerator,this.denominator=-this.denominator):this.integer&&this.integer<0&&this.numerator&&this.numerator<0?this.numerator=-this.numerator:this.integer&&this.integer<0&&this.denominator&&this.denominator<0?this.denominator=-this.denominator:this.numerator&&this.numerator<0?this.integer&&(this.integer=-this.integer,this.numerator=-this.numerator):this.denominator&&this.denominator<0&&(this.integer?(this.integer=-this.integer,this.denominator=-this.denominator):(this.numerator=-this.numerator,this.denominator=-this.denominator))}},{key:"toSimpleString",value:function toSimpleString(){var r=0;return 0===this.integer&&0===this.numerator&&null===this.denominator?"0":!this.integer||this.numerator||this.denominator?(this.integer&&this.denominator&&(r=this.integer<0?-this.integer*this.denominator:this.integer*this.denominator),this.numerator&&(r+=this.numerator),this.denominator?(this.integer<0?"-":"")+r+"/"+this.denominator:""):""+this.integer}},{key:"toSimpleHtml",value:function toSimpleHtml(r,a){var l={integer:"",simpleFraction:this.getImproperFraction(),allowZeroNumerator:!0};return this.toMixedHtml(r,l,a)}},{key:"toMixedParams",value:function toMixedParams(){var r=this.getSimpleFraction();return 0===r.toDecimal()?r=null:this.integer<0&&(r=r.multiply(-1)),{integer:this.integer,simpleFraction:r,allowZeroNumerator:!1}}},{key:"toMixedString",value:function toMixedString(){var r=this.toMixedParams(),a=(r.integer?r.integer:"")+(r.simpleFraction?" "+r.simpleFraction.toSimpleString():"");return a?a.trim():"0"}},{key:"toMixedHtml",value:function toMixedHtml(r,a,l){var S,O,E,T=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Fraction.fractionClass,j="",D="";return D=(a=a||this.toMixedParams()).integer,a.simpleFraction?(O=a.simpleFraction.numerator,E=a.simpleFraction.denominator):(O=0,E=0),O<0&&(O=-O,""===D||0===D?D="-":D>0&&(D=-D)),0!==O?(j+=O,E&&(j+="<hr/>"+E)):a.allowZeroNumerator&&E&&(j+="0<hr/>"+E),r&&(D=r+" "+D),""===j&&""===D&&(D=0),S={fractionClass:T,proper:j,integer:0===D&&""!==j?"":""+D},!0===l?S:Fraction.mixedFractionTemplate(S)}}]),Fraction}();_defineProperty(j,"IMPROPER_REG_EXP",/(\-?\d+)\s*\/\s*([1-9]\d*)/),_defineProperty(j,"MIXED_REG_EXP",/(\-?\d+)\s+(\d+)\s*\/\s*([1-9]\d*)/),_defineProperty(j,"fractionClass","lrn-numberline-fraction"),_defineProperty(j,"mixedFractionTemplate",T.a),_defineProperty(j,"gcd",(function(r,a){return a?j.gcd(a,r%a):r})),_defineProperty(j,"lcm",(function(r,a){var l=j.gcd(r,a);return Math.abs(r)/l*Math.abs(a)})),_defineProperty(j,"isNumber",(function(r){return!isNaN(parseFloat(r))&&isFinite(r)})),_defineProperty(j,"isFraction",(function(r){var a=j.IMPROPER_REG_EXP.exec(r),l=j.MIXED_REG_EXP.exec(r);return!!(l&&4===l.length||a&&3===a.length)})),_defineProperty(j,"isMixedFraction",(function(r){var a=j.MIXED_REG_EXP.exec(r);return!(!a||4!==a.length)})),_defineProperty(j,"isParsable",(function(r){return j.isNumber(r)||j.isFraction(r)})),_defineProperty(j,"areEqual",(function(r,a){return r.toDecimal()===a.toDecimal()})),_defineProperty(j,"areIdentical",(function(r,a){return r.numerator===a.numerator&&r.denominator===a.denominator&&r.integer===a.integer})),_defineProperty(j,"decimalToFraction",(function(r){if(r===parseInt(r))return{top:parseInt(r),bottom:1,display:parseInt(r)+"/1"};var a=-1!==r.toString().indexOf(".")?r.toString().replace(/\d+[.]/,""):0,l=Math.pow(10,a.toString().replace("-","").length);r>=1?a=+a+Math.floor(r)*l:r<=-1&&(a=+a+Math.ceil(r)*l);var S=Math.abs(j.gcd(a,l));return{top:a/S,bottom:l/S}})),a.a=j},function(r,a,l){"use strict";var S=l(0),O=l.n(S),E=l(154),T=l(125),j=l.n(T),D=l(129),q=l(127),B=l(126),G=l.n(B),Z=l(149),$=l(143),Q=l(152),ee=l(194);function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function _extends(){return(_extends=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&(r[S]=l[S])}return r}).apply(this,arguments)}function _classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function _setPrototypeOf(r,a){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,a){return r.__proto__=a,r})(r,a)}function _createSuper(r){var a=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function _createSuperInternal(){var l,S=_getPrototypeOf(r);if(a){var O=_getPrototypeOf(this).constructor;l=Reflect.construct(S,arguments,O)}else l=S.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _possibleConstructorReturn(r,a){return!a||"object"!==_typeof(a)&&"function"!=typeof a?_assertThisInitialized(r):a}function _assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function _getPrototypeOf(r){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}function _defineProperty(r,a,l){return a in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,r}function modalWithToggle(r){return function(a){!function _inherits(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&_setPrototypeOf(r,a)}(_temp,a);var l=_createSuper(_temp);function _temp(){var r;_classCallCheck(this,_temp);for(var a=arguments.length,S=new Array(a),O=0;O<a;O++)S[O]=arguments[O];return _defineProperty(_assertThisInitialized(r=l.call.apply(l,[this].concat(S))),"state",{modalIsOpen:!1}),_defineProperty(_assertThisInitialized(r),"closeModal",(function(){(0,r.props.onModal)(null),r.setState({modalIsOpen:!1})})),_defineProperty(_assertThisInitialized(r),"toggleModal",(function(){var a=r.props.onModal,l=!r.state.modalIsOpen;a(l),r.setState({modalIsOpen:l})})),r}return function _createClass(r,a,l){return a&&_defineProperties(r.prototype,a),l&&_defineProperties(r,l),r}(_temp,[{key:"render",value:function render(){var a=this.props,l=this.state,S=a.isActive,O=a.visible,E=a.onApply,T=a.getContainer,D=l.modalIsOpen,q=G()({hide:!O});return j.a.createElement(j.a.Fragment,null,j.a.createElement(Q.a.Button,_extends({},a,{isActive:S,className:q,onClick:this.toggleModal})),j.a.createElement(r,_extends({},a,{relativeNode:T,modalIsOpen:D,onRequestClose:this.closeModal,onApply:E})))}}]),_temp}(j.a.Component)}var te=l(153);function create_typeof(r){return(create_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function create_classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function create_defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function create_setPrototypeOf(r,a){return(create_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,a){return r.__proto__=a,r})(r,a)}function create_createSuper(r){var a=function create_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function _createSuperInternal(){var l,S=create_getPrototypeOf(r);if(a){var O=create_getPrototypeOf(this).constructor;l=Reflect.construct(S,arguments,O)}else l=S.apply(this,arguments);return create_possibleConstructorReturn(this,l)}}function create_possibleConstructorReturn(r,a){return!a||"object"!==create_typeof(a)&&"function"!=typeof a?create_assertThisInitialized(r):a}function create_assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function create_getPrototypeOf(r){return(create_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}function create_defineProperty(r,a,l){return a in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,r}var ne=function(r){!function create_inherits(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&create_setPrototypeOf(r,a)}(CreateTableModal,r);var a=create_createSuper(CreateTableModal);function CreateTableModal(){var r;create_classCallCheck(this,CreateTableModal);for(var l=arguments.length,S=new Array(l),O=0;O<l;O++)S[O]=arguments[O];return create_defineProperty(create_assertThisInitialized(r=a.call.apply(a,[this].concat(S))),"state",{cols:3,rows:2}),create_defineProperty(create_assertThisInitialized(r),"onChange",(function(a,l){r.setState(create_defineProperty({},a,l))})),create_defineProperty(create_assertThisInitialized(r),"onApply",(function(a){var l=r.props,S=l.onApply,O=l.onRequestClose,E=r.state;S({cols:E.cols,rows:E.rows}),O(),a.preventDefault()})),create_defineProperty(create_assertThisInitialized(r),"onCloseWithoutApply",(function(){var a=r.props,l=a.onApply,S=a.onRequestClose;l(null),S()})),r}return function create_createClass(r,a,l){return a&&create_defineProperties(r.prototype,a),l&&create_defineProperties(r,l),r}(CreateTableModal,[{key:"render",value:function render(){var r=this,a=this.props,l=a.i18n,S=a.relativeNode,O=a.modalIsOpen,E=a.responseId,T=l.labels.editor.modals,D=this.state,q=D.cols,B=D.rows,G=q>0&&B>0&&q<100&&B<100;return j.a.createElement(te.a,{getRef:function getRef(a){return r.el=a},title:T.tableTitle,parentNode:S,modalIsOpen:O,onRequestClose:this.onCloseWithoutApply},j.a.createElement("div",{className:"lrn_clearfix"},j.a.createElement("div",{className:"lrn-wysihtml-modal-section"},j.a.createElement("label",{htmlFor:"".concat(E,"-table-columns")},j.a.createElement("span",{className:"lrn-label-title"},T.columns),j.a.createElement("input",{type:"number",id:"".concat(E,"-table-columns"),className:"lrn-editor-input",defaultValue:q,min:"1",max:"99",onChange:function onChange(a){return r.onChange("cols",a.target.value)}}))),j.a.createElement("div",{className:"lrn-wysihtml-modal-section"},j.a.createElement("label",{htmlFor:"".concat(E,"-table-rows")},j.a.createElement("span",{className:"lrn-label-title"},T.rows),j.a.createElement("input",{type:"number",id:"".concat(E,"-table-rows"),className:"lrn-editor-input",defaultValue:B,min:"1",max:"99",onChange:function onChange(a){return r.onChange("rows",a.target.value)}})))),j.a.createElement("hr",null),j.a.createElement("div",{className:"lrn-wysihtml-modal-controls"},j.a.createElement("button",{className:"lrn_btn lrn_btn_blue","data-lrn-action":"apply",onClick:this.onApply,disabled:!G,type:"button"},T.apply)))}}]),CreateTableModal}(j.a.Component);function edit_typeof(r){return(edit_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function edit_classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function edit_defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function edit_setPrototypeOf(r,a){return(edit_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,a){return r.__proto__=a,r})(r,a)}function edit_createSuper(r){var a=function edit_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function _createSuperInternal(){var l,S=edit_getPrototypeOf(r);if(a){var O=edit_getPrototypeOf(this).constructor;l=Reflect.construct(S,arguments,O)}else l=S.apply(this,arguments);return edit_possibleConstructorReturn(this,l)}}function edit_possibleConstructorReturn(r,a){return!a||"object"!==edit_typeof(a)&&"function"!=typeof a?edit_assertThisInitialized(r):a}function edit_assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function edit_getPrototypeOf(r){return(edit_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}function edit_defineProperty(r,a,l){return a in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,r}var re=function(r){!function edit_inherits(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&edit_setPrototypeOf(r,a)}(EditTableModal,r);var a=edit_createSuper(EditTableModal);function EditTableModal(){var r;edit_classCallCheck(this,EditTableModal);for(var l=arguments.length,S=new Array(l),O=0;O<l;O++)S[O]=arguments[O];return edit_defineProperty(edit_assertThisInitialized(r=a.call.apply(a,[this].concat(S))),"onApply",(function(a,l){var S=r.props,O=S.onApply,E=S.onRequestClose;O(l),E(),a.preventDefault()})),r}return function edit_createClass(r,a,l){return a&&edit_defineProperties(r.prototype,a),l&&edit_defineProperties(r,l),r}(EditTableModal,[{key:"render",value:function render(){var r=this,a=this.props,l=a.i18n,S=a.relativeNode,O=a.modalIsOpen,E=a.onRequestClose,T=l.labels.editor.modals;return j.a.createElement(te.a,{getRef:function getRef(a){return r.el=a},title:T.tableTitle,parentNode:S,className:"lrn-wysihtml-modal-table-edit",modalIsOpen:O,onRequestClose:E},j.a.createElement("div",{className:"lrn_clearfix"},j.a.createElement("div",{className:"lrn-wysihtml-modal-section"},j.a.createElement("div",null,j.a.createElement("span",{className:"lrn-label-title"},T.columns)),j.a.createElement("ul",null,j.a.createElement("li",null,j.a.createElement("button",{type:"button",className:"lrn_btn",onMouseDown:function onMouseDown(a){return r.onApply(a,{type:"addTableCells",params:"before"})}},T.insertColumnBefore)),j.a.createElement("li",null,j.a.createElement("button",{type:"button",className:"lrn_btn",onMouseDown:function onMouseDown(a){return r.onApply(a,{type:"addTableCells",params:"after"})}},T.insertColumnAfter)),j.a.createElement("li",null,j.a.createElement("button",{type:"button",className:"lrn_btn",onMouseDown:function onMouseDown(a){return r.onApply(a,{type:"deleteTableCells",params:"column"})}},T.deleteColumn)))),j.a.createElement("div",{className:"lrn-wysihtml-modal-section"},j.a.createElement("div",null,j.a.createElement("span",{className:"lrn-label-title"},T.rows)),j.a.createElement("ul",null,j.a.createElement("li",null,j.a.createElement("button",{type:"button",className:"lrn_btn",onMouseDown:function onMouseDown(a){return r.onApply(a,{type:"addTableCells",params:"above"})}},T.insertRowAbove)),j.a.createElement("li",null,j.a.createElement("button",{type:"button",className:"lrn_btn",onMouseDown:function onMouseDown(a){return r.onApply(a,{type:"addTableCells",params:"below"})}},T.insertRowBelow)),j.a.createElement("li",null,j.a.createElement("button",{type:"button",className:"lrn_btn",onMouseDown:function onMouseDown(a){return r.onApply(a,{type:"deleteTableCells",params:"row"})}},T.deleteRow))))),j.a.createElement("hr",null),j.a.createElement("div",{className:"lrn-wysihtml-modal-controls"},j.a.createElement("button",{type:"button",className:"lrn_btn  lrn_btn_danger",onMouseDown:function onMouseDown(a){return r.onApply(a,{type:"deleteTable"})}},T.deleteTable)))}}]),EditTableModal}(j.a.Component),oe={CreateTableButton:modalWithToggle(ne),EditTableButton:modalWithToggle(re)},ie=l(327),ae=l.n(ie),se=l(218),le=l(131);function imagePropsUtil_defineProperty(r,a,l){return a in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,r}function generateImageAttributes(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{className:"class"},l=r.url,S=r.size,O=r.naturalWidth,E=r.naturalHeight,T=imagePropsUtil_defineProperty({src:l,width:getImageWidthFromSize(S,O,E)},a.className,G()(imagePropsUtil_defineProperty({},"lrn-size-".concat(S),!!S)));return r.assetPath&&(T["data-asset-path"]=r.assetPath),T}function getImageWidthFromSize(r,a,l){var S,O=a<l,E=O?l:a;((S=r===$.e.SMALL?Math.min(E,$.d.SMALL):r===$.e.MEDIUM?Math.min(E,$.d.MEDIUM):r===$.e.LARGE?Math.min(E,$.d.LARGE):Math.min(E,$.d.FULL_SIZE))||(S=0),O)&&(S=parseInt(S*(a/l),10));return S}var ce=l(274);function editor_extends(){return(editor_extends=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&(r[S]=l[S])}return r}).apply(this,arguments)}function _slicedToArray(r,a){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,a){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(r)))return;var l=[],S=!0,O=!1,E=void 0;try{for(var T,j=r[Symbol.iterator]();!(S=(T=j.next()).done)&&(l.push(T.value),!a||l.length!==a);S=!0);}catch(r){O=!0,E=r}finally{try{S||null==j.return||j.return()}finally{if(O)throw E}}return l}(r,a)||function _unsupportedIterableToArray(r,a){if(!r)return;if("string"==typeof r)return _arrayLikeToArray(r,a);var l=Object.prototype.toString.call(r).slice(8,-1);"Object"===l&&r.constructor&&(l=r.constructor.name);if("Map"===l||"Set"===l)return Array.from(r);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return _arrayLikeToArray(r,a)}(r,a)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var l=0,S=new Array(a);l<a;l++)S[l]=r[l];return S}function ImageSizeSelection(r){var a=r.naturalWidth,l=r.naturalHeight,S=r.labels,E=r.size,T=r.responseId,D=function getAvailableSizes(r,a){var l=r<a?a:r;if(l<=$.d.SMALL)return null;var S=[$.e.SMALL];return l>$.d.MEDIUM&&S.push($.e.MEDIUM),l>$.d.LARGE&&S.push($.e.LARGE),S.push($.e.FULL_SIZE),S}(a,l);if(!D)return null;var q=O.a.mapObject(S.imageSize,(function(r,S){return function getImageSizeLabel(r){var a=r.label,l=r.size,S=r.naturalWidth,O=r.naturalHeight,E=S/O,T=getImageWidthFromSize(l,S,O)||S,j=parseInt(T/E,10);return Object(le.a)(a,{width:T,height:j})}({label:r,size:S,naturalWidth:a,naturalHeight:l})}));return j.a.createElement("div",{className:"lrn-image-properties"},j.a.createElement("div",{className:"lrn-image-properties-inner"},j.a.createElement("label",{htmlFor:"".concat(T,"-image-size")},j.a.createElement("span",{className:"lrn-label-title lrn-display-block"},S.imageSize.title),j.a.createElement("select",{id:"".concat(T,"-image-size"),value:E,className:"lrn-editor-input",onChange:function onChange(S){return function onSizeChange(S){r.onChange({size:S,width:getImageWidthFromSize(S,a,l)})}(S.target.value)},onBlur:O.a.noop},O.a.map(D,(function(r){return j.a.createElement("option",{key:r,value:r},q[r])}))))))}function ZoomableImage(r){var a=r.naturalWidth,l=r.naturalHeight,S=r.containerDimensions.height,O=a>S&&l>S,E=_slicedToArray(Object(T.useState)(!1),2),D=E[0],q=E[1],B={onClick:function onClick(){return q(O&&!D)}},Z=generateImageAttributes(r,{className:"className"});return Z.className=G()({"lrn-img-zoom-in":O&&D,"lrn-img-zoom-out":O&&!D},Z.className),j.a.createElement("img",editor_extends({alt:""},B,Z))}function ImageEditor(r){var a=r.children,l=Object(T.useRef)(null),S=_slicedToArray(Object(T.useState)(0),2),O=S[0],E=S[1];return Object(T.useLayoutEffect)((function(){l.current&&l.current.clientHeight!==O&&E(l.current.clientHeight)})),j.a.createElement("div",null,j.a.createElement("div",{className:"lrn-image-uploader-preview",ref:l},j.a.createElement(ZoomableImage,editor_extends({containerDimensions:{height:O}},r))),a,j.a.createElement(ImageSizeSelection,r))}var ue=l(353),pe={fileDialog:l.n(ue).a},fe=l(21),de={LONGTEXTV2_UPDATE_WORD_COUNT:"longtextv2:update:wordcount",LONGTEXTV2_UPDATE_WORD_COUNT_EXCEEDED:"longtextv2:update:wordcountexceeded",LONGTEXTV2_UPDATE_WORD_LIMIT_VISIBILITY:"longtextv2:update:wordlimitvisibility",LONGTEXTV2_DISABLE_EDITOR:"longtextv2:disable:editor"};var he={actionTypes:de,compressImage:function compressImage(r,a){return function(l,S,O){return O.dataService.compressImage(r,a)}},uploadImage:function actions_uploadImage(r,a){return function(l,S,O){return O.dataService.uploadImage(r,a)}},updateValue:function updateValue(r){return function(a,l,S){var O=S.dataService.getResponse();if((O&&O.value)!==(r=S.dataService.formatValue(r))){a({type:de.LONGTEXTV2_UPDATE_WORD_COUNT,payload:{value:r}});var E=l().longTextV2.footer.wordCount;a(fe.a.updateResponseValue({value:r,wordCount:E}));var T=S.dataService.getWordCountExceeded();a({type:de.LONGTEXTV2_UPDATE_WORD_COUNT_EXCEEDED,payload:{value:T}});var j=S.dataService.getWordLimitVisibility();a({type:de.LONGTEXTV2_UPDATE_WORD_LIMIT_VISIBILITY,payload:{value:j}})}}},disableEditor:function disableEditor(r){return{type:de.LONGTEXTV2_DISABLE_EDITOR,payload:{value:r}}}};function uploadModal_typeof(r){return(uploadModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function ownKeys(r,a){var l=Object.keys(r);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(r);a&&(S=S.filter((function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),l.push.apply(l,S)}return l}function _objectSpread(r){for(var a=1;a<arguments.length;a++){var l=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(l),!0).forEach((function(a){uploadModal_defineProperty(r,a,l[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(l)):ownKeys(Object(l)).forEach((function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(l,a))}))}return r}function uploadModal_extends(){return(uploadModal_extends=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&(r[S]=l[S])}return r}).apply(this,arguments)}function uploadModal_classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function uploadModal_defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function uploadModal_setPrototypeOf(r,a){return(uploadModal_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,a){return r.__proto__=a,r})(r,a)}function uploadModal_createSuper(r){var a=function uploadModal_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function _createSuperInternal(){var l,S=uploadModal_getPrototypeOf(r);if(a){var O=uploadModal_getPrototypeOf(this).constructor;l=Reflect.construct(S,arguments,O)}else l=S.apply(this,arguments);return uploadModal_possibleConstructorReturn(this,l)}}function uploadModal_possibleConstructorReturn(r,a){return!a||"object"!==uploadModal_typeof(a)&&"function"!=typeof a?uploadModal_assertThisInitialized(r):a}function uploadModal_assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function uploadModal_getPrototypeOf(r){return(uploadModal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}function uploadModal_defineProperty(r,a,l){return a in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,r}var me={url:null,width:0,naturalWidth:0,naturalHeight:0,size:$.e.FULL_SIZE,rotation:0,loading:!1,error:null,warning:null},ge=function(r){!function uploadModal_inherits(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&uploadModal_setPrototypeOf(r,a)}(UploadImageModal,r);var a=uploadModal_createSuper(UploadImageModal);function UploadImageModal(){var r;uploadModal_classCallCheck(this,UploadImageModal);for(var l=arguments.length,S=new Array(l),E=0;E<l;E++)S[E]=arguments[E];return uploadModal_defineProperty(uploadModal_assertThisInitialized(r=a.call.apply(a,[this].concat(S))),"file",null),uploadModal_defineProperty(uploadModal_assertThisInitialized(r),"state",O.a.extend({},me)),uploadModal_defineProperty(uploadModal_assertThisInitialized(r),"reset",(function(){r.setState(me)})),uploadModal_defineProperty(uploadModal_assertThisInitialized(r),"cleanUpAndClose",(function(){r.file=null,r.props.onRequestClose(),r.reset()})),uploadModal_defineProperty(uploadModal_assertThisInitialized(r),"onImageRotationClick",(function(){var a=uploadModal_assertThisInitialized(r),l=a.file,S=a.state,O=a.props,E=S.rotation;return E>-270?E-=90:E=0,r.setState({loading:!0}),O.compressImage(l,{rotation:E}).then(se.c).then((function(a){r.setState({loading:!1,url:a.src,width:a.width,naturalWidth:a.width,naturalHeight:a.height,rotation:E})}))})),uploadModal_defineProperty(uploadModal_assertThisInitialized(r),"startImageSelection",(function(){r.uploadAborted=!1,pe.fileDialog({multiple:!1,accept:$.b}).then((function(a){r.processSelectedImage(a[0])}))})),uploadModal_defineProperty(uploadModal_assertThisInitialized(r),"onImageEditorChanged",(function(a){var l=a.width,S=a.size;r.setState({width:l,size:S})})),uploadModal_defineProperty(uploadModal_assertThisInitialized(r),"onCancelButtonClicked",(function(){r.uploadAborted=!0,r.cleanUpAndClose()})),uploadModal_defineProperty(uploadModal_assertThisInitialized(r),"onUploadButtonClicked",(function(a){var l=r.state,S=l.rotation,O=l.naturalWidth,E=r.props.uploadImage,T={rotation:S};return O>$.d.FULL_SIZE&&(T.width=$.d.FULL_SIZE),a.preventDefault(),a.stopPropagation(),r.setState({loading:!0}),E(r.file,T).then((function(a){r.uploadAborted||r.insertImage(a)})).catch((function(){r.showProcessingImageError()}))})),r}return function uploadModal_createClass(r,a,l){return a&&uploadModal_defineProperties(r.prototype,a),l&&uploadModal_defineProperties(r,l),r}(UploadImageModal,[{key:"componentDidUpdate",value:function componentDidUpdate(r){var a=this.props,l=a.modalIsOpen,S=a.selectedFile;r.selectedFile!==S&&(this.file=null,this.uploadAborted=!1,S&&l&&this.processSelectedImage(S))}},{key:"render",value:function render(){var r=this,a=this.props,l=a.i18n,S=a.relativeNode,E=a.responseId,T=a.modalIsOpen,D=this.state,q=D.url,B=D.loading,G=D.warning,Z=D.error,$=!(!T||!(this.file||B||Z||G)),Q=l.labels.editor.modals;return j.a.createElement(te.a,{className:"lrn-full-width",getRef:function getRef(a){return r.el=a},title:Q.imageTitle,parentNode:S,modalIsOpen:$,onRequestClose:this.onCancelButtonClicked},j.a.createElement("div",{className:"lrn-image-editor-wrapper"},this.getMessage(),Z&&j.a.createElement("div",{className:"lrn-config-btn-upload-wrapper"},j.a.createElement("button",{className:"btn lrn_btn_blue lrn-imageupload-config-btn-upload",type:"button",onClick:this.startImageSelection},Q.uploadText)),q&&j.a.createElement(ImageEditor,uploadModal_extends({},this.state,{labels:Q,responseId:E,onChange:this.onImageEditorChanged}),j.a.createElement("button",{className:"lrn_btn lrn-btn-outline image-editor-replace-btn",onClick:this.startImageSelection,disabled:B},j.a.createElement("span",{className:"lrn-icon-image image-editor-replace-span"}),Q.imageReplace),j.a.createElement("button",{className:"lrn_btn lrn-btn-outline image-editor-rotate-btn",onClick:this.onImageRotationClick,disabled:B},j.a.createElement("span",{className:"lrn-icon-image-rotation image-editor-rotate-span"}),Q.imageRotate)),B&&j.a.createElement("div",{className:"lrn-loader-wrapper"},j.a.createElement(ce.a,null))),j.a.createElement("hr",null),j.a.createElement("div",{className:"lrn-wysihtml-modal-controls"},j.a.createElement("button",{className:"lrn_btn lrn_btn_blue image-editor-upload-button","data-lrn-action":"upload",onClick:this.onUploadButtonClicked,disabled:O.a.isEmpty(q)||B,type:"button"},Q.upload),j.a.createElement("button",{className:"lrn_btn",onClick:this.onCancelButtonClicked,type:"button"},Q.cancel)))}},{key:"getMessage",value:function getMessage(){var r=this.state,a=r.error,l=r.warning;if(!a&&!l)return null;var S=this.props.i18n.labels.editor.messages,O=a?"error":"warning",E=a?S.failedLoadingImage:S.imageHasBeenOptimized;return j.a.createElement(ae.a,{className:"upload-modal-message",type:O,iconClassMapping:{warning:"lrn-icon-warning",error:"lrn-icon-info"},ariaHidden:!0},E)}},{key:"showProcessingImageError",value:function showProcessingImageError(){this.file=null,this.uploadAborted=!1,this.setState({loading:!1,url:null,error:!0})}},{key:"processSelectedImage",value:function processSelectedImage(r){var a,l=this;return this.setState({loading:!0,error:!1}),Object(se.c)(r).then((function(l){return a=l.width,r})).then((function processImage(){return l.shouldCompress(r,a)?(l.setState({warning:l.shouldShowWarning(r,a)}),a>$.d.FULL_SIZE&&(S={width:$.d.FULL_SIZE}),l.props.compressImage(r,{rotation:0,compressOptions:S})):(l.setState({warning:null,error:null}),Promise.resolve(r));var S})).then((function(r){return l.file=r,Object(se.c)(r)})).then((function(r){return l.setState({loading:!1,url:r.src,width:r.width,naturalWidth:r.width,naturalHeight:r.height,rotation:0})})).catch((function(){l.showProcessingImageError()}))}},{key:"insertImage",value:function insertImage(r){var a=r.url,l=r.assetPath;(0,this.props.onApply)(generateImageAttributes(_objectSpread(_objectSpread({},this.state),{},{url:a,assetPath:l}))),this.cleanUpAndClose()}},{key:"shouldCompress",value:function shouldCompress(r,a){return r.size>this.props.maxFileSize||a>$.d.FULL_SIZE}},{key:"shouldShowWarning",value:function shouldShowWarning(r,a){return r.size>this.props.warningFileSize||a>$.d.FULL_SIZE}}]),UploadImageModal}(j.a.PureComponent),ye=q.b((function(r){return{maxFileSize:r.longTextV2.maxFileSize,warningFileSize:r.longTextV2.warningFileSize}}),(function(r){return{compressImage:D.b(he.compressImage,r),uploadImage:D.b(he.uploadImage,r)}}))(ge);function insertImageButton_extends(){return(insertImageButton_extends=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&(r[S]=l[S])}return r}).apply(this,arguments)}function insertImageButton_slicedToArray(r,a){return function insertImageButton_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function insertImageButton_iterableToArrayLimit(r,a){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(r)))return;var l=[],S=!0,O=!1,E=void 0;try{for(var T,j=r[Symbol.iterator]();!(S=(T=j.next()).done)&&(l.push(T.value),!a||l.length!==a);S=!0);}catch(r){O=!0,E=r}finally{try{S||null==j.return||j.return()}finally{if(O)throw E}}return l}(r,a)||function insertImageButton_unsupportedIterableToArray(r,a){if(!r)return;if("string"==typeof r)return insertImageButton_arrayLikeToArray(r,a);var l=Object.prototype.toString.call(r).slice(8,-1);"Object"===l&&r.constructor&&(l=r.constructor.name);if("Map"===l||"Set"===l)return Array.from(r);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return insertImageButton_arrayLikeToArray(r,a)}(r,a)||function insertImageButton_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function insertImageButton_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var l=0,S=new Array(a);l<a;l++)S[l]=r[l];return S}function editorModal_typeof(r){return(editorModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function editorModal_extends(){return(editorModal_extends=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&(r[S]=l[S])}return r}).apply(this,arguments)}function editorModal_classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function editorModal_defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function editorModal_setPrototypeOf(r,a){return(editorModal_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,a){return r.__proto__=a,r})(r,a)}function editorModal_createSuper(r){var a=function editorModal_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function _createSuperInternal(){var l,S=editorModal_getPrototypeOf(r);if(a){var O=editorModal_getPrototypeOf(this).constructor;l=Reflect.construct(S,arguments,O)}else l=S.apply(this,arguments);return editorModal_possibleConstructorReturn(this,l)}}function editorModal_possibleConstructorReturn(r,a){return!a||"object"!==editorModal_typeof(a)&&"function"!=typeof a?editorModal_assertThisInitialized(r):a}function editorModal_assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function editorModal_getPrototypeOf(r){return(editorModal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}function editorModal_defineProperty(r,a,l){return a in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,r}var _e={url:null,align:"",width:0,naturalWidth:0,size:$.e.FULL_SIZE},be={InsertImageButton:function InsertImageButton(r){var a=insertImageButton_slicedToArray(Object(T.useState)(!1),2),l=a[0],S=a[1],E=insertImageButton_slicedToArray(Object(T.useState)(null),2),D=E[0],q=E[1],B=r.isActive,Z=r.visible,ee=r.onApply,te=r.getContainer,ne=r.onModal,re=r.editableElementSelector,oe=G()({hide:!Z}),ie=O.a.debounce((function(){q(null),pe.fileDialog({multiple:!1,accept:$.b}).then((function(r){ne(!0),S(!0),q(r[0])}))}),10,!0),ae=function(){var r=te();if(r){var a=r.querySelector(re),l=a&&a.querySelectorAll("img");return!!(l&&l.length>=$.f)}return!1}();return j.a.createElement(j.a.Fragment,null,j.a.createElement(Q.a.Button,insertImageButton_extends({},r,{isActive:B,disabled:ae,className:oe,onClick:ie})),j.a.createElement(ye,insertImageButton_extends({},r,{selectedFile:D,relativeNode:te,modalIsOpen:l,onRequestClose:function closeModal(){ne(null),q(null),S(!1)},onApply:ee})))},EditImageButton:modalWithToggle(function(r){!function editorModal_inherits(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&editorModal_setPrototypeOf(r,a)}(ImageEditorModal,r);var a=editorModal_createSuper(ImageEditorModal);function ImageEditorModal(){var r;editorModal_classCallCheck(this,ImageEditorModal);for(var l=arguments.length,S=new Array(l),E=0;E<l;E++)S[E]=arguments[E];return editorModal_defineProperty(editorModal_assertThisInitialized(r=a.call.apply(a,[this].concat(S))),"state",O.a.extend({},_e)),editorModal_defineProperty(editorModal_assertThisInitialized(r),"cleanUpAndClose",(function(){r.setState(_e),r.props.onRequestClose()})),editorModal_defineProperty(editorModal_assertThisInitialized(r),"onImageEditorChanged",(function(a){var l=a.width,S=a.size;r.setState({width:l,size:S})})),editorModal_defineProperty(editorModal_assertThisInitialized(r),"onApply",(function(a){var l=r.props.onApply,S=generateImageAttributes(r.state);a.preventDefault(),a.stopPropagation(),l(S),r.cleanUpAndClose()})),r}return function editorModal_createClass(r,a,l){return a&&editorModal_defineProperties(r.prototype,a),l&&editorModal_defineProperties(r,l),r}(ImageEditorModal,[{key:"componentDidUpdate",value:function componentDidUpdate(){var r=this.props,a=r.image;r.modalIsOpen&&a&&this.state.url!==a.url&&this.setState(O.a.extend({},_e,a))}},{key:"render",value:function render(){var r=this,a=this.state.url,l=this.props,S=l.i18n,O=l.relativeNode,E=l.responseId,T=l.modalIsOpen,D=S.labels.editor.modals;return j.a.createElement(j.a.Fragment,null,j.a.createElement(te.a,{className:"lrn-full-width",getRef:function getRef(a){return r.el=a},title:D.imageTitle,parentNode:O,modalIsOpen:T,onRequestClose:this.cleanUpAndClose},a&&j.a.createElement(j.a.Fragment,null,j.a.createElement(ImageEditor,editorModal_extends({},this.state,{labels:D,responseId:E,onChange:this.onImageEditorChanged})),j.a.createElement("hr",null),j.a.createElement("div",{className:"lrn-wysihtml-modal-controls"},j.a.createElement("button",{className:"lrn_btn lrn_btn_blue editor-modal-blue-button","data-lrn-action":"apply",onClick:this.onApply,type:"button"},D.apply),j.a.createElement("button",{className:"lrn_btn","data-lrn-action":"cancel",onClick:this.cleanUpAndClose,type:"button"},D.cancel)))))}}]),ImageEditorModal}(j.a.PureComponent))};function subToolbar_extends(){return(subToolbar_extends=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&(r[S]=l[S])}return r}).apply(this,arguments)}var ve=function getImageFromProps(r){var a=O.a.findWhere(r.activeActions,{action:"insertImage"}),l=a&&a.target;return l?function getImageProps(r){var a,l,S,O=r.naturalWidth,E=r.naturalHeight,T=r.width,j=r.src,D=r.className;return{naturalWidth:O,naturalHeight:E,url:j,width:T||0,size:(a=D,l="lrn-size-(\\S+)",S=new RegExp(l,"g").exec(a),(S&&S.length>=2?S[1]:"")||$.e.FULL_SIZE)}}(l):null};function ImageEditorSubControl(r){var a=r.image,l=r.i18n,S=r.onClick,O=r.onModal,E=l.labels.editor.toolbar,T=!!a;return j.a.createElement(j.a.Fragment,null,j.a.createElement(be.EditImageButton,subToolbar_extends({},r,{name:"editImage",image:a,getImage:function getImage(){return a},icon:$.a.image.icons.edit,label:E.editImage,isActive:!1,visible:!0,disabled:!T,onApply:function onApply(r){return S({type:"insertImage",params:r})},onModal:function onModal(r){return O(r?"editImage":null)}})),j.a.createElement(Q.a.Button,subToolbar_extends({},r,{name:"preview",icon:$.a.image.icons.preview,label:E.previewImage,disabled:!T,onClick:function onClick(){return S({type:"previewImage",url:a.url})}})),j.a.createElement(Q.a.Button,subToolbar_extends({},r,{name:"delete",icon:$.a.image.icons.delete,label:E.deleteImage,disabled:!T,onClick:function onClick(){return S({type:"deleteImage"})}})))}function SubToolbar(r){var a=ve(r),l=G()({in:!!a},"lrn-sub-toolbar lrn-wysihtml-toolbar lrn-animation-dropdown");return j.a.createElement("div",{className:l},O.a.contains(r.formattingOptions,"image")&&j.a.createElement(ImageEditorSubControl,subToolbar_extends({},r,{image:a})))}var we=l(311);function toolbar_typeof(r){return(toolbar_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function toolbar_classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function toolbar_defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function toolbar_setPrototypeOf(r,a){return(toolbar_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,a){return r.__proto__=a,r})(r,a)}function toolbar_createSuper(r){var a=function toolbar_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function _createSuperInternal(){var l,S=toolbar_getPrototypeOf(r);if(a){var O=toolbar_getPrototypeOf(this).constructor;l=Reflect.construct(S,arguments,O)}else l=S.apply(this,arguments);return toolbar_possibleConstructorReturn(this,l)}}function toolbar_possibleConstructorReturn(r,a){return!a||"object"!==toolbar_typeof(a)&&"function"!=typeof a?toolbar_assertThisInitialized(r):a}function toolbar_assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function toolbar_getPrototypeOf(r){return(toolbar_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}function toolbar_defineProperty(r,a,l){return a in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,r}function _toConsumableArray(r){return function _arrayWithoutHoles(r){if(Array.isArray(r))return toolbar_arrayLikeToArray(r)}(r)||function _iterableToArray(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}(r)||function toolbar_unsupportedIterableToArray(r,a){if(!r)return;if("string"==typeof r)return toolbar_arrayLikeToArray(r,a);var l=Object.prototype.toString.call(r).slice(8,-1);"Object"===l&&r.constructor&&(l=r.constructor.name);if("Map"===l||"Set"===l)return Array.from(r);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return toolbar_arrayLikeToArray(r,a)}(r)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function toolbar_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var l=0,S=new Array(a);l<a;l++)S[l]=r[l];return S}function toolbar_extends(){return(toolbar_extends=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&(r[S]=l[S])}return r}).apply(this,arguments)}var xe="ArrowRight",Se="ArrowLeft";function getControls(r,a){return O.a.reduce(r.formattingOptions,(function(l,S){var O=$.a[S],E=l.length,T={control:O,key:S,index:E,props:r,selectedIndex:a};if(O&&(l.push(getControl(T)),"table"===S)){var j={control:$.a.editTable,key:"editTable",index:E+1,props:r,selectedIndex:a};l.push(getControl(j))}return l}),[])}function getControl(r){var a=r.control,l=r.key,S=r.index,E=r.props,T=r.selectedIndex,D=E.i18n,q=E.isChemistry,B=E.disabled,G=E.activeModal,Z=E.formulaEditorHorizontalLayout,$=E.formulaEditorNumberPad,te=E.formulaEditorSymbols,ne=E.formulaEditorTextBlocks,re=E.modalData,ie=E.activeActions,ae=E.onClick,se=E.onModal,le=E.onMouseEnter,ce=E.onMouseLeave,ue=E.characterMapModalClassName,pe=E.focusButtonInsideToolbar,fe=D.labels.ariaLabel,de=a.icon,he=a.type,me=D.labels.editor.toolbar[l],ge=!!O.a.findWhere(ie,{action:l}),ye="".concat(l).concat(S),_e=S===T?0:-1;switch(he){case"divider":return j.a.createElement(Q.a.Divider,{key:ye,name:he});case"button":return j.a.createElement(Q.a.Button,toolbar_extends({},E,{key:ye,name:l,icon:de,label:me,tabIndex:_e,isActive:ge,disabled:B,onClick:function onClick(){return ae({type:l})}}));case"charactermap":var ve=E.characterMap,xe=!0===ve?_toConsumableArray(D.labels.characterMapCharacters):ve;return j.a.createElement(ee.a.CharacterMapButton,{key:ye,label:D.labels.characterMapIcon,title:D.labels.characterMapTitle,disabled:B,characters:xe,className:"lrn-wysihtml-toolbar",modalClassName:ue,tabIndex:_e,recoverFocus:pe,onMouseEnter:function onMouseEnter(){return le(D.labels.characterMapTitle)},onMouseLeave:ce,onSelect:function onSelect(r){return ae({type:"characterMap",params:r})}});case"characterMathMap":var Se=_toConsumableArray(D.labels.characterMapMathCharacters);return(j.a.createElement(ee.a.CharacterMapButton,{key:ye,label:D.labels.characterMapMathIcon,title:D.labels.characterMathMapTitle,onMouseEnter:function onMouseEnter(){return le(D.labels.characterMathMapTitle)},onMouseLeave:ce,disabled:B,characters:Se,tabIndex:_e,recoverFocus:pe,className:"lrn-wysihtml-toolbar",modalClassName:ue,onSelect:function onSelect(r){return ae({type:"characterMap",params:r})}}));case"createTable":var Oe=O.a.findWhere(ie,{action:"editTable"});return(j.a.createElement(oe.CreateTableButton,toolbar_extends({},E,{key:ye,name:l,icon:de,tabIndex:_e,label:me,disabled:B,visible:!Oe,onApply:function onApply(r){return ae({type:"createTable",params:r})},onModal:function onModal(r){return se(r?"createTable":null)}})));case"editTable":return j.a.createElement(oe.EditTableButton,toolbar_extends({},E,{key:ye,name:l,icon:de,tabIndex:_e,label:D.labels.editor.editTable,isActive:ge,visible:ge,disabled:B,onApply:function onApply(r){return ae({type:r.type,params:r.params})},onModal:function onModal(r){return se(r?"editTable":null)}}));case"insertImage":return j.a.createElement(be.InsertImageButton,{i18n:D,getContainer:E.getContainer,editableElementSelector:E.editableElementSelector,responseId:E.responseId,key:ye,name:"insertImage",icon:de,tabIndex:_e,label:me,visible:!0,onMouseEnter:le,onMouseLeave:ce,onApply:function onApply(r){return ae({type:"insertImage",params:r})},onModal:function onModal(r){return se(r?"insertImage":null)}});case"formulaEditor":return j.a.createElement(we.a.FormulaEditorButton,{activeModal:G,className:"lrn-wysihtml-toolbar",disabled:B,getContainer:E.getContainer,horizontalLayout:Z,i18n:D,icon:de,isActive:ge,isChemistry:q,key:ye,modalData:re,onApply:function onApply(r){return ae(r)},onModal:se,onMouseEnter:function onMouseEnter(){return le(fe.mathKeyboard.title)},onMouseLeave:ce,tabIndex:_e,symbols:te,textBlocks:ne,numberPad:$,title:fe.mathKeyboard.title});default:return null}}function lrnToolbar_extends(){return(lrnToolbar_extends=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&(r[S]=l[S])}return r}).apply(this,arguments)}var Oe={WYSIHTML:function withWYSIHTML(r){return function(a){return a.isReviewState?null:j.a.createElement(r,lrnToolbar_extends({},a,{className:"lrn-wysihtml-toolbar",activeClassName:"wysihtml-command-active",role:"group"}))}}(function(r){!function toolbar_inherits(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&toolbar_setPrototypeOf(r,a)}(Toolbar,r);var a=toolbar_createSuper(Toolbar);function Toolbar(){var r;toolbar_classCallCheck(this,Toolbar);for(var l=arguments.length,S=new Array(l),O=0;O<l;O++)S[O]=arguments[O];return toolbar_defineProperty(toolbar_assertThisInitialized(r=a.call.apply(a,[this].concat(S))),"state",{index:0}),toolbar_defineProperty(toolbar_assertThisInitialized(r),"handleKeyDown",(function(a){a.stopPropagation();var l=a.key;if(l===Se||l===xe){var S=r.rovingTabIndex(l);r.setState({index:S})}})),toolbar_defineProperty(toolbar_assertThisInitialized(r),"rovingTabIndex",(function(a){for(var l=toolbar_assertThisInitialized(r),S=l.props,O=l.state,E=getControls(S,O.index),T=r.moveIndex(O.index,a,E.length);"divider"===E[T].props.name||"editTable"===E[T].props.name;)T=r.moveIndex(T,a,E.length);return T})),toolbar_defineProperty(toolbar_assertThisInitialized(r),"moveIndex",(function(r,a,l){var S=r;return a===Se?S--:a===xe&&S++,Math.max(Math.min(S,l-1),0)})),r}return function toolbar_createClass(r,a,l){return a&&toolbar_defineProperties(r.prototype,a),l&&toolbar_defineProperties(r,l),r}(Toolbar,[{key:"componentDidUpdate",value:function componentDidUpdate(r,a){this.state.index!==a.index&&this.props.focusButtonInsideToolbar()}},{key:"render",value:function render(){var r=this.props,a=this.state,l=r.i18n.labels.ariaLabel,S=getControls(r,a.index),O=G()({"lrn-toolbar-rtl":r.toolbarRtlEditingMode},r.className,"lrn_clearfix");return j.a.createElement("div",{className:"lrn-toolbar"},j.a.createElement("div",{ref:r.toolbarRef,onKeyDown:this.handleKeyDown,className:O,role:"toolbar","aria-label":l.longTextV2.toolbar},S),j.a.createElement(SubToolbar,r))}}]),Toolbar}(j.a.Component))};function preview_typeof(r){return(preview_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function preview_ownKeys(r,a){var l=Object.keys(r);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(r);a&&(S=S.filter((function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),l.push.apply(l,S)}return l}function preview_objectSpread(r){for(var a=1;a<arguments.length;a++){var l=null!=arguments[a]?arguments[a]:{};a%2?preview_ownKeys(Object(l),!0).forEach((function(a){preview_defineProperty(r,a,l[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(l)):preview_ownKeys(Object(l)).forEach((function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(l,a))}))}return r}function preview_extends(){return(preview_extends=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&(r[S]=l[S])}return r}).apply(this,arguments)}function preview_classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function preview_defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function preview_createClass(r,a,l){return a&&preview_defineProperties(r.prototype,a),l&&preview_defineProperties(r,l),r}function preview_inherits(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&preview_setPrototypeOf(r,a)}function preview_setPrototypeOf(r,a){return(preview_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,a){return r.__proto__=a,r})(r,a)}function preview_createSuper(r){var a=function preview_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function _createSuperInternal(){var l,S=preview_getPrototypeOf(r);if(a){var O=preview_getPrototypeOf(this).constructor;l=Reflect.construct(S,arguments,O)}else l=S.apply(this,arguments);return preview_possibleConstructorReturn(this,l)}}function preview_possibleConstructorReturn(r,a){return!a||"object"!==preview_typeof(a)&&"function"!=typeof a?preview_assertThisInitialized(r):a}function preview_assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function preview_getPrototypeOf(r){return(preview_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}function preview_defineProperty(r,a,l){return a in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,r}var Ce={fullSize:!1,scrollPosition:null,zoomable:!1,imageSizeText:""},Pe=function(r){preview_inherits(ImagePreview,r);var a=preview_createSuper(ImagePreview);function ImagePreview(){var r;preview_classCallCheck(this,ImagePreview);for(var l=arguments.length,S=new Array(l),O=0;O<l;O++)S[O]=arguments[O];return preview_defineProperty(preview_assertThisInitialized(r=a.call.apply(a,[this].concat(S))),"state",preview_objectSpread({},Ce)),preview_defineProperty(preview_assertThisInitialized(r),"onImageClick",(function(a){if(a.preventDefault(),a.stopPropagation(),r.state.fullSize)r.onToggleFullSize();else{var l=a.currentTarget.getBoundingClientRect(),S=(a.clientX-l.left)/l.width,O=(a.clientY-l.top)/l.height;r.setState({fullSize:!0},(function(){r.scrollToPosition(S,O)}))}})),preview_defineProperty(preview_assertThisInitialized(r),"validateImageSize",(function(){if(r.image&&r.imageWrapper){var a=r.props.labels,l=r.image,S=l.naturalWidth,O=l.naturalHeight,E=r.imageWrapper.getBoundingClientRect();r.setState({imageSizeText:Object(le.a)(a.imagePreviewText,{width:S,height:O}),zoomable:S>E.width||O>E.height})}})),preview_defineProperty(preview_assertThisInitialized(r),"close",(function(){r.setState(Ce),r.props.onClose()})),preview_defineProperty(preview_assertThisInitialized(r),"onToggleFullSize",(function(){r.setState({fullSize:!r.state.fullSize})})),r}return preview_createClass(ImagePreview,[{key:"render",value:function render(){var r=this,a=this.props,l=this.state,S=a.url,O=a.labels,E=l.fullSize,T=l.zoomable,D=l.imageSizeText;if(!S)return null;var q=G()({"full-size":E,zoomable:T}),B=T?{onClick:this.onImageClick}:{};return j.a.createElement("div",{className:"lrn-image-preview"},j.a.createElement("div",{className:"lrn-image-preview-toolbar"},j.a.createElement("div",{className:"lrn-image-preview-size-label"},D),j.a.createElement("div",{className:"lrn-image-preview-control"},j.a.createElement("a",{className:"lrn_btn lrn-btn-outline snow-theme",href:S,target:"_blank"},O.openImageURL),T&&j.a.createElement("button",{className:"lrn_btn lrn-btn-outline snow-theme",onClick:this.onToggleFullSize,type:"button"},E?O.zoomOut:O.zoomIn)),j.a.createElement("div",{className:"close-button"},j.a.createElement("button",{className:"lrn_btn lrn-btn-outline snow-theme lrn-btn-close",type:"button",onClick:this.close},j.a.createElement("span",{className:"lrn-icon-clear"})))),j.a.createElement("div",{className:"lrn-image-wrapper-container"},j.a.createElement("div",{className:"lrn-image-wrapper",ref:function ref(a){return r.imageWrapper=a}},j.a.createElement("img",preview_extends({src:S,className:q,onLoad:this.validateImageSize,ref:function ref(a){return r.image=a},alt:O.imageTitle},B)))))}},{key:"scrollToPosition",value:function scrollToPosition(r,a){var l=this.image.getBoundingClientRect(),S=l.width,O=l.height,E=this.imageWrapper.getBoundingClientRect(),T=parseInt(r*S-E.width/2,10),j=parseInt(a*O-E.height/2,10);this.imageWrapper.scrollTop=j,this.imageWrapper.scrollLeft=T}}]),ImagePreview}(j.a.PureComponent),Ee=function withImageClickDetection(r){return function(a){preview_inherits(_temp,a);var l=preview_createSuper(_temp);function _temp(){var r;preview_classCallCheck(this,_temp);for(var a=arguments.length,S=new Array(a),O=0;O<a;O++)S[O]=arguments[O];return preview_defineProperty(preview_assertThisInitialized(r=l.call.apply(l,[this].concat(S))),"state",{url:null}),preview_defineProperty(preview_assertThisInitialized(r),"onContainerClick",(function(a){a.preventDefault(),a.stopPropagation(),"IMG"===a.target.tagName&&(r.setState({url:a.target.src}),r.props.onOpen())})),preview_defineProperty(preview_assertThisInitialized(r),"onClose",(function(){r.setState({url:null}),r.props.onClose()})),r}return preview_createClass(_temp,[{key:"componentDidMount",value:function componentDidMount(){this.container=this.props.getContainer(),this.container.addEventListener("click",this.onContainerClick)}},{key:"componentDidUpdate",value:function componentDidUpdate(r,a){a.url!==this.state.url&&(this.state.url?this.container.removeEventListener("click",this.onContainerClick):this.container.addEventListener("click",this.onContainerClick))}},{key:"render",value:function render(){return j.a.createElement(r,preview_extends({},this.props,{url:this.state.url,onClose:this.onClose}))}}]),_temp}(j.a.PureComponent)}(Pe),Te=l(294);function Tooltip(r){var a=r.disabled,l=r.activeAction;return a?null:j.a.createElement("span",null,l)}function LengthIndicator(r){var a=r.wordCountExceeded,l="lrn_length_indicator  ".concat(a?"lrn_wordcount_warning_label":"");return j.a.createElement("span",{className:l}," ",j.a.createElement(WordCount,r),j.a.createElement(WordStatic,r),j.a.createElement(WordLimit,r),j.a.createElement(AccessibleCounter,r))}function WordCount(r){var a=r.wordCountVisible,l=r.wordCount;return a?j.a.createElement("span",{className:"lrn_word_count"},l):null}function AccessibleCounter(r){var a=r.textToAnnounce;return(j.a.createElement("span",{className:"sr-only","aria-live":"polite","aria-atomic":"true"},a))}function WordStatic(r){var a=r.wordStaticVisible,l=r.wordCountVisible,S=r.i18n.labels.word;return a&&l?j.a.createElement("span",{className:"lrn_static_words"},S):null}function WordLimit(r){var a=r.wordLimitVisible,l=r.wordCountVisible,S=r.wordMaxLength,O=l?" /":"",E=r.i18n.labels.wordLength,T="".concat(O," ").concat(S," ").concat(E);return a?j.a.createElement("span",{className:"lrn_word_limit"},T):null}var Ie=function Footer(r){return j.a.createElement("footer",{className:"lrn-toolbar-footer  lrn_clearfix"},j.a.createElement("div",{className:"lrn_toolbar_footer_left"},j.a.createElement(Tooltip,r)),j.a.createElement("div",{className:"lrn_toolbar_footer_right"},j.a.createElement(LengthIndicator,r)))},Me=l(32);function longTextV2_typeof(r){return(longTextV2_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function longTextV2_extends(){return(longTextV2_extends=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&(r[S]=l[S])}return r}).apply(this,arguments)}function longTextV2_defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function longTextV2_createClass(r,a,l){return a&&longTextV2_defineProperties(r.prototype,a),l&&longTextV2_defineProperties(r,l),r}function longTextV2_setPrototypeOf(r,a){return(longTextV2_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,a){return r.__proto__=a,r})(r,a)}function longTextV2_createSuper(r){var a=function longTextV2_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function _createSuperInternal(){var l,S=longTextV2_getPrototypeOf(r);if(a){var O=longTextV2_getPrototypeOf(this).constructor;l=Reflect.construct(S,arguments,O)}else l=S.apply(this,arguments);return longTextV2_possibleConstructorReturn(this,l)}}function longTextV2_possibleConstructorReturn(r,a){return!a||"object"!==longTextV2_typeof(a)&&"function"!=typeof a?longTextV2_assertThisInitialized(r):a}function longTextV2_assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function longTextV2_getPrototypeOf(r){return(longTextV2_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}function longTextV2_defineProperty(r,a,l){return a in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,r}var Ae=function(r){!function longTextV2_inherits(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&longTextV2_setPrototypeOf(r,a)}(LongTextV2,r);var a=longTextV2_createSuper(LongTextV2);function LongTextV2(r){var l;return function longTextV2_classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}(this,LongTextV2),longTextV2_defineProperty(longTextV2_assertThisInitialized(l=a.call(this,r)),"state",{toolbarActiveActions:[],toolbarRtlEditingMode:Me.a.isRtl(),footerActiveAction:null,isPreviewingImage:!1,previewingImageUrl:null,actionToDo:null,activeModal:null,modalData:null,container:null,textToAnnounce:""}),longTextV2_defineProperty(longTextV2_assertThisInitialized(l),"toolbarRef",j.a.createRef()),longTextV2_defineProperty(longTextV2_assertThisInitialized(l),"setContainerElement",(function(r){return l.el=r})),longTextV2_defineProperty(longTextV2_assertThisInitialized(l),"getContainerElement",(function(){return l.el})),longTextV2_defineProperty(longTextV2_assertThisInitialized(l),"onImagePreviewOpened",(function(){return l.setState({isPreviewingImage:!0})})),longTextV2_defineProperty(longTextV2_assertThisInitialized(l),"onImagePreviewClosed",(function(){return l.setState({isPreviewingImage:!1,previewingImageUrl:null})})),longTextV2_defineProperty(longTextV2_assertThisInitialized(l),"focusButtonInsideToolbar",(function(){var r=l.toolbarRef.current.querySelector("[tabIndex='0']");r&&r.focus()})),longTextV2_defineProperty(longTextV2_assertThisInitialized(l),"onToolbarControlHover",(function(r){l.setState({footerActiveAction:r})})),longTextV2_defineProperty(longTextV2_assertThisInitialized(l),"onToolbarActionToDo",(function(r){r&&"previewImage"===r.type?(l.setState({previewingImageUrl:r.url}),l.onImagePreviewOpened()):l.setState({actionToDo:r})})),longTextV2_defineProperty(longTextV2_assertThisInitialized(l),"onEditorActionDone",(function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},S=a.type,E=O()([$.c.EDIT_FORMULA,$.c.CREATE_FORMULA]).contains(S);E&&l.props.renderMath(),l.setState(O.a.extend(getToolbarState(r),{actionToDo:null}))})),longTextV2_defineProperty(longTextV2_assertThisInitialized(l),"onEditorInteraction",(function(r){l.setState(getToolbarState(r))})),longTextV2_defineProperty(longTextV2_assertThisInitialized(l),"onEditorValueChange",(function(r){l.props.longTextV2Actions.updateValue(r),l.updateAriaLiveText()})),longTextV2_defineProperty(longTextV2_assertThisInitialized(l),"onMathWidgetPaste",(function(){l.props.renderMath()})),longTextV2_defineProperty(longTextV2_assertThisInitialized(l),"onMathWidgetSelect",(function(r){l.onModal($.g.FORMULA_EDITOR,r)})),longTextV2_defineProperty(longTextV2_assertThisInitialized(l),"updateAriaLiveText",(function(){var r=l.getWordLimitText();setTimeout((function(){return!l._unmounted&&l.setState({textToAnnounce:r})}),500)})),longTextV2_defineProperty(longTextV2_assertThisInitialized(l),"getWordLimitText",(function(){var r=l.props.longTextV2.footer,a=r.wordCount,S=r.wordMaxLength,O=r.wordCountVisible,E=r.wordLimitVisible,T="of ".concat(S," allowed");return O?"".concat(a," words written ").concat(E?T:""):""})),longTextV2_defineProperty(longTextV2_assertThisInitialized(l),"onModal",(function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;l.setState({modalData:a,activeModal:r})})),l.onEditorValueChange=O.a.debounce(l.onEditorValueChange,500).bind(longTextV2_assertThisInitialized(l)),l.updateAriaLiveText=O.a.debounce(l.updateAriaLiveText,500),l}return longTextV2_createClass(LongTextV2,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(){return!this._unmounted}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._unmounted=!0}}]),longTextV2_createClass(LongTextV2,[{key:"render",value:function render(){var r=this,a=this.props,l=a.base,S=a.longTextV2,E=a.canInsertImage,T=l.isReviewState,D=l.isPreviewState,q=l.readOnly,B=l.disabled,$=l.i18n,Q=l.fontSizeClass,ee=l.responseId,te=S.wordCountExceeded,ne=S.disableAutoLink,re=this.state,oe=re.toolbarActiveActions,ie=re.toolbarRtlEditingMode,ae=re.isPreviewingImage,se=re.previewingImageUrl,le=re.footerActiveAction,ce=re.actionToDo,ue=re.activeModal,pe=re.modalData,fe=re.container,de=re.textToAnnounce,he=G()({lrn_texteditor_inactive:ue,lrn_hide:ae},"lrn_texteditor"),me=B||q,ge="chemistryessayV2"===l.questionType,ye=(l.disableSpokenmathUserInputs,S.toolbar.formattingOptions),_e=!O.a.contains(ye,"image"),be=!O.a.contains(ye,"formulaEditor"),ve=$.labels.longTextV2,we=ve.invalidExternalImageWarning,xe=ve.invalidExternalMathWarning;return j.a.createElement(Z.a,{responsive:E},j.a.createElement("div",{className:"lrn_response_input_wrapper"},j.a.createElement("div",{className:he,ref:this.setContainerElement},j.a.createElement(Oe.WYSIHTML,longTextV2_extends({},S.toolbar,{toolbarRtlEditingMode:ie,isReviewState:T,isPreviewState:D,i18n:$,isChemistry:ge,characterMapModalClassName:Q,disabled:me||ue,activeActions:oe,activeModal:ue,modalData:pe,responseId:ee,getContainer:function getContainer(){return fe},editableElementSelector:".".concat("lrn_longtextinput"),onMouseEnter:this.onToolbarControlHover,onMouseLeave:function onMouseLeave(){return r.onToolbarControlHover(null)},onClick:this.onToolbarActionToDo,onModal:this.onModal,focusButtonInsideToolbar:this.focusButtonInsideToolbar,toolbarRef:this.toolbarRef})),j.a.createElement(Te.a.WYSIHTML,longTextV2_extends({},S.lrnEditor,{isReviewState:T,readOnly:q,className:"lrn_longtextinput",disabled:me,inactive:!!ue,i18n:$,wordCountExceeded:te,actionToDo:ce,focusButtonInsideToolbar:this.focusButtonInsideToolbar,onInteraction:this.onEditorInteraction,onValueChange:this.onEditorValueChange,onActionDone:this.onEditorActionDone,onMathWidgetSelect:this.onMathWidgetSelect,onMathWidgetPaste:this.onMathWidgetPaste,disableAutoLink:ne,invalidExternalImageWarning:we,invalidExternalMathWarning:xe,stripExternalPastedImages:_e,stripExternalPastedMath:be})),j.a.createElement(Ie,longTextV2_extends({},S.footer,{textToAnnounce:de,i18n:$,disabled:me,wordCountExceeded:te,activeAction:le}))),q&&j.a.createElement(Ee,{labels:$.labels.editor.modals,getContainer:this.getContainerElement,onOpen:this.onImagePreviewOpened,onClose:this.onImagePreviewClosed}),!q&&E&&j.a.createElement(Pe,{url:se,labels:$.labels.editor.modals,visible:ae,getContainer:this.getContainerElement,onOpen:this.onImagePreviewOpened,onClose:this.onImagePreviewClosed})))}},{key:"componentDidMount",value:function componentDidMount(){this.setState({container:this.el})}}]),LongTextV2}(j.a.Component);function getToolbarState(r){return{toolbarActiveActions:r,toolbarRtlEditingMode:O.a.isEmpty(r)?Me.a.isRtl():O.a.some(r,{action:"textDirectionRtl"})}}var Le=q.b((function(r){return{base:r.base,longTextV2:r.longTextV2,canInsertImage:O.a.contains(r.longTextV2.toolbar.formattingOptions,"image")}}),(function(r){return{longTextV2Actions:D.b(he,r),renderMath:D.b(fe.a.renderMathIfRequired,r)}}))(Ae),Re=l(26),ke=l(225),ze=l(206),je=l(275);function dataService_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var l=0,S=new Array(a);l<a;l++)S[l]=r[l];return S}function dataService_typeof(r){return(dataService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function dataService_defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function _get(r,a,l){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(r,a,l){var S=function _superPropBase(r,a){for(;!Object.prototype.hasOwnProperty.call(r,a)&&null!==(r=dataService_getPrototypeOf(r)););return r}(r,a);if(S){var O=Object.getOwnPropertyDescriptor(S,a);return O.get?O.get.call(l):O.value}})(r,a,l||r)}function dataService_setPrototypeOf(r,a){return(dataService_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,a){return r.__proto__=a,r})(r,a)}function dataService_createSuper(r){var a=function dataService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function _createSuperInternal(){var l,S=dataService_getPrototypeOf(r);if(a){var O=dataService_getPrototypeOf(this).constructor;l=Reflect.construct(S,arguments,O)}else l=S.apply(this,arguments);return dataService_possibleConstructorReturn(this,l)}}function dataService_possibleConstructorReturn(r,a){return!a||"object"!==dataService_typeof(a)&&"function"!=typeof a?dataService_assertThisInitialized(r):a}function dataService_assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function dataService_getPrototypeOf(r){return(dataService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}var De=function(r){!function dataService_inherits(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&dataService_setPrototypeOf(r,a)}(LongTextV2DataService,r);var a=dataService_createSuper(LongTextV2DataService);function LongTextV2DataService(r,l){var S;return function dataService_classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}(this,LongTextV2DataService),S=a.call(this,r,l),Object(ke.a)(dataService_assertThisInitialized(S)),Object(je.a)(dataService_assertThisInitialized(S)),S}return function dataService_createClass(r,a,l){return a&&dataService_defineProperties(r.prototype,a),l&&dataService_defineProperties(r,l),r}(LongTextV2DataService,[{key:"getInitialState",value:function getInitialState(){var r=_get(dataService_getPrototypeOf(LongTextV2DataService.prototype),"getInitialState",this).call(this),a=this.placeholder,l=this.browserSpellCheck,S=Object(ze.a)(l),E=Object(ze.b)(l),T=Object(ze.c)(l),j=this.responseValue,D=this.uiStyle,q=this.wordCount,B=this.wordCountExceeded,G=this.wordCountVisible,Z=this.wordLimitVisibility,$=Z.wordStatic,Q=Z.wordLimit,ee=this.wordMaxLength,te=this.formattingOptions,ne=this.characterMap,re=this.disableAutoLink,oe=this.formulaEditorHorizontalLayout,ie=this.formulaEditorSymbols,ae=this.formulaEditorTextBlocks,se=this.formulaEditorNumberPad;return O.a.extend(r,{longTextV2:{wordCountExceeded:B,disableAutoLink:re,maxFileSize:this.maxFileSize,warningFileSize:this.warningFileSize,toolbar:{formattingOptions:te,characterMap:ne,formulaEditorHorizontalLayout:oe,formulaEditorNumberPad:se,formulaEditorSymbols:ie,formulaEditorTextBlocks:ae},lrnEditor:{placeholder:a,spellCheck:l,autocapitalize:S,autocomplete:E,autocorrect:T,responseValue:j,uiStyle:D},footer:{wordCount:q,wordCountVisible:G,wordStaticVisible:$,wordLimitVisible:Q,wordMaxLength:ee}}})}},{key:"getWordLimitVisibility",value:function getWordLimitVisibility(){return this.wordLimitVisibility}},{key:"getWordCountExceeded",value:function getWordCountExceeded(){return this.wordCountExceeded}},{key:"formatValue",value:function formatValue(r){return r=(r||"").replace(/<p[^>]*>\s?<\/p>/gi,"")}},{key:"wordLimitVisibility",get:function get(){var r,a,l=this.model,S=l.SHOW_WORD_LIMITS,O=l.getShowWordLimit();return O===S.ALWAYS||O===S.ON&&this.wordCountExceeded?(a=!0,r=!1):(a=!1,r=!0),{wordLimit:a,wordStatic:r}}},{key:"placeholder",get:function get(){return this.model.getPlaceholder()}},{key:"browserSpellCheck",get:function get(){return this.model.getBrowserSpellCheck()}},{key:"disableAutoLink",get:function get(){return this.model.disableAutoLink()}},{key:"formulaEditorHorizontalLayout",get:function get(){return!!this.question.horizontal_layout}},{key:"formulaEditorNumberPad",get:function get(){return this.question.numberPad}},{key:"formulaEditorSymbols",get:function get(){return this.question.symbols}},{key:"formulaEditorTextBlocks",get:function get(){return this.question.text_blocks}},{key:"responseValue",get:function get(){var r=this.getResponse();return O.a.getNested(r,"value")}},{key:"uiStyle",get:function get(){var r=O.a.extend({},this.model.getUIStyle());return r.minHeight=r.min_height||"",r.maxHeight=r.max_height||"",delete r.min_height,delete r.max_height,r}},{key:"wordCount",get:function get(){return this.model.getWordCount()}},{key:"wordCountExceeded",get:function get(){return this.model.wordCountExceeded()}},{key:"wordCountVisible",get:function get(){return this.model.getShowWordCount()}},{key:"wordMaxLength",get:function get(){return this.model.getMaxLength()}},{key:"formattingOptions",get:function get(){return this.model.getFormattingOptions()}}]),LongTextV2DataService}(Re.a);De.prototype.EXPOSED_METHODS=[].concat(function dataService_toConsumableArray(r){return function dataService_arrayWithoutHoles(r){if(Array.isArray(r))return dataService_arrayLikeToArray(r)}(r)||function dataService_iterableToArray(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}(r)||function dataService_unsupportedIterableToArray(r,a){if(!r)return;if("string"==typeof r)return dataService_arrayLikeToArray(r,a);var l=Object.prototype.toString.call(r).slice(8,-1);"Object"===l&&r.constructor&&(l=r.constructor.name);if("Map"===l||"Set"===l)return Array.from(r);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return dataService_arrayLikeToArray(r,a)}(r)||function dataService_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(De.prototype.EXPOSED_METHODS),["getWordLimitVisibility","getWordCountExceeded","formatValue"]);var Ne,Fe=De,Ve=l(25),Ue=l(212);function reducer_defineProperty(r,a,l){return a in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,r}var We=l.n(Ue)()("[\\p{L}\\p{N}]"),qe=he.actionTypes,Be=(reducer_defineProperty(Ne={},qe.LONGTEXTV2_UPDATE_WORD_COUNT,(function(r,a){var l=r.footer,S=function getWordCount(r){if(!O.a.isString(r)||O.a.isEmpty(r))return 0;return r=r.replace(/( | )/," ").replace(/[\n\r]/g," ").replace(/&nbsp;/g," ").replace(/<\/p>/g," ").replace(/<\/blockquote>/g," ").replace(/<\/li>/g," ").replace(/<\/div>/g," ").replace(/<br>/g," ").replace(/<br \/>/g," ").replace(/<.*?>/g,""),O.a.reduce(r.split(/\s+/),(function(r,a){return a.length>0&&We.test(a)?r+1:r}),0)}(a.value);return{footer:O.a.extend({},l,{wordCount:S})}})),reducer_defineProperty(Ne,qe.LONGTEXTV2_UPDATE_WORD_COUNT_EXCEEDED,(function(r,a){return{wordCountExceeded:a.value}})),reducer_defineProperty(Ne,qe.LONGTEXTV2_UPDATE_WORD_LIMIT_VISIBILITY,(function(r,a){var l=r.footer,S=a.value;return{footer:O.a.extend({},l,{wordStaticVisible:S.wordStatic,wordLimitVisible:S.wordLimit})}})),reducer_defineProperty(Ne,qe.LONGTEXTV2_DISABLE_EDITOR,(function(r,a){return{disabled:a.value}})),Ne);var He=Object(Ve.a)(Be,{imageUrl:null,error:null});a.a=E.a.extend({maskable:!1,ViewComponent:Le,DataService:Fe,getReducers:function getReducers(){var r=E.a.prototype.getReducers.apply(this,arguments);return O.a.extend(r,{longTextV2:He})}})},,,,function(r,a,l){"use strict";var S=l(0),O=l.n(S),E=l(17),T=l.n(E),j=l(158);a.a={getShuffleOption:function getShuffleOption(){return this.shuffleOption||(this.shuffleOption=new j.a(this)),this.shuffleOption},usingPossibleGroupingResponses:function usingPossibleGroupingResponses(){return!!this.get("question").group_possible_responses},getPossibleResponseGroups:function getPossibleResponseGroups(){var r=this.getShuffleOption(),a=O.a.map(this.get("question").possible_response_groups,(function(a){return{title:a.title,responses:r.getOrderedData(a.responses)}}));return O.a.each(a,(function(r){O.a.isString(r.title)?r.title=T.a.stripHTML(T.a.createImageDescriptions(r.title),!0):r.title=""})),a},getPossibleResponseGroupResponses:function getPossibleResponseGroupResponses(){var r,a;return r=this.getPossibleResponseGroups(),O.a.isArray(r)&&r.length&&(a=[],O.a.each(r,(function(r,l){O.a.each(r.responses,(function(r){a.push({value:r,groupIndex:l})}))}))),a},getPossibleResponses:function getPossibleResponses(){var r=this.getShuffleOption().getOrderedData(this.get("question").possible_responses);return O.a.map(r,(function(r){return{value:r}}))}}},,,,,,,,,,,,,,,function(r,a,l){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var S=_interopRequireDefault(l(125)),O=_interopRequireDefault(l(384)),E=_interopRequireDefault(l(126)),T=_interopRequireDefault(l(539));function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function _classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}function _possibleConstructorReturn(r,a){return!a||"object"!==_typeof(a)&&"function"!=typeof a?_assertThisInitialized(r):a}function _getPrototypeOf(r){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}function _assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function _setPrototypeOf(r,a){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,a){return r.__proto__=a,r})(r,a)}function _defineProperty(r,a,l){return a in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,r}var j=function(r){function Message(){var r,a;_classCallCheck(this,Message);for(var l=arguments.length,S=new Array(l),O=0;O<l;O++)S[O]=arguments[O];return _defineProperty(_assertThisInitialized(a=_possibleConstructorReturn(this,(r=_getPrototypeOf(Message)).call.apply(r,[this].concat(S)))),"state",{style:{}}),a}return function _inherits(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&_setPrototypeOf(r,a)}(Message,r),function _createClass(r,a,l){return a&&_defineProperties(r.prototype,a),l&&_defineProperties(r,l),r}(Message,[{key:"componentDidUpdate",value:function componentDidUpdate(r){var a=this.props,l=a.visibility,S=a.animation;r.visibility!==l&&(l?S&&S.enter?S.enter(this.el):this.setState({style:{display:"block"}}):S&&S.leave?S.leave(this.el):this.setState({style:{display:"none"}}))}},{key:"getMessageIcon",value:function getMessageIcon(){var r=this.props,a=r.iconClassMapping,l=r.hiddenIcon,O=r.type;return l||"neutral"===O?null:a&&a[O]?S.default.createElement("span",{className:"lds-message__icon ".concat(a[O])}):S.default.createElement(T.default,{className:"lds-message__icon",icon:"".concat(O,"Icon")})}},{key:"render",value:function render(){var r=this,a=this.props,l=a.ariaHidden,O=a.ariaLive,T=a.className,j=a.hiddenIcon,D=a.type,q=(r.props.children&&(r.children=r.props.children),r.children),B=(0,E.default)("lds-message",T,{"lds-message--neutral":"neutral"===D,"lds-message--info":"info"===D,"lds-message--success":"success"===D,"lds-message--warning":"warning"===D,"lds-message--error":"error"===D,"lds-message--hidden-icon":j});return S.default.createElement("div",{className:B,ref:function ref(a){return r.el=a},"aria-hidden":l,"aria-live":O,style:this.state.style},this.getMessageIcon(),q)}}]),Message}(S.default.Component);a.default=j,j.propTypes={ariaHidden:O.default.bool,ariaLive:O.default.string,animation:O.default.shape({enter:O.default.func,leave:O.default.func}),children:O.default.node,className:O.default.string,hiddenIcon:O.default.bool,iconClassMapping:O.default.object,type:O.default.string.isRequired,visibility:O.default.bool},j.defaultProps={ariaHidden:!1,ariaLive:"polite",animation:null,className:"",hiddenIcon:!1,type:"neutral",visibility:!0}},,,,,function(r,a,l){var S=l(434),O=l(333);r.exports=function(r){return S(O(r))}},function(r,a){r.exports=function(r){if(null==r)throw TypeError("Can't call method on "+r);return r}},function(r,a,l){var S=l(254),O=l(493),E=l(298),T=l(435),j=Object.defineProperty;a.f=S?j:function defineProperty(r,a,l){if(E(r),a=T(a,!0),E(l),O)try{return j(r,a,l)}catch(r){}if("get"in l||"set"in l)throw TypeError("Accessors not supported");return"value"in l&&(r[a]=l.value),r}},function(r,a,l){var S=l(333);r.exports=function(r){return Object(S(r))}},function(r,a,l){var S=l(437),O=Math.min;r.exports=function(r){return r>0?O(S(r),9007199254740991):0}},function(r,a,l){var S=l(444),O=l(355),E=l(201)("toStringTag"),T="Arguments"==O(function(){return arguments}());r.exports=S?O:function(r){var a,l,S;return void 0===r?"Undefined":null===r?"Null":"string"==typeof(l=function(r,a){try{return r[a]}catch(r){}}(a=Object(r),E))?l:T?O(a):"Object"==(S=O(a))&&"function"==typeof a.callee?"Arguments":S}},,,,function(r,a,l){var S,O;S=[l(1)],void 0===(O=function(r){"use strict";var a={};return{publish:function(l,S){a[l]&&r.each(a[l],(function(){this&&this.apply(r,S||[])}))},subscribe:function(r,l){return a[r]||(a[r]=[]),a[r].push(l),[r,l]},unsubscribe:function(l){var S=l[0];a[S]&&r.each(a[S],(function(r){this==l[1]&&a[S].splice(r,1)}))},reset:function(){a={}}}}.apply(a,S))||(r.exports=O)},,,function(r,a,l){"use strict";var S=l(0),O=l.n(S),E=l(305),T=l(306),j=l.n(T),D=l(213);function FormulaScorer(r,a){O.a.isObject(a)&&O.a.isNumber(a.mathcoreTimeoutDuration)?j.a.setTimeoutDuration(a.mathcoreTimeoutDuration):j.a.setTimeoutDuration(5e3),this._initialize(r,(function(r,a){return D.a.useMathCore(r)?j.a.evaluateVerbose(D.a.processSpec(r),a):D.a.validate(r,a)}))}FormulaScorer.prototype=new E.a,a.a=FormulaScorer},function(r,a,l){"use strict";var S,O=l(5),E=l.n(O),T=l(0),j=l.n(T),D=l(1),q=l.n(D),B=l(212),G=l.n(B),Z=l(7),$=l(290),Q=l.n($),ee=l(17),te=l.n(ee),ne=["bold","italic","underline","unorderedList"],re=Q.a,oe=/<!--([\s\S]*?)-->/g,ie=/<p>/gi,ae=/<\/p>/gi,se=/<\/?(em|strong|u|sup|sub)[^>]*>/gi,le=/<\/?(br|li|ol|ul|span)[^>]*>/gi,ce=/<\/?(div)[^>]*>/gi,ue=/<(div)><\/(div)>/gi,pe=/<(div|p)><br><\/(div|p)>/gi,fe=/<br>(^<\/br>)/gi,de=/&nbsp;/g,he=/src=\"data:image\/([a-zA-Z]*);base64,([^\"]*)\"/,me=/<img .*?>/g,ge=G()("[\\p{L}\\p{N}]"),ye=q()(document);a.a=function editor(r){j.a.extend(this,E.a.Events);var a,l,O,T,D,B,G,$,Q,ee,_e,be,ve=!1,we=!1,xe=[],Se=[];function getContent(){return"ie"!==Z.a.browser||9!==Z.a.version&&10!==Z.a.version?cleanHTML(D.html()):D.html().replace(/<p>/g,"").replace(/<\/p>/g,"<br>")}function cleanHTML(r){return r=function cleanTagsThatCauseIssuesWhenPasting(r){return r=(r=(r=r.replace(pe,"<br></br>")).replace(ue,"<br></br>")).replace(fe,"<br></br>"),he.test(r)&&(r=r.replace(me,"")),r}(r),r=(r=te.a.sanitizeHTML(r)).replace(oe,""),"ie"===Z.a.browser&&9===Z.a.version||(r=r.replace(ae,"<br></br>")),r=r.replace(ie,"")}function getWordCount(r){return r=function cleanHTMLForWordCount(r){return r=(r=(r=(r=r.replace(se,"")).replace(le," ")).replace(ce," ")).replace(de," ")}(r),j.a.reduce(r.split(/\s+/),(function(r,a){return a.length>0&&ge.test(a)?r+1:r}),0)}function updateToolbar(){j.a.each(xe,(function(r){r.updateUI()}))}this.getTbContainer=function(){return be};var Oe=function Command(r){this.execute=function(){"subscript"!==r&&"superscript"!==r||this.queryState()||j.a.each(["subscript","superscript"],(function(r){Pe[r]&&Pe[r].command.queryState()&&document.execCommand(r,!1,null)})),document.execCommand(r,!1,null),ve=!0},this.queryState=function(){return document.queryCommandState(r)},this.setButton=function(r){this.button=r}};function InsertListCommand(r){var a=r?"insertOrderedList":"insertUnorderedList",l="ie"===Z.a.browser||"edge"===Z.a.browser;this.execute=function(){!function handleInsertListDependingOnBrowser(r,a){var l;D.focus(),r&&(l=q()(document.createElement("p")),D.append(l));document.execCommand(a,!1,null),r&&l.remove()}(l,a),ve=!0},this.queryState=function(){return document.queryCommandState(a)},this.setButton=function(r){this.button=r}}function CharacterMapCommand(a){j.a.isArray(a)||(a=r.labels.characterMapCharacters),this.execute=function(){var l=this;if(we)removeCharMap();else{var S=q()(re({characters:a,labels:r.labels})).hide().appendTo(this.button),O=this.button.position().left,E=be.width()-(O+this.button.outerWidth()),T=Math.abs(-S.width()/2+this.button.outerWidth()),j=function destroyCharacterMap(){l.button.removeClass("lrn_active"),removeCharMap()};T>O&&(T=O),S.width()/2>E&&(T+=S.width()/2-E),S.css("left",-T+"px").fadeIn("fast",(function(){ye.off("click.charactermap").on("click.charactermap",j)})),S.find(".lrn_characterbutton").first().focus(),we=!0,q()(".lrn_toolbar .lrn_charactermap .lrn_characterbutton",D.parents(".lrn_texteditor")).on("mousedown",(function(r){r.preventDefault()}))}},this.queryState=function(){return we},this.setButton=function(r){this.button=r}}var Ce=function ToggleCommandButtonController(a,O,E,T){var j,B=q()("<li></li>").addClass("lrn_btn");B.html(a.content),B.attr({unselectable:"on",title:a.title,"aria-label":a.title,tabindex:0,role:"button","data-button-index":E}),q()(B).children().attr("unselectable","on"),B.on("mousedown",(function(r){r.preventDefault&&r.preventDefault()})),l||(B.on("click",(function(r){D.is(":focus")||D.focus(),a.command.execute(),updateToolbar()})),B.on("keydown",(function(l){13!==l.which&&32!==l.which||(l.preventDefault(),D.is(":focus")||D.focus(),a.title===r.labels.characterMapTitle&&(S=!0),a.command.execute(),updateToolbar()),37===l.which&&(l.preventDefault(),j=(E+T-1)%T,O.find('li[data-button-index="'+j+'"]').first().focus()),39===l.which&&(l.preventDefault(),j=(E+1)%T,O.find('li[data-button-index="'+j+'"]').first().focus())})),B.on("keyup",(function(r){32===r.which&&r.preventDefault()}))),B.appendTo(O),a.command.setButton(B),this.getQueryState=function(){return a.command.queryState()},this.updateUI=function(){a.command.queryState()?(B.addClass("lrn_active"),B.attr({"aria-pressed":"true"})):(B.removeClass("lrn_active"),B.attr({"aria-pressed":"false"}))}};function removeCharMap(){if(we&&!S){var r=q()(".lrn_toolbar .lrn_charactermap",D.parents(".lrn_texteditor"));r.finish().fadeOut((function(){r.remove()})),we=!1,ye.off("click.charactermap")}S=!1}function updateContentAndWordCount(){ve&&(ve=!1,O=getContent(),T=getWordCount(O),function checkWordCount(){Q.html(T),T>a?("on-limit"===B&&ee.addClass("lrn_hide"),"off"!==B&&$.removeClass("lrn_hide"),G.addClass("lrn_wordcount_warning_label"),D.addClass("lrn_wordcount_warning")):("on-limit"===B&&(ee.removeClass("lrn_hide"),$.addClass("lrn_hide")),G.removeClass("lrn_wordcount_warning_label"),D.removeClass("lrn_wordcount_warning"))}())}function charLimitExceeded(){return T>1e4}function insertTextAtCursor(r){charLimitExceeded()||(document.getSelection?document.getSelection().getRangeAt(0).insertNode(document.createTextNode(r)):document.selection?document.selection.createRange().pasteHTML(r):document.execCommand("InsertHTML",!1,r))}var Pe={bold:{command:new Oe("bold"),content:"<strong>"+r.labels.editorBoldIcon+'</strong> <span class="sr-only">'+r.labels.editorBoldTitle+"</span>",title:r.labels.editorBoldTitle,block:!1},italic:{command:new Oe("italic"),content:"<em>"+r.labels.editorItalicsIcon+'</em> <span class="sr-only">'+r.labels.editorItalicsTitle+"</span>",title:r.labels.editorItalicsTitle,block:!1},underline:{command:new Oe("underline"),content:"<u>"+r.labels.editorUnderlineIcon+'</u> <span class="sr-only">'+r.labels.editorUnderlineTitle+"</span>",title:r.labels.editorUnderlineTitle,block:!1},removeFormat:{command:new Oe("removeFormat"),content:'<i class="lrn_icon lrn-icon-remove-format"></i> <span class="sr-only">'+r.labels.editorRemoveFormatTitle+"</span>",title:r.labels.editorRemoveFormatTitle,block:!1},unorderedList:{command:new InsertListCommand,content:'<i class="lrn_icon lrn-icon-list-bulleted"></i> <span class="sr-only">'+r.labels.editorBulletdListTitle+"</span>",title:r.labels.editorBulletdListTitle,block:!0},orderedList:{command:new InsertListCommand(!0),content:'<i class="lrn_icon lrn-icon-list-numbered"></i> <span class="sr-only">'+r.labels.editorNumberedListTitle+"</span>",title:r.labels.editorNumberedListTitle,block:!0},superscript:{command:new Oe("superscript"),content:'<i class="lrn_icon lrn-icon-superscript"></i> <span class="sr-only">'+r.labels.editorSuperscriptTitle+"</span>",title:r.labels.editorSuperscriptTitle,block:!1},subscript:{command:new Oe("subscript"),content:'<i class="lrn_icon lrn-icon-subscript"></i> <span class="sr-only"> <span class="sr-only">'+r.labels.editorSubscriptTitle+"</span>",title:r.labels.editorSubscriptTitle,block:!1}};this.makeEditor=function(S){var E,T,te,re,oe,ie,ae,se,le,ce=this,ue=S.el,pe=S.showCharacterMap,fe=S.spellCheck,de=S.characterMapIcon,he=S.placeholder,me=S.wordsLimit,ge=S.shouldInsertToolbar,ye=this.normalizeFormattingOptions(S.formattingOptions);switch(l=S.readOnly,a=S.maxWordLength,this.commandDefinitions=Pe,j.a.isUndefined(ge)&&(ge=!0),j.a.isArray(ye)||(ye=ne),E=j.a.map(ye,(function(r){return Pe[r]})),pe&&(Pe.characterMap={command:new CharacterMapCommand(pe),content:de+'<span class="sr-only">'+r.labels.characterMapTitle+"</span>",title:r.labels.characterMapTitle},E.push(Pe.characterMap)),(D=q()(ue)).addClass("lrn_editor_area"),D.wrap('<div class="lrn_response_input_wrapper" />'),l?D.wrap('<div class="lrn_texteditor lrn_editor_disabled" />'):(D.wrap('<div class="lrn_texteditor" />'),D.attr("contentEditable","true"),j.a.isBoolean(fe)&&D.attr("spellcheck",fe.toString()),"ie"===Z.a.browser&&9===Z.a.version&&0!==D.html().indexOf("<p>")&&D.html("<p>"+D.html().replace(/<br>/g,"</p><p>")+"</p>")),G=q()('<span class="lrn_length_indicator" />'),_e=q()('<span class="lrn_toolbar_right" />').append(G),T=q()('<ul class="lrn_toolbar_left lrn_clearfix"></ul>'),be=q()('<div class="lrn-toolbar-wrapper" />').append(q()('<div class="lrn_toolbar" />').append(T).append(_e)),ge&&D.parent().prepend(be),j.a.each(E,(function(r,a){!0===r.block&&Se.push(r),te=new Ce(r,T,a,E.length),xe.push(te)})),B=me,re=!1,me){case"always":re=!1;break;case"on-limit":case"off":re=!0}if(Q=q()('<span class="lrn_word_count" />').html("0"),ee=q()('<span class="lrn_static_words'+(!0===re?"":" lrn_hide")+'"> '+r.labels.word+"</span>"),$=q()('<span class="lrn_word_limit'+(!0===re?" lrn_hide":"")+'"> / '+a+" "+r.labels.wordLength+"</span>"),G.append(Q,ee,$),l||j.a.isEmpty(he)||(oe=q()('<span class="lrn_placeholder" />').text(he),ie=q()('<div class="lrn_input_with_placeholder" />'),ae=function togglePlaceholder(){var r=D.text();r&&r.length>0?oe.hide():oe.show()},D.wrap(ie).before(oe),D.on("focus blur keydown keyup",ae),oe.on("click",(function(r){D.focus()})),ae()),!l){D.on("blur",(function(){triggerChange(),ce.trigger("blur")})),D.on("focus",(function(){ce.trigger("focus")})),D.on("touchend",(function(){window.focus()})),D.on("keyup mouseup",(function(){removeCharMap(),updateToolbar(),triggerChange()})),"ie"!==Z.a.browser?D.on("keyup mouseup",(function(){this.lastChild&&"br"===this.lastChild.nodeName.toLowerCase()||this.appendChild(document.createElement("br"))})):Z.a.browser<9&&D.on("keyup mouseup",(function(){var r,a;D.is(":empty")&&(r=document.createElement("p"),D.append(r),(a=document.body.createTextRange()).moveToElementText(r),a.select())})),se=j.a.throttle((function(){updateContentAndWordCount(),triggerChange()}),300),ve=!0,updateContentAndWordCount(),D.on("keyup",se),D.on("keyup",(function(r){ve=!0,ce.trigger("keyup"),triggerChange()})),D.on("paste",(function(r){charLimitExceeded()&&r.preventDefault(),j.a.defer((function(){var r,a,l,S;window.getSelection?(r=window.getSelection().getRangeAt(0),(a=document.createElement("caret")).innerHTML="-",r.insertNode(a),D.html(getContent()),a=document.getElementsByTagName("caret")[0],(r=window.getSelection().rangeCount>0?window.getSelection().getRangeAt(0):document.createRange()).setStartBefore(a),r.setEndBefore(a),(l=window.getSelection()).rangeCount>0&&l.removeAllRanges(),l.addRange(r),a.parentNode.removeChild(a)):document.selection?((r=document.selection.createRange()).pasteHTML("<span id=lrneditorcaret>-</span>"),S=(S=cleanHTML(S=(S=D.html()).replace(/<span id=lrneditorcaret>-<\/span>/i,"<caret>-</caret>"))).replace(/<caret>-<\/caret>/i,"<span id=lrneditorcaret>-</span>"),D.html(S),a=document.getElementById("lrneditorcaret"),(r=document.selection.createRange()).moveToElementText(a),r.select(),a.parentNode.removeChild(a)):D.html(cleanHTML(D.html())),ve=!0,se()}))})),D.on("keydown",(function(r){if(r.ctrlKey||r.metaKey){var a;switch(r.which){case 66:a=Pe.bold;break;case 73:a=Pe.italic;break;case 85:a=Pe.underline;break;default:return}a.command.execute(),r.preventDefault(),updateToolbar(),triggerChange()}})),D.on("keypress",(function(r){r.which>31&&r.which<127&&charLimitExceeded()&&r.preventDefault(),triggerChange()}));D.parents(".lrn_texteditor").on("click",".lrn_charactermap .lrn_characterbutton",(function clickListener(r){insertTextAtCursor(q()(r.target).text()),D.trigger("keyup"),triggerChange()})),D.parents(".lrn_texteditor").on("keydown",".lrn_charactermap .lrn_characterbutton",(function keyListener(r){var a=q()(r.target).data("character-btn-index");13!==r.which&&32!==r.which||insertTextAtCursor(q()(r.target).text()),37===r.which&&(a=(a+pe.length-1)%pe.length,r.preventDefault(),D.parents(".lrn_texteditor").find('.lrn_charactermap .lrn_characterbutton[data-character-btn-index="'+a+'"]').first().focus()),39===r.which&&(a=(a+1)%pe.length,r.preventDefault(),D.parents(".lrn_texteditor").find('.lrn_charactermap .lrn_characterbutton[data-character-btn-index="'+a+'"]').first().focus())})),D.parents(".lrn_texteditor").on("mousedown",".lrn_charactermap",(function mousedownListener(r){r.preventDefault(),triggerChange()}))}function triggerChange(){O!==le&&(ce.trigger("change"),le=O)}le=O},this.getContentAndWordCount=function(){return updateContentAndWordCount(),{content:O,wordCount:T}},this.focus=function(){D.focus()},this.isEmpty=function(){return!this.getContentAndWordCount().wordCount},this.normalizeFormattingOptions=function(r){if(j.a.isArray(r))return j.a.filter(j.a.uniq(r),(function(r){return!!r}))}}},function(r,a,l){"use strict";l.d(a,"a",(function(){return S}));var S={recursionDepthHigh:13,recursionDepthLow:8};a.b={keepMouseEventHandlers:function keepMouseEventHandlers(r){r.hasMouseHandlers||r.addMouseEventHandlers()}}},,function(module,exports,__webpack_require__){var _=__webpack_require__(0);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="lrn_cloze_response_container">'+(null==(__t="clozeassociation"==displayLogic.questiontype?'<div class="lrn_response_input_wrapper lrn-response-validate-wrapper">':"")?"":__t)+(null==(__t="imageclozeassociation"==displayLogic.questiontype?'<div class="lrn_response_input_wrapper lrn_response_input_wrapper_left lrn-response-validate-wrapper">':"")?"":__t)+'<div class="lrn_response_innerbody '+(null==(__t="imageclozeassociation"!=displayLogic.questiontype&&"clozeassociation"!=displayLogic.questiontype?"lrn-response-validate-wrapper":"")?"":__t)+'">',_.isUndefined(displayLogic.possibilityListPosition)||"top"!==displayLogic.possibilityListPosition&&"left"!==displayLogic.possibilityListPosition||(__p+="",displayLogic.extraContentHTML&&(__p+=""+(null==(__t=displayLogic.extraContentHTML)?"":__t)),__p+=""),__p+="",_.isUndefined(displayLogic.possibilityListPosition)||"left"!==displayLogic.possibilityListPosition&&"right"!==displayLogic.possibilityListPosition||(__p+='<div class="lrn_response_input_position">'),__p+='<div class="lrn_response_input lrn_response_math'+(null==(__t=displayLogic.hasBoostedFont?" lrn_response_font_boost":"")?"":__t)+'" aria-label="'+(null==(__t=displayLogic.questionText)?"":_.escape(__t))+'">'+(null==(__t=displayLogic.processedTemplate)?"":__t)+"</div>",_.isUndefined(displayLogic.possibilityListPosition)||"left"!==displayLogic.possibilityListPosition&&"right"!==displayLogic.possibilityListPosition||(__p+="</div>"),__p+="",(_.isUndefined(displayLogic.possibilityListPosition)||_.isNull(displayLogic.possibilityListPosition)||"bottom"===displayLogic.possibilityListPosition||"right"===displayLogic.possibilityListPosition)&&(__p+="",displayLogic.extraContentHTML&&(__p+=""+(null==(__t=displayLogic.extraContentHTML)?"":__t)),__p+=""),__p+="</div>"+(null==(__t="imageclozeassociation"==displayLogic.questiontype||"clozeassociation"==displayLogic.questiontype?"</div>":"")?"":__t)+'</div><div class="lrn_correctAnswers lrn_hide"><span>'+(null==(__t=labels.correctAnswers)?"":__t)+':</span><ul class="lrn_correctAnswerList"></ul></div>',displayLogic.showValidationButton&&(__p+='<button type="button" '+(null==(__t=displayLogic.readOnly?'disabled="disabled"':"")?"":__t)+' class="lrn_btn lrn_validate"><span>'+(null==(__t=displayLogic.multipleResponses?labels.checkAnswers:labels.checkAnswer)?"":__t)+"</span></button>"),__p+="";return __p}},,,,function(r,a,l){"use strict";r.exports=l(530)},function(r,a,l){"use strict";var S,O,E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};O=function(){for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];var S=document.createElement("input");return"object"===E(a[0])&&(!0===a[0].multiple&&S.setAttribute("multiple",""),void 0!==a[0].accept&&S.setAttribute("accept",a[0].accept)),S.setAttribute("type","file"),S.style.display="none",S.setAttribute("id","hidden-file"),document.body.appendChild(S),new Promise((function(r){S.addEventListener("change",(function(){r(S.files);var l=a[a.length-1];"function"==typeof l&&l(S.files),document.body.removeChild(S)}));var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),S.dispatchEvent(l)}))},void 0===(S=function(){return O}.call(a,l,a,r))||(r.exports=S)},function(r,a){r.exports=function(r,a){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:a}}},function(r,a){var l={}.toString;r.exports=function(r){return l.call(r).slice(8,-1)}},function(r,a,l){var S=l(355);r.exports=Array.isArray||function isArray(r){return"Array"==S(r)}},function(r,a,l){r.exports=l(553)},function(r,a,l){"use strict";var S=l(221);r.exports=function(r,a){var l=[][r];return!!l&&S((function(){l.call(null,a||function(){throw 1},1)}))}},function(r,a,l){r.exports=l(557)},function(r,a,l){var S=l(564),O=l(569),E=l(587);r.exports=function _slicedToArray(r,a){return S(r)||O(r,a)||E()}},function(r,a,l){r.exports=l(602)},function(r,a,l){r.exports=l(611)},function(r,a,l){r.exports=l(615)},function(r,a,l){r.exports=l(620)},function(r,a,l){r.exports=l(624)},,,,,,,,,,,,,function(r,a,l){"use strict";l.d(a,"d",(function(){return define})),l.d(a,"b",(function(){return addLocalDependency})),l.d(a,"a",(function(){return addAsyncDependency}));var S=l(3);function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(r){return typeof r}:function _typeof(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function safeGet(r,a){return a.split(".").reduce((function(r,a){return r&&r[a]}),r)}function isFunction(r){return"function"==typeof r}function loadDep(r,a){if(D.shim[r])return function loadByShim(r,a){var l=D.shim[r];return _require(l.deps||[],(function(){return loadScript(r).then(l.exportsFn||function(){return l.init&&l.init()||safeGet(window,l.exports)})}),null,a)}(r,a);var l=function defer(){var r={};return r.promise=new S.default((function(a,l){r.resolve=a,r.reject=l})),r}();return l.name=r,l.path=a,function invokeLater(r,a){function cleanup(){B=null}q=q.then((function(){return B=r,a()})).then(cleanup,cleanup)}(l,(function(){return loadScript(r).then((function(){setTimeout(l.resolve,100)})).catch((function(){l.reject(new Error('Error while loading module "'+r+'"'))}))})),l.promise}function loadScript(r){return new S.default((function(a,l){var S=_require2.load(null,r,toUrl(r,!0));S.onerror=l,S.onload=a}))}var O=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,E=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g;function _require(r,a,l,O){var E=O.slice(-1)[0];return new S.default((function(a,l){S.default.all(r.map((function(r){if(O.indexOf(r)>-1)return S.default.reject(new Error("Circular dependency: "+O.concat(r).join(" -> ")));var a=O.concat(r);return G[r]?G[r](E):(r.indexOf("!")>-1&&(T[r]=function loadWithPlugin(r,a){var l=r.indexOf("!"),O=r.substr(0,l);return r=r.substr(l+1),_require([O],(function(l){return new S.default((function(S,O){function localRequire(){if(!E)return _require2.apply(null,arguments)}Object.keys(_require2).forEach((function(r){localRequire[r]=_require2[r]}));var E=!1;S.error=O,S.fromText=function(r,l){l||(l=r);var T=B;B={name:r,resolve:S,reject:O,path:a},new Function(l)(),B=T,E=!0},l.load(r,localRequire,S,D)}))}),null,a)}(r,a)),j[r]?T[r]=S.default.resolve().then((function(){return _require.apply(null,j[r].concat([a]))})):T[r]||(Z[r]?T[r]=Z[r]():T[r]=loadDep(r,a)),T[r])}))).then(a,l)})).then((function(r){if(isFunction(a)){var l=a.apply(null,r);return E&&safeGet(T[E],"module.exports")||l}return a}),(function(r){return isFunction(l)&&l(r),_require2.onError(r),S.default.reject(r)}))}function _require2(r,a,l){return _require(r,a,l,[])}var T,j,D,q,B,G={require:function require(r){return _require2},module:function module(r){var module=T[r];if(!module)throw new Error('Module "module" should be required only by modules');return module.module=module.module||{id:r,config:function config(){return D.config[r]||{}}}},exports:function exports(r){return G.module(r).exports={}}};function toUrl(r,a){var l=Object.keys(D.bundles).filter((function(a){return D.bundles[a].indexOf(r)>-1}))[0];return l?_require2.toUrl(l):(D.paths[r]&&(r=D.paths[r]),/^([\w\+\.\-]+:)?\//.test(r)||(r=D.baseUrl+r),a&&r.indexOf(".js")<0&&(r+=".js"),D.urlArgs&&(r+="?"+D.urlArgs),r)}function define(r,a,l){"string"!=typeof r&&(l=a,a=r,r=null),Array.isArray(a)||(l=a,a=[]);var S=B;if(null===r&&!S)throw new Error("Unexpected define!");if(0===a.length&&l.length>0){var T=function wrapCommonJS(r,a){var l=[];return a.toString().replace(O,"").replace(E,(function(r,a){l.push(a)})),{deps:l,factory:function factory(){var S=arguments,O=l.reduce((function(r,a,l){return r[a]=S[l],r}),{});return a((function localRequire(r){if(!O[r])throw new Error('Module "'+l+'" has not been loaded yet');return O[r]}),G.module(r),G.exports(r))}}}(r||S.name,l);a=T.deps,l=T.factory}if(null===r||S&&S.name===r){var D=_require(a,l,S.reject,S.path);S.resolve(D)}else j[r]=[a,l,null]}function addLocalDependency(r,a){T[r]||(T[r]=a)}_require2.resetContext=function(){D={urlArgs:"",baseUrl:"./",paths:{},shim:{},bundles:{},config:{}},T={},j={},q=S.default.resolve(),B=null},_require2.config=function(r){D=function deepmerge(r,a){var l=Array.isArray(a),S=l&&[]||{};return l?(r=r||[],S=S.concat(r),a.forEach((function(a,l){void 0===S[l]?S[l]=a:"object"===_typeof(a)?S[l]=deepmerge(r[l],a):-1===r.indexOf(a)&&S.push(a)}))):(r&&"object"===_typeof(r)&&Object.keys(r).forEach((function(a){S[a]=r[a]})),Object.keys(a).forEach((function(l){"object"===_typeof(a[l])&&a[l]&&r[l]?S[l]=deepmerge(r[l],a[l]):S[l]=a[l]}))),S}(D,r)},_require2.load=function(r,a,l){var S=document.createElement("script");return S.src=l,S.async=!0,document.getElementsByTagName("body")[0].appendChild(S),S},_require2.toUrl=function(r){return toUrl(r,!1)},_require2.specified=function(r){return T.hasOwnProperty(r)},_require2.onError=function(r){console.error(r)},_require2.resetContext();var Z={};function addAsyncDependency(r,a){Z[r]||(Z[r]=a)}a.c=_require2},,,,function(r,a,l){"use strict";l.d(a,"a",(function(){return D}));var S=l(130);function _defineProperties(r,a){for(var l=0;l<a.length;l++){var S=a[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(r,S.key,S)}}var O=[],E=new MutationObserver((function onMutation(){j||(j=!0,requestAnimationFrame((function(){j=!1,O.forEach((function(r){return r.checkVisibility()}))})))})),T=new Set,j=!1,D=function(){function VisibilityChangeObserver(r,a){!function _classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}(this,VisibilityChangeObserver),this.isActive=!1,this.isVisible=!1,this.element=r,this.onVisibilityChange=a}return function _createClass(r,a,l){return a&&_defineProperties(r.prototype,a),l&&_defineProperties(r,l),r}(VisibilityChangeObserver,[{key:"start",value:function start(){this.isActive||(this.isActive=!0,this.isVisible=S.a.isElementVisible(this.element),O.push(this),observeElementAndAncestors(this.element))}},{key:"stop",value:function stop(){this.isActive&&(this.isActive=!1,O.splice(O.indexOf(this),1),function resetMutationObserver(){E.disconnect(),T.clear(),O.forEach((function(r){return observeElementAndAncestors(r.element)})),T.forEach((function(r){return observeElement(r)}))}())}},{key:"checkVisibility",value:function checkVisibility(){if(this.isActive){var r=S.a.isElementVisible(this.element);this.isVisible!==r&&(this.isVisible=r,this.onVisibilityChange(r))}}}]),VisibilityChangeObserver}();function observeElementAndAncestors(r){for(;r&&!T.has(r);)observeElement(r),T.add(r),r=r.parentElement}function observeElement(r){E.observe(r,{attributes:!0,attributeFilter:["id","style","class"]})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(r,a,l){var S=l(221),O=l(355),E="".split;r.exports=S((function(){return!Object("z").propertyIsEnumerable(0)}))?function(r){return"String"==O(r)?E.call(r,""):Object(r)}:Object},function(r,a,l){var S=l(240);r.exports=function(r,a){if(!S(r))return r;var l,O;if(a&&"function"==typeof(l=r.toString)&&!S(O=l.call(r)))return O;if("function"==typeof(l=r.valueOf)&&!S(O=l.call(r)))return O;if(!a&&"function"==typeof(l=r.toString)&&!S(O=l.call(r)))return O;throw TypeError("Can't convert object to primitive value")}},function(r,a){r.exports=function(r){if("function"!=typeof r)throw TypeError(String(r)+" is not a function");return r}},function(r,a){var l=Math.ceil,S=Math.floor;r.exports=function(r){return isNaN(r=+r)?0:(r>0?S:l)(r)}},function(r,a){r.exports=!0},function(r,a,l){var S=l(221),O=l(201),E=l(502),T=O("species");r.exports=function(r){return E>=51||!S((function(){var a=[];return(a.constructor={})[T]=function(){return{foo:1}},1!==a[r](Boolean).foo}))}},function(r,a,l){var S=l(332),O=l(336),E=l(504),createMethod=function(r){return function(a,l,T){var j,D=S(a),q=O(D.length),B=E(T,q);if(r&&l!=l){for(;q>B;)if((j=D[B++])!=j)return!0}else for(;q>B;B++)if((r||B in D)&&D[B]===l)return r||B||0;return!r&&-1}};r.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},function(r,a){r.exports={}},function(r,a,l){var S=l(498),O=l(500),E=S("keys");r.exports=function(r){return E[r]||(E[r]=O(r))}},function(r,a,l){l(571);var S=l(580),O=l(220),E=l(337),T=l(255),j=l(300),D=l(201)("toStringTag");for(var q in S){var B=O[q],G=B&&B.prototype;G&&E(G)!==D&&T(G,D,q),j[q]=j.Array}},function(r,a,l){var S={};S[l(201)("toStringTag")]="z",r.exports="[object z]"===String(S)},,,,,,,,,,,,,function(r,a,l){"use strict";l.d(a,"a",(function(){return getFullScreenElement}));l(1),l(7);function getFullScreenElement(){for(var r=["fullscreenElement","webkitFullscreenElement","msFullscreenElement","mozFullScreenElement"],a=0;a<r.length;a++){var l=document[r[a]];if(l)return l}return null}},,,,,,,function(r,a,l){"use strict";var S=l(5),O=l.n(S),E=l(0),T=l.n(E),j=(l(1),"stopped"),D="running",q="paused";a.a=O.a.View.extend({state:j,currentLength:void 0,length:5,direction:"down",template:null,showMinutes:!1,initialize:function initialize(){this.template=this.options.labels.counterTemplate,this.options.hasOwnProperty("length")&&(this.length=this.options.length),this.options.hasOwnProperty("direction")&&(this.direction=this.options.direction),this.options.hasOwnProperty("template")&&(this.template=this.options.template),this.options.hasOwnProperty("show_minutes")&&(this.showMinutes=this.options.show_minutes),this.resetCurrentLength(),this.render()},render:function render(){return this.$el.html(this.template.replace("{num}",'<span class="lrn_counterNumber"></span>')),this.counterNumber=this.$(".lrn_counterNumber"),this.setCounterDisplay(this.currentLength),this},counter:function counter(r){this.currentLength=r,this.setCounterDisplay(this.currentLength),"up"===this.direction&&r<this.length||"down"===this.direction&&r>0?this.timerId=T.a.delay(T.a.bind(this.counter,this),1e3,"up"===this.direction?r+1:r-1):(this.timerId=null,this.resetCurrentLength(),this.trigger("complete"))},setCounterDisplay:function setCounterDisplay(r){var a,l,S;this.showMinutes?(l=String(Math.floor(this.currentLength/60)),S=String(this.currentLength%60),a=(l=l.length>1?l:"0"+l)+":"+(S=S.length>1?S:"0"+S)):a=this.currentLength,this.counterNumber.html(a)},begin:function begin(){this.trigger("begin"),this.counter(this.currentLength),this.state=D},pause:function pause(){clearTimeout(this.timerId),this.timerId=null,this.state=q},stop:function stop(){clearTimeout(this.timerId),this.timerId=null,this.resetCurrentLength(),this.state=j},resetCurrentLength:function resetCurrentLength(){this.currentLength="up"===this.direction?0:this.length},isRunning:function isRunning(){return this.state===D},isStopped:function isStopped(){return this.state===j},isPaused:function isPaused(){return this.state===q}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(r,a,l){var S=l(254),O=l(221),E=l(494);r.exports=!S&&!O((function(){return 7!=Object.defineProperty(E("div"),"a",{get:function(){return 7}}).a}))},function(r,a,l){var S=l(220),O=l(240),E=S.document,T=O(E)&&O(E.createElement);r.exports=function(r){return T?E.createElement(r):{}}},function(r,a,l){var S=l(436);r.exports=function(r,a,l){if(S(r),void 0===a)return r;switch(l){case 0:return function(){return r.call(a)};case 1:return function(l){return r.call(a,l)};case 2:return function(l,S){return r.call(a,l,S)};case 3:return function(l,S,O){return r.call(a,l,S,O)}}return function(){return r.apply(a,arguments)}}},function(r,a,l){"use strict";var S=l(435),O=l(334),E=l(354);r.exports=function(r,a,l){var T=S(a);T in r?O.f(r,T,E(0,l)):r[T]=l}},function(r,a,l){var S=l(240),O=l(356),E=l(201)("species");r.exports=function(r,a){var l;return O(r)&&("function"!=typeof(l=r.constructor)||l!==Array&&!O(l.prototype)?S(l)&&null===(l=l[E])&&(l=void 0):l=void 0),new(void 0===l?Array:l)(0===a?0:a)}},function(r,a,l){var S=l(438),O=l(499);(r.exports=function(r,a){return O[r]||(O[r]=void 0!==a?a:{})})("versions",[]).push({version:"3.6.4",mode:S?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(r,a,l){var S=l(220),O=l(550),E=S["__core-js_shared__"]||O("__core-js_shared__",{});r.exports=E},function(r,a){var l=0,S=Math.random();r.exports=function(r){return"Symbol("+String(void 0===r?"":r)+")_"+(++l+S).toString(36)}},function(r,a,l){var S=l(221);r.exports=!!Object.getOwnPropertySymbols&&!S((function(){return!String(Symbol())}))},function(r,a,l){var S,O,E=l(220),T=l(552),j=E.process,D=j&&j.versions,q=D&&D.v8;q?O=(S=q.split("."))[0]+S[1]:T&&(!(S=T.match(/Edge\/(\d+)/))||S[1]>=74)&&(S=T.match(/Chrome\/(\d+)/))&&(O=S[1]),r.exports=O&&+O},function(r,a,l){var S=l(277),O=l(220),aFunction=function(r){return"function"==typeof r?r:void 0};r.exports=function(r,a){return arguments.length<2?aFunction(S[r])||aFunction(O[r]):S[r]&&S[r][a]||O[r]&&O[r][a]}},function(r,a,l){var S=l(437),O=Math.max,E=Math.min;r.exports=function(r,a){var l=S(r);return l<0?O(l+a,0):E(l,a)}},function(r,a,l){var S,O=l(298),E=l(560),T=l(506),j=l(441),D=l(563),q=l(494),B=l(442),G=B("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(r){return"<script>"+r+"<\/script>"},NullProtoObject=function(){try{S=document.domain&&new ActiveXObject("htmlfile")}catch(r){}var r,a;NullProtoObject=S?function(r){r.write(scriptTag("")),r.close();var a=r.parentWindow.Object;return r=null,a}(S):((a=q("iframe")).style.display="none",D.appendChild(a),a.src=String("javascript:"),(r=a.contentWindow.document).open(),r.write(scriptTag("document.F=Object")),r.close(),r.F);for(var l=T.length;l--;)delete NullProtoObject.prototype[T[l]];return NullProtoObject()};j[G]=!0,r.exports=Object.create||function create(r,a){var l;return null!==r?(EmptyConstructor.prototype=O(r),l=new EmptyConstructor,EmptyConstructor.prototype=null,l[G]=r):l=NullProtoObject(),void 0===a?l:E(l,a)}},function(r,a){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(r,a){r.exports=function(){}},function(r,a,l){var S,O,E,T=l(572),j=l(220),D=l(240),q=l(255),B=l(241),G=l(442),Z=l(441),$=j.WeakMap;if(T){var Q=new $,ee=Q.get,te=Q.has,ne=Q.set;S=function(r,a){return ne.call(Q,r,a),a},O=function(r){return ee.call(Q,r)||{}},E=function(r){return te.call(Q,r)}}else{var re=G("state");Z[re]=!0,S=function(r,a){return q(r,re,a),a},O=function(r){return B(r,re)?r[re]:{}},E=function(r){return B(r,re)}}r.exports={set:S,get:O,has:E,enforce:function(r){return E(r)?O(r):S(r,{})},getterFor:function(r){return function(a){var l;if(!D(a)||(l=O(a)).type!==r)throw TypeError("Incompatible receiver, "+r+" required");return l}}}},function(r,a,l){"use strict";var S=l(200),O=l(574),E=l(511),T=l(577),j=l(512),D=l(255),q=l(579),B=l(201),G=l(438),Z=l(300),$=l(510),Q=$.IteratorPrototype,ee=$.BUGGY_SAFARI_ITERATORS,te=B("iterator"),returnThis=function(){return this};r.exports=function(r,a,l,B,$,ne,re){O(l,a,B);var oe,ie,ae,getIterationMethod=function(r){if(r===$&&pe)return pe;if(!ee&&r in ce)return ce[r];switch(r){case"keys":return function keys(){return new l(this,r)};case"values":return function values(){return new l(this,r)};case"entries":return function entries(){return new l(this,r)}}return function(){return new l(this)}},se=a+" Iterator",le=!1,ce=r.prototype,ue=ce[te]||ce["@@iterator"]||$&&ce[$],pe=!ee&&ue||getIterationMethod($),fe="Array"==a&&ce.entries||ue;if(fe&&(oe=E(fe.call(new r)),Q!==Object.prototype&&oe.next&&(G||E(oe)===Q||(T?T(oe,Q):"function"!=typeof oe[te]&&D(oe,te,returnThis)),j(oe,se,!0,!0),G&&(Z[se]=returnThis))),"values"==$&&ue&&"values"!==ue.name&&(le=!0,pe=function values(){return ue.call(this)}),G&&!re||ce[te]===pe||D(ce,te,pe),Z[a]=pe,$)if(ie={values:getIterationMethod("values"),keys:ne?pe:getIterationMethod("keys"),entries:getIterationMethod("entries")},re)for(ae in ie)!ee&&!le&&ae in ce||q(ce,ae,ie[ae]);else S({target:a,proto:!0,forced:ee||le},ie);return ie}},function(r,a,l){"use strict";var S,O,E,T=l(511),j=l(255),D=l(241),q=l(201),B=l(438),G=q("iterator"),Z=!1;[].keys&&("next"in(E=[].keys())?(O=T(T(E)))!==Object.prototype&&(S=O):Z=!0),null==S&&(S={}),B||D(S,G)||j(S,G,(function(){return this})),r.exports={IteratorPrototype:S,BUGGY_SAFARI_ITERATORS:Z}},function(r,a,l){var S=l(241),O=l(335),E=l(442),T=l(575),j=E("IE_PROTO"),D=Object.prototype;r.exports=T?Object.getPrototypeOf:function(r){return r=O(r),S(r,j)?r[j]:"function"==typeof r.constructor&&r instanceof r.constructor?r.constructor.prototype:r instanceof Object?D:null}},function(r,a,l){var S=l(444),O=l(334).f,E=l(255),T=l(241),j=l(576),D=l(201)("toStringTag");r.exports=function(r,a,l,q){if(r){var B=l?r:r.prototype;T(B,D)||O(B,D,{configurable:!0,value:a}),q&&!S&&E(B,"toString",j)}}},function(r,a,l){"use strict";var S=l(581).charAt,O=l(508),E=l(509),T=O.set,j=O.getterFor("String Iterator");E(String,"String",(function(r){T(this,{type:"String Iterator",string:String(r),index:0})}),(function next(){var r,a=j(this),l=a.string,O=a.index;return O>=l.length?{value:void 0,done:!0}:(r=S(l,O),a.index+=r.length,{value:r,done:!1})}))},function(r,a,l){var S=l(495),O=l(434),E=l(335),T=l(336),j=l(497),D=[].push,createMethod=function(r){var a=1==r,l=2==r,q=3==r,B=4==r,G=6==r,Z=5==r||G;return function($,Q,ee,te){for(var ne,re,oe=E($),ie=O(oe),ae=S(Q,ee,3),se=T(ie.length),le=0,ce=te||j,ue=a?ce($,se):l?ce($,0):void 0;se>le;le++)if((Z||le in ie)&&(re=ae(ne=ie[le],le,oe),r))if(a)ue[le]=re;else if(re)switch(r){case 3:return!0;case 5:return ne;case 6:return le;case 2:D.call(ue,ne)}else if(B)return!1;return G?-1:q||B?B:ue}};r.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6)}},function(r,a){r.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},,,,,,,,,,,,,,,function(r,a,l){"use strict";var S,O,E,T,j;if("undefined"==typeof window||"function"!=typeof MessageChannel){var D=null,q=null,t=function(){if(null!==D)try{var r=a.unstable_now();D(!0,r),D=null}catch(r){throw setTimeout(t,0),r}},B=Date.now();a.unstable_now=function(){return Date.now()-B},S=function(r){null!==D?setTimeout(S,0,r):(D=r,setTimeout(t,0))},O=function(r,a){q=setTimeout(r,a)},E=function(){clearTimeout(q)},T=function(){return!1},j=a.unstable_forceFrameRate=function(){}}else{var G=window.performance,Z=window.Date,$=window.setTimeout,Q=window.clearTimeout;if("undefined"!=typeof console){var ee=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof ee&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof G&&"function"==typeof G.now)a.unstable_now=function(){return G.now()};else{var te=Z.now();a.unstable_now=function(){return Z.now()-te}}var ne=!1,re=null,oe=-1,ie=5,ae=0;T=function(){return a.unstable_now()>=ae},j=function(){},a.unstable_forceFrameRate=function(r){0>r||125<r?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):ie=0<r?Math.floor(1e3/r):5};var se=new MessageChannel,le=se.port2;se.port1.onmessage=function(){if(null!==re){var r=a.unstable_now();ae=r+ie;try{re(!0,r)?le.postMessage(null):(ne=!1,re=null)}catch(r){throw le.postMessage(null),r}}else ne=!1},S=function(r){re=r,ne||(ne=!0,le.postMessage(null))},O=function(r,l){oe=$((function(){r(a.unstable_now())}),l)},E=function(){Q(oe),oe=-1}}function J(r,a){var l=r.length;r.push(a);e:for(;;){var S=l-1>>>1,O=r[S];if(!(void 0!==O&&0<K(O,a)))break e;r[S]=a,r[l]=O,l=S}}function L(r){return void 0===(r=r[0])?null:r}function M(r){var a=r[0];if(void 0!==a){var l=r.pop();if(l!==a){r[0]=l;e:for(var S=0,O=r.length;S<O;){var E=2*(S+1)-1,T=r[E],j=E+1,D=r[j];if(void 0!==T&&0>K(T,l))void 0!==D&&0>K(D,T)?(r[S]=D,r[j]=l,S=j):(r[S]=T,r[E]=l,S=E);else{if(!(void 0!==D&&0>K(D,l)))break e;r[S]=D,r[j]=l,S=j}}}return a}return null}function K(r,a){var l=r.sortIndex-a.sortIndex;return 0!==l?l:r.id-a.id}var ce=[],ue=[],pe=1,fe=null,de=3,he=!1,me=!1,ge=!1;function V(r){for(var a=L(ue);null!==a;){if(null===a.callback)M(ue);else{if(!(a.startTime<=r))break;M(ue),a.sortIndex=a.expirationTime,J(ce,a)}a=L(ue)}}function W(r){if(ge=!1,V(r),!me)if(null!==L(ce))me=!0,S(X);else{var a=L(ue);null!==a&&O(W,a.startTime-r)}}function X(r,l){me=!1,ge&&(ge=!1,E()),he=!0;var S=de;try{for(V(l),fe=L(ce);null!==fe&&(!(fe.expirationTime>l)||r&&!T());){var j=fe.callback;if(null!==j){fe.callback=null,de=fe.priorityLevel;var D=j(fe.expirationTime<=l);l=a.unstable_now(),"function"==typeof D?fe.callback=D:fe===L(ce)&&M(ce),V(l)}else M(ce);fe=L(ce)}if(null!==fe)var q=!0;else{var B=L(ue);null!==B&&O(W,B.startTime-l),q=!1}return q}finally{fe=null,de=S,he=!1}}function Y(r){switch(r){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var ye=j;a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(r){r.callback=null},a.unstable_continueExecution=function(){me||he||(me=!0,S(X))},a.unstable_getCurrentPriorityLevel=function(){return de},a.unstable_getFirstCallbackNode=function(){return L(ce)},a.unstable_next=function(r){switch(de){case 1:case 2:case 3:var a=3;break;default:a=de}var l=de;de=a;try{return r()}finally{de=l}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=ye,a.unstable_runWithPriority=function(r,a){switch(r){case 1:case 2:case 3:case 4:case 5:break;default:r=3}var l=de;de=r;try{return a()}finally{de=l}},a.unstable_scheduleCallback=function(r,l,T){var j=a.unstable_now();if("object"==typeof T&&null!==T){var D=T.delay;D="number"==typeof D&&0<D?j+D:j,T="number"==typeof T.timeout?T.timeout:Y(r)}else T=Y(r),D=j;return r={id:pe++,callback:l,priorityLevel:r,startTime:D,expirationTime:T=D+T,sortIndex:-1},D>j?(r.sortIndex=D,J(ue,r),null===L(ce)&&r===L(ue)&&(ge?E():ge=!0,O(W,D-j))):(r.sortIndex=T,J(ce,r),me||he||(me=!0,S(X))),r},a.unstable_shouldYield=function(){var r=a.unstable_now();V(r);var l=L(ce);return l!==fe&&null!==fe&&null!==l&&null!==l.callback&&l.startTime<=r&&l.expirationTime<fe.expirationTime||T()},a.unstable_wrapCallback=function(r){var a=de;return function(){var l=de;de=a;try{return r.apply(this,arguments)}finally{de=l}}}},,,,,,,,,function(r,a,l){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=SVGIcon;var S=_interopRequireDefault(l(125)),O=_interopRequireDefault(l(384)),E=_interopRequireDefault(l(126));function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}function SVGIcon(r){var a=(0,E.default)("lds-icon",r.className,{"lds-icon-hide":r.hidden});return(S.default.createElement("svg",{className:a,"aria-hidden":"true",focusable:"false"},S.default.createElement("use",{className:"lds-icon-i",xlinkHref:"#".concat(r.icon.id)})))}SVGIcon.propTypes={className:O.default.string,hidden:O.default.bool,icon:O.default.any},SVGIcon.defaultProps={className:"",hidden:!1,icon:null}},function(r,a,l){var S=l(541);r.exports=S},function(r,a,l){l(542);var S=l(277).Object,O=r.exports=function defineProperty(r,a,l){return S.defineProperty(r,a,l)};S.defineProperty.sham&&(O.sham=!0)},function(r,a,l){var S=l(200),O=l(254);S({target:"Object",stat:!0,forced:!O,sham:!O},{defineProperty:l(334).f})},function(r,a,l){var S=l(254),O=l(544),E=l(354),T=l(332),j=l(435),D=l(241),q=l(493),B=Object.getOwnPropertyDescriptor;a.f=S?B:function getOwnPropertyDescriptor(r,a){if(r=T(r),a=j(a,!0),q)try{return B(r,a)}catch(r){}if(D(r,a))return E(!O.f.call(r,a),r[a])}},function(r,a,l){"use strict";var S={}.propertyIsEnumerable,O=Object.getOwnPropertyDescriptor,E=O&&!S.call({1:2},1);a.f=E?function propertyIsEnumerable(r){var a=O(this,r);return!!a&&a.enumerable}:S},function(r,a,l){var S=l(221),O=/#|\.prototype\./,isForced=function(r,a){var l=T[E(r)];return l==D||l!=j&&("function"==typeof a?S(a):!!a)},E=isForced.normalize=function(r){return String(r).replace(O,".").toLowerCase()},T=isForced.data={},j=isForced.NATIVE="N",D=isForced.POLYFILL="P";r.exports=isForced},function(r,a,l){var S=l(547);r.exports=S},function(r,a,l){var S=l(548),O=Array.prototype;r.exports=function(r){var a=r.concat;return r===O||r instanceof Array&&a===O.concat?S:a}},function(r,a,l){l(549);var S=l(242);r.exports=S("Array").concat},function(r,a,l){"use strict";var S=l(200),O=l(221),E=l(356),T=l(240),j=l(335),D=l(336),q=l(496),B=l(497),G=l(439),Z=l(201),$=l(502),Q=Z("isConcatSpreadable"),ee=$>=51||!O((function(){var r=[];return r[Q]=!1,r.concat()[0]!==r})),te=G("concat"),isConcatSpreadable=function(r){if(!T(r))return!1;var a=r[Q];return void 0!==a?!!a:E(r)};S({target:"Array",proto:!0,forced:!ee||!te},{concat:function concat(r){var a,l,S,O,E,T=j(this),G=B(T,0),Z=0;for(a=-1,S=arguments.length;a<S;a++)if(E=-1===a?T:arguments[a],isConcatSpreadable(E)){if(Z+(O=D(E.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(l=0;l<O;l++,Z++)l in E&&q(G,Z,E[l])}else{if(Z>=9007199254740991)throw TypeError("Maximum allowed index exceeded");q(G,Z++,E)}return G.length=Z,G}})},function(r,a,l){var S=l(220),O=l(255);r.exports=function(r,a){try{O(S,r,a)}catch(l){S[r]=a}return a}},function(r,a,l){var S=l(501);r.exports=S&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(r,a,l){var S=l(503);r.exports=S("navigator","userAgent")||""},function(r,a,l){var S=l(554);r.exports=S},function(r,a,l){var S=l(555),O=Array.prototype;r.exports=function(r){var a=r.indexOf;return r===O||r instanceof Array&&a===O.indexOf?S:a}},function(r,a,l){l(556);var S=l(242);r.exports=S("Array").indexOf},function(r,a,l){"use strict";var S=l(200),O=l(440).indexOf,E=l(358),T=l(299),j=[].indexOf,D=!!j&&1/[1].indexOf(1,-0)<0,q=E("indexOf"),B=T("indexOf",{ACCESSORS:!0,1:0});S({target:"Array",proto:!0,forced:D||!q||!B},{indexOf:function indexOf(r){return D?j.apply(this,arguments)||0:O(this,r,arguments.length>1?arguments[1]:void 0)}})},function(r,a,l){var S=l(558);r.exports=S},function(r,a,l){l(559);var S=l(277).Object;r.exports=function create(r,a){return S.create(r,a)}},function(r,a,l){l(200)({target:"Object",stat:!0,sham:!l(254)},{create:l(505)})},function(r,a,l){var S=l(254),O=l(334),E=l(298),T=l(561);r.exports=S?Object.defineProperties:function defineProperties(r,a){E(r);for(var l,S=T(a),j=S.length,D=0;j>D;)O.f(r,l=S[D++],a[l]);return r}},function(r,a,l){var S=l(562),O=l(506);r.exports=Object.keys||function keys(r){return S(r,O)}},function(r,a,l){var S=l(241),O=l(332),E=l(440).indexOf,T=l(441);r.exports=function(r,a){var l,j=O(r),D=0,q=[];for(l in j)!S(T,l)&&S(j,l)&&q.push(l);for(;a.length>D;)S(j,l=a[D++])&&(~E(q,l)||q.push(l));return q}},function(r,a,l){var S=l(503);r.exports=S("document","documentElement")},function(r,a,l){var S=l(565);r.exports=function _arrayWithHoles(r){if(S(r))return r}},function(r,a,l){r.exports=l(566)},function(r,a,l){var S=l(567);r.exports=S},function(r,a,l){l(568);var S=l(277);r.exports=S.Array.isArray},function(r,a,l){l(200)({target:"Array",stat:!0},{isArray:l(356)})},function(r,a,l){var S=l(243),O=l(584);r.exports=function _iterableToArrayLimit(r,a){if(O(Object(r))||"[object Arguments]"===Object.prototype.toString.call(r)){var l=[],E=!0,T=!1,j=void 0;try{for(var D,q=S(r);!(E=(D=q.next()).done)&&(l.push(D.value),!a||l.length!==a);E=!0);}catch(r){T=!0,j=r}finally{try{E||null==q.return||q.return()}finally{if(T)throw j}}return l}}},function(r,a,l){l(443),l(513);var S=l(582);r.exports=S},function(r,a,l){"use strict";var S=l(332),O=l(507),E=l(300),T=l(508),j=l(509),D=T.set,q=T.getterFor("Array Iterator");r.exports=j(Array,"Array",(function(r,a){D(this,{type:"Array Iterator",target:S(r),index:0,kind:a})}),(function(){var r=q(this),a=r.target,l=r.kind,S=r.index++;return!a||S>=a.length?(r.target=void 0,{value:void 0,done:!0}):"keys"==l?{value:S,done:!1}:"values"==l?{value:a[S],done:!1}:{value:[S,a[S]],done:!1}}),"values"),E.Arguments=E.Array,O("keys"),O("values"),O("entries")},function(r,a,l){var S=l(220),O=l(573),E=S.WeakMap;r.exports="function"==typeof E&&/native code/.test(O(E))},function(r,a,l){var S=l(499),O=Function.toString;"function"!=typeof S.inspectSource&&(S.inspectSource=function(r){return O.call(r)}),r.exports=S.inspectSource},function(r,a,l){"use strict";var S=l(510).IteratorPrototype,O=l(505),E=l(354),T=l(512),j=l(300),returnThis=function(){return this};r.exports=function(r,a,l){var D=a+" Iterator";return r.prototype=O(S,{next:E(1,l)}),T(r,D,!1,!0),j[D]=returnThis,r}},function(r,a,l){var S=l(221);r.exports=!S((function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype}))},function(r,a,l){"use strict";var S=l(444),O=l(337);r.exports=S?{}.toString:function toString(){return"[object "+O(this)+"]"}},function(r,a,l){var S=l(298),O=l(578);r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r,a=!1,l={};try{(r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(l,[]),a=l instanceof Array}catch(r){}return function setPrototypeOf(l,E){return S(l),O(E),a?r.call(l,E):l.__proto__=E,l}}():void 0)},function(r,a,l){var S=l(240);r.exports=function(r){if(!S(r)&&null!==r)throw TypeError("Can't set "+String(r)+" as a prototype");return r}},function(r,a,l){var S=l(255);r.exports=function(r,a,l,O){O&&O.enumerable?r[a]=l:S(r,a,l)}},function(r,a){r.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(r,a,l){var S=l(437),O=l(333),createMethod=function(r){return function(a,l){var E,T,j=String(O(a)),D=S(l),q=j.length;return D<0||D>=q?r?"":void 0:(E=j.charCodeAt(D))<55296||E>56319||D+1===q||(T=j.charCodeAt(D+1))<56320||T>57343?r?j.charAt(D):E:r?j.slice(D,D+2):T-56320+(E-55296<<10)+65536}};r.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},function(r,a,l){var S=l(298),O=l(583);r.exports=function(r){var a=O(r);if("function"!=typeof a)throw TypeError(String(r)+" is not iterable");return S(a.call(r))}},function(r,a,l){var S=l(337),O=l(300),E=l(201)("iterator");r.exports=function(r){if(null!=r)return r[E]||r["@@iterator"]||O[S(r)]}},function(r,a,l){r.exports=l(585)},function(r,a,l){l(443),l(513);var S=l(586);r.exports=S},function(r,a,l){var S=l(337),O=l(201),E=l(300),T=O("iterator");r.exports=function(r){var a=Object(r);return void 0!==a[T]||"@@iterator"in a||E.hasOwnProperty(S(a))}},function(r,a){r.exports=function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(r,a,l){l(443);var S=l(589),O=l(337),E=Array.prototype,T={DOMTokenList:!0,NodeList:!0};r.exports=function(r){var a=r.forEach;return r===E||r instanceof Array&&a===E.forEach||T.hasOwnProperty(O(r))?S:a}},function(r,a,l){var S=l(590);r.exports=S},function(r,a,l){l(591);var S=l(242);r.exports=S("Array").forEach},function(r,a,l){"use strict";var S=l(200),O=l(592);S({target:"Array",proto:!0,forced:[].forEach!=O},{forEach:O})},function(r,a,l){"use strict";var S=l(514).forEach,O=l(358),E=l(299),T=O("forEach"),j=E("forEach");r.exports=T&&j?[].forEach:function forEach(r){return S(this,r,arguments.length>1?arguments[1]:void 0)}},function(r,a,l){var S=l(594);r.exports=S},function(r,a,l){var S=l(595),O=l(597),E=Array.prototype,T=String.prototype;r.exports=function(r){var a=r.includes;return r===E||r instanceof Array&&a===E.includes?S:"string"==typeof r||r===T||r instanceof String&&a===T.includes?O:a}},function(r,a,l){l(596);var S=l(242);r.exports=S("Array").includes},function(r,a,l){"use strict";var S=l(200),O=l(440).includes,E=l(507);S({target:"Array",proto:!0,forced:!l(299)("indexOf",{ACCESSORS:!0,1:0})},{includes:function includes(r){return O(this,r,arguments.length>1?arguments[1]:void 0)}}),E("includes")},function(r,a,l){l(598);var S=l(242);r.exports=S("String").includes},function(r,a,l){"use strict";var S=l(200),O=l(599),E=l(333);S({target:"String",proto:!0,forced:!l(601)("includes")},{includes:function includes(r){return!!~String(E(this)).indexOf(O(r),arguments.length>1?arguments[1]:void 0)}})},function(r,a,l){var S=l(600);r.exports=function(r){if(S(r))throw TypeError("The method doesn't accept regular expressions");return r}},function(r,a,l){var S=l(240),O=l(355),E=l(201)("match");r.exports=function(r){var a;return S(r)&&(void 0!==(a=r[E])?!!a:"RegExp"==O(r))}},function(r,a,l){var S=l(201)("match");r.exports=function(r){var a=/./;try{"/./"[r](a)}catch(l){try{return a[S]=!1,"/./"[r](a)}catch(r){}}return!1}},function(r,a,l){var S=l(603);r.exports=S},function(r,a,l){l(604);var S=l(277);r.exports=S.parseInt},function(r,a,l){var S=l(200),O=l(605);S({global:!0,forced:parseInt!=O},{parseInt:O})},function(r,a,l){var S=l(220),O=l(606).trim,E=l(515),T=S.parseInt,j=/^[+-]?0[Xx]/,D=8!==T(E+"08")||22!==T(E+"0x16");r.exports=D?function parseInt(r,a){var l=O(String(r));return T(l,a>>>0||(j.test(l)?16:10))}:T},function(r,a,l){var S=l(333),O="["+l(515)+"]",E=RegExp("^"+O+O+"*"),T=RegExp(O+O+"*$"),createMethod=function(r){return function(a){var l=String(S(a));return 1&r&&(l=l.replace(E,"")),2&r&&(l=l.replace(T,"")),l}};r.exports={start:createMethod(1),end:createMethod(2),trim:createMethod(3)}},function(r,a,l){var S=l(608);r.exports=S},function(r,a,l){var S=l(609),O=Array.prototype;r.exports=function(r){var a=r.slice;return r===O||r instanceof Array&&a===O.slice?S:a}},function(r,a,l){l(610);var S=l(242);r.exports=S("Array").slice},function(r,a,l){"use strict";var S=l(200),O=l(240),E=l(356),T=l(504),j=l(336),D=l(332),q=l(496),B=l(201),G=l(439),Z=l(299),$=G("slice"),Q=Z("slice",{ACCESSORS:!0,0:0,1:2}),ee=B("species"),te=[].slice,ne=Math.max;S({target:"Array",proto:!0,forced:!$||!Q},{slice:function slice(r,a){var l,S,B,G=D(this),Z=j(G.length),$=T(r,Z),Q=T(void 0===a?Z:a,Z);if(E(G)&&("function"!=typeof(l=G.constructor)||l!==Array&&!E(l.prototype)?O(l)&&null===(l=l[ee])&&(l=void 0):l=void 0,l===Array||void 0===l))return te.call(G,$,Q);for(S=new(void 0===l?Array:l)(ne(Q-$,0)),B=0;$<Q;$++,B++)$ in G&&q(S,B,G[$]);return S.length=B,S}})},function(r,a,l){var S=l(612);r.exports=S},function(r,a,l){var S=l(613),O=Array.prototype;r.exports=function(r){var a=r.sort;return r===O||r instanceof Array&&a===O.sort?S:a}},function(r,a,l){l(614);var S=l(242);r.exports=S("Array").sort},function(r,a,l){"use strict";var S=l(200),O=l(436),E=l(335),T=l(221),j=l(358),D=[],q=D.sort,B=T((function(){D.sort(void 0)})),G=T((function(){D.sort(null)})),Z=j("sort");S({target:"Array",proto:!0,forced:B||!G||!Z},{sort:function sort(r){return void 0===r?q.call(E(this)):q.call(E(this),O(r))}})},function(r,a,l){var S=l(616);r.exports=S},function(r,a,l){var S=l(617),O=RegExp.prototype;r.exports=function(r){return!(r===O||r instanceof RegExp)||"flags"in r?r.flags:S(r)}},function(r,a,l){l(618);var S=l(619);r.exports=function(r){return S.call(r)}},function(r,a){},function(r,a,l){"use strict";var S=l(298);r.exports=function(){var r=S(this),a="";return r.global&&(a+="g"),r.ignoreCase&&(a+="i"),r.multiline&&(a+="m"),r.dotAll&&(a+="s"),r.unicode&&(a+="u"),r.sticky&&(a+="y"),a}},function(r,a,l){var S=l(621);r.exports=S},function(r,a,l){var S=l(622),O=Array.prototype;r.exports=function(r){var a=r.map;return r===O||r instanceof Array&&a===O.map?S:a}},function(r,a,l){l(623);var S=l(242);r.exports=S("Array").map},function(r,a,l){"use strict";var S=l(200),O=l(514).map,E=l(439),T=l(299),j=E("map"),D=T("map");S({target:"Array",proto:!0,forced:!j||!D},{map:function map(r){return O(this,r,arguments.length>1?arguments[1]:void 0)}})},function(r,a,l){var S=l(625);r.exports=S},function(r,a,l){var S=l(626),O=Array.prototype;r.exports=function(r){var a=r.reduce;return r===O||r instanceof Array&&a===O.reduce?S:a}},function(r,a,l){l(627);var S=l(242);r.exports=S("Array").reduce},function(r,a,l){"use strict";var S=l(200),O=l(628).left,E=l(358),T=l(299),j=E("reduce"),D=T("reduce",{1:0});S({target:"Array",proto:!0,forced:!j||!D},{reduce:function reduce(r){return O(this,r,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(r,a,l){var S=l(436),O=l(335),E=l(434),T=l(336),createMethod=function(r){return function(a,l,j,D){S(l);var q=O(a),B=E(q),G=T(q.length),Z=r?G-1:0,$=r?-1:1;if(j<2)for(;;){if(Z in B){D=B[Z],Z+=$;break}if(Z+=$,r?Z<0:G<=Z)throw TypeError("Reduce of empty array with no initial value")}for(;r?Z>=0:G>Z;Z+=$)Z in B&&(D=l(D,B[Z],Z,q));return D}};r.exports={left:createMethod(!1),right:createMethod(!0)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(r,a,l){var S;void 0===(S=function(){var r=function(){var a,l,S,O,E,T,j="undefined",D="object",q="Shockwave Flash",B="application/x-shockwave-flash",G="SWFObjectExprInst",Z="onreadystatechange",$=window,Q=document,ee=navigator,te=!1,ne=[],re=[],oe=[],ie=[],ae=!1,se=!1,le=!0,ce=!1,ue=function(){var r=typeof Q.getElementById!=j&&typeof Q.getElementsByTagName!=j&&typeof Q.createElement!=j,a=ee.userAgent.toLowerCase(),l=ee.platform.toLowerCase(),S=/win/.test(l||a),O=/mac/.test(l||a),E=!!/webkit/.test(a)&&parseFloat(a.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),T="Microsoft Internet Explorer"===ee.appName,G=[0,0,0],Z=null;if(typeof ee.plugins!=j&&typeof ee.plugins[q]==D)(Z=ee.plugins[q].description)&&typeof ee.mimeTypes!=j&&ee.mimeTypes[B]&&ee.mimeTypes[B].enabledPlugin&&(te=!0,T=!1,Z=Z.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),G[0]=n(Z.replace(/^(.*)\..*$/,"$1")),G[1]=n(Z.replace(/^.*\.(.*)\s.*$/,"$1")),G[2]=/[a-zA-Z]/.test(Z)?n(Z.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof $.ActiveXObject!=j)try{var ne=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");ne&&(Z=ne.GetVariable("$version"))&&(T=!0,G=[n((Z=Z.split(" ")[1].split(","))[0]),n(Z[1]),n(Z[2])])}catch(r){}return{w3:r,pv:G,wk:E,ie:T,win:S,mac:O}}();ue.w3&&((typeof Q.readyState!=j&&("complete"===Q.readyState||"interactive"===Q.readyState)||typeof Q.readyState==j&&(Q.getElementsByTagName("body")[0]||Q.body))&&f(),ae||(typeof Q.addEventListener!=j&&Q.addEventListener("DOMContentLoaded",f,!1),ue.ie&&(Q.attachEvent(Z,(function aa(){"complete"==Q.readyState&&(Q.detachEvent(Z,aa),f())})),$==top&&function ac(){if(!ae){try{Q.documentElement.doScroll("left")}catch(r){return void setTimeout(ac,0)}f()}}()),ue.wk&&function ab(){ae||(/loaded|complete/.test(Q.readyState)?f():setTimeout(ab,0))}()));function f(){if(!ae&&document.getElementsByTagName("body")[0]){try{var r,a=C("span");a.style.display="none",(r=Q.getElementsByTagName("body")[0].appendChild(a)).parentNode.removeChild(r),r=null,a=null}catch(r){return}ae=!0;for(var l=ne.length,S=0;S<l;S++)ne[S]()}}function M(r){ae?r():ne[ne.length]=r}function H(){var r=re.length;if(r>0)for(var a=0;a<r;a++){var l=re[a].id,S=re[a].callbackFn,O={success:!1,id:l};if(ue.pv[0]>0){var E=c(l);if(E)if(!F(re[a].swfVersion)||ue.wk&&ue.wk<312)if(re[a].expressInstall&&A()){var T={};T.data=re[a].expressInstall,T.width=E.getAttribute("width")||"0",T.height=E.getAttribute("height")||"0",E.getAttribute("class")&&(T.styleclass=E.getAttribute("class")),E.getAttribute("align")&&(T.align=E.getAttribute("align"));for(var D={},q=E.getElementsByTagName("param"),B=q.length,G=0;G<B;G++)"movie"!=q[G].getAttribute("name").toLowerCase()&&(D[q[G].getAttribute("name")]=q[G].getAttribute("value"));R(T,D,l,S)}else b(E),S&&S(O);else w(l,!0),S&&(O.success=!0,O.ref=z(l),O.id=l,S(O))}else if(w(l,!0),S){var Z=z(l);Z&&typeof Z.SetVariable!=j&&(O.success=!0,O.ref=Z,O.id=Z.id),S(O)}}}function z(r){var a=null,l=c(r);return l&&"OBJECT"===l.nodeName.toUpperCase()&&(a=typeof l.SetVariable!==j?l:l.getElementsByTagName(D)[0]||l),a}function A(){return!se&&F("6.0.65")&&(ue.win||ue.mac)&&!(ue.wk&&ue.wk<312)}function R(r,E,T,D){var q=c(T);if(T=W(T),se=!0,S=D||null,O={success:!1,id:T},q){"OBJECT"==q.nodeName.toUpperCase()?(a=J(q),l=null):(a=q,l=T),r.id=G,(typeof r.width==j||!/%$/.test(r.width)&&n(r.width)<310)&&(r.width="310"),(typeof r.height==j||!/%$/.test(r.height)&&n(r.height)<137)&&(r.height="137");var B=ue.ie?"ActiveX":"PlugIn",Z="MMredirectURL="+encodeURIComponent($.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+B+"&MMdoctitle="+encodeURIComponent(Q.title.slice(0,47)+" - Flash Player Installation");if(typeof E.flashvars!=j?E.flashvars+="&"+Z:E.flashvars=Z,ue.ie&&4!=q.readyState){var ee=C("div");T+="SWFObjectNew",ee.setAttribute("id",T),q.parentNode.insertBefore(ee,q),q.style.display="none",y(q)}u(r,E,T)}}function b(r){if(ue.ie&&4!=r.readyState){r.style.display="none";var a=C("div");r.parentNode.insertBefore(a,r),a.parentNode.replaceChild(J(r),a),y(r)}else r.parentNode.replaceChild(J(r),r)}function J(r){var a=C("div");if(ue.win&&ue.ie)a.innerHTML=r.innerHTML;else{var l=r.getElementsByTagName(D)[0];if(l){var S=l.childNodes;if(S)for(var O=S.length,E=0;E<O;E++)1==S[E].nodeType&&"PARAM"==S[E].nodeName||8==S[E].nodeType||a.appendChild(S[E].cloneNode(!0))}}return a}function u(r,a,l){var S,O=c(l);if(l=W(l),ue.wk&&ue.wk<312)return S;if(O){var E,T,q,G=ue.ie?C("div"):C(D);for(q in typeof r.id==j&&(r.id=l),a)a.hasOwnProperty(q)&&"movie"!==q.toLowerCase()&&e(G,q,a[q]);for(E in ue.ie&&(G=function k(r,a){var l=C("div");return l.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+r+"'>"+a+"</object>",l.firstChild}(r.data,G.innerHTML)),r)r.hasOwnProperty(E)&&("styleclass"===(T=E.toLowerCase())?G.setAttribute("class",r[E]):"classid"!==T&&"data"!==T&&G.setAttribute(E,r[E]));ue.ie?oe[oe.length]=r.id:(G.setAttribute("type",B),G.setAttribute("data",r.data)),O.parentNode.replaceChild(G,O),S=G}return S}function e(r,a,l){var S=C("param");S.setAttribute("name",a),S.setAttribute("value",l),r.appendChild(S)}function y(r){var a=c(r);a&&"OBJECT"==a.nodeName.toUpperCase()&&(ue.ie?(a.style.display="none",function aa(){if(4==a.readyState){for(var r in a)"function"==typeof a[r]&&(a[r]=null);a.parentNode.removeChild(a)}else setTimeout(aa,10)}()):a.parentNode.removeChild(a))}function U(r){return r&&r.nodeType&&1===r.nodeType}function W(r){return U(r)?r.id:r}function c(r){if(U(r))return r;var a=null;try{a=Q.getElementById(r)}catch(r){}return a}function C(r){return Q.createElement(r)}function n(r){return parseInt(r,10)}function F(r){r+="";var a=ue.pv,l=r.split(".");return l[0]=n(l[0]),l[1]=n(l[1])||0,l[2]=n(l[2])||0,a[0]>l[0]||a[0]==l[0]&&a[1]>l[1]||a[0]==l[0]&&a[1]==l[1]&&a[2]>=l[2]}function v(r,a,l,S){var O=Q.getElementsByTagName("head")[0];if(O){var D="string"==typeof l?l:"screen";if(S&&(E=null,T=null),!E||T!=D){var q=C("style");q.setAttribute("type","text/css"),q.setAttribute("media",D),E=O.appendChild(q),ue.ie&&typeof Q.styleSheets!=j&&Q.styleSheets.length>0&&(E=Q.styleSheets[Q.styleSheets.length-1]),T=D}E&&(typeof E.addRule!=j?E.addRule(r,a):typeof Q.createTextNode!=j&&E.appendChild(Q.createTextNode(r+" {"+a+"}")))}}function w(r,a){if(le){var l=a?"visible":"hidden",S=c(r);ae&&S?S.style.visibility=l:"string"==typeof r&&v("#"+r,"visibility:"+l)}}function N(r){return null!=/[\\\"<>\.;]/.exec(r)&&typeof encodeURIComponent!=j?encodeURIComponent(r):r}ne[0]=function(){te?function Y(){var r=Q.getElementsByTagName("body")[0],a=C(D);a.setAttribute("style","visibility: hidden;"),a.setAttribute("type",B);var l=r.appendChild(a);if(l){var S=0;!function ab(){if(typeof l.GetVariable!=j)try{var O=l.GetVariable("$version");O&&(O=O.split(" ")[1].split(","),ue.pv=[n(O[0]),n(O[1]),n(O[2])])}catch(r){ue.pv=[8,0,0]}else if(S<10)return S++,void setTimeout(ab,10);r.removeChild(a),l=null,H()}()}else H()}():H()};ue.ie&&window.attachEvent("onunload",(function(){for(var a=ie.length,l=0;l<a;l++)ie[l][0].detachEvent(ie[l][1],ie[l][2]);for(var S=oe.length,O=0;O<S;O++)y(oe[O]);for(var E in ue)ue[E]=null;for(var T in ue=null,r)r[T]=null;r=null}));return{registerObject:function(r,a,l,S){if(ue.w3&&r&&a){var O={};O.id=r,O.swfVersion=a,O.expressInstall=l,O.callbackFn=S,re[re.length]=O,w(r,!1)}else S&&S({success:!1,id:r})},getObjectById:function(r){if(ue.w3)return z(r)},embedSWF:function(r,a,l,S,O,E,T,q,B,G){var Z=W(a),$={success:!1,id:Z};ue.w3&&!(ue.wk&&ue.wk<312)&&r&&a&&l&&S&&O?(w(Z,!1),M((function(){l+="",S+="";var Q={};if(B&&typeof B===D)for(var ee in B)Q[ee]=B[ee];Q.data=r,Q.width=l,Q.height=S;var te={};if(q&&typeof q===D)for(var ne in q)te[ne]=q[ne];if(T&&typeof T===D)for(var re in T)if(T.hasOwnProperty(re)){var oe=ce?encodeURIComponent(re):re,ie=ce?encodeURIComponent(T[re]):T[re];typeof te.flashvars!=j?te.flashvars+="&"+oe+"="+ie:te.flashvars=oe+"="+ie}if(F(O)){var ae=u(Q,te,a);Q.id==Z&&w(Z,!0),$.success=!0,$.ref=ae,$.id=ae.id}else{if(E&&A())return Q.data=E,void R(Q,te,a,G);w(Z,!0)}G&&G($)}))):G&&G($)},switchOffAutoHideShow:function(){le=!1},enableUriEncoding:function(r){ce=typeof r===j||r},ua:ue,getFlashPlayerVersion:function(){return{major:ue.pv[0],minor:ue.pv[1],release:ue.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(r,a,l){return ue.w3?u(r,a,l):void 0},showExpressInstall:function(r,a,l,S){ue.w3&&A()&&R(r,a,l,S)},removeSWF:function(r){ue.w3&&y(r)},createCSS:function(r,a,l,S){ue.w3&&v(r,a,l,S)},addDomLoadEvent:M,addLoadEvent:function s(r){if(typeof $.addEventListener!=j)$.addEventListener("load",r,!1);else if(typeof Q.addEventListener!=j)Q.addEventListener("load",r,!1);else if(typeof $.attachEvent!=j)!function g(r,a,l){r.attachEvent(a,l),ie[ie.length]=[r,a,l]}($,"onload",r);else if("function"==typeof $.onload){var a=$.onload;$.onload=function(){a(),r()}}else $.onload=r},getQueryParamValue:function(r){var a=Q.location.search||Q.location.hash;if(a){if(/\?/.test(a)&&(a=a.split("?")[1]),null==r)return N(a);for(var l=a.split("&"),S=0;S<l.length;S++)if(l[S].substring(0,l[S].indexOf("="))==r)return N(l[S].substring(l[S].indexOf("=")+1))}return""},expressInstallCallback:function(){if(se){var r=c(G);r&&a&&(r.parentNode.replaceChild(a,r),l&&(w(l,!0),ue.ie&&(a.style.display="block")),S&&S(O)),se=!1}},version:"2.3"}}();return r}.call(a,l,a,r))||(r.exports=S)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){var _=__webpack_require__(0);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",proper?(__p+='<div class="'+(null==(__t=fractionClass)?"":__t)+'">',integer&&(__p+='<span class="'+(null==(__t=fractionClass)?"":__t)+'-integer">'+(null==(__t=integer)?"":__t)+"</span>"),__p+='<span class="'+(null==(__t=fractionClass)?"":__t)+'-proper-fraction">'+(null==(__t=proper)?"":__t)+"</span></div>"):__p+=""+(null==(__t=integer)?"":__t),__p+="";return __p}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){var _=__webpack_require__(0);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="<div ",htmlId&&(__p+='id="'+(null==(__t=htmlId)?"":__t)+'" '),__p+='class="lrn lrn_widget lrn_feature lrn_'+(null==(__t=featureType)?"":__t)+" "+(null==(__t=extraClasses)?"":__t)+'">'+(null==(__t=featureContent)?"":__t)+"</div>";return __p}}])]);