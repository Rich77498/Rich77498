(window.LearnosityAmd=window.LearnosityAmd||[]).push([[24],{103:function(t,i,n){"use strict";n.r(i);var a,r=n(215),o=n(1),l=n.n(o),c=n(0),p=n.n(c),h=n(261),u=n(728),d=n.n(u),g=n(729),f=n.n(g),v=n(380),m=n(381),E=n(50),b=n(206),y=n(17),T=n.n(y),I=h.a.extend({DEFAULT_DATA:{WIDTH_MAX_LENGTH:50},clozeTextQuestionInputTemplate:d.a,clozeTextQuestionTextareaTemplate:f.a,events:(a={"keyup .lrn_textinput textarea, .lrn_textinput input":"updateModel","change .lrn_textinput textarea, .lrn_textinput input":"updateModel","mousedown .lrn_textinput textarea, .lrn_textinput input":"checkIsDisabled","focusin .lrn_textinput textarea, .lrn_textinput input":"clearValidationUI","focusout .lrn_textinput textarea, .lrn_textinput input":"addRemoveInputFocus"},E.a.isTextareaMaxlengthSupported()&&(a["keypress .lrn_textinput textarea"]=function(t){return t.target.value.length<l()(t.target).attr("maxlength")}),a),render:function render(){return h.a.prototype.render.call(this),!this.readOnly&&this.displayLogic.showCharacterMap&&p.a.each(this.$(".lrn_textinput"),(function(t){new v.a(t,this.displayLogic.characterMapCharacters,{characterMapIcon:this.displayLogic.characterMapIcon,characterMapTitle:this.i18n.labels.characterMapTitle},this.$el,{extraClasses:l.a.trim("lrn_clozetext "+this.model.getFontClass())})}),this),E.a.isPlaceholderSupported()||this.$(".lrn_textinput").each((function(){m.a.polyfillPlaceholder(l()(this).find("textarea, input")[0],this)})),this},addRenderingLogic:function addRenderingLogic(){var t=this.model.get("question");t.character_map&&(this.displayLogic.showCharacterMap=!0,t.is_math?(this.displayLogic.characterMapCharacters=this.i18n.labels.characterMapMathCharacters,this.displayLogic.characterMapIcon=this.i18n.labels.characterMapMathIcon):(this.displayLogic.characterMapCharacters=this.i18n.labels.characterMapCharacters,this.displayLogic.characterMapIcon=this.i18n.labels.characterMapIcon),p.a.isArray(t.character_map)&&(this.displayLogic.characterMapCharacters=t.character_map)),this.displayLogic.disableInput=t.ui_style&&t.ui_style.disable_input,this.displayLogic.spellCheck=Object(b.d)(t.spellcheck),this.displayLogic.maxLength=p.a.isNumber(this.model.get("question").max_length)?this.model.get("question").max_length:15,this.displayLogic.multipleLine=!!t.hasOwnProperty("multiple_line")&&t.multiple_line,this.displayLogic.responseContainer={width:.6*this._getWidthMaxLength()+1.7+"em"},h.a.prototype.addRenderingLogic.call(this)},_getWidthMaxLength:function _getWidthMaxLength(){var t=this.DEFAULT_DATA.WIDTH_MAX_LENGTH;return this.displayLogic.maxLength<t&&(t=this.displayLogic.maxLength),t},getResponseInputHTML:function getResponseInputHTML(t,i){var n,a={inputId:t,stimulus:T.a.stripHTML(T.a.createImageDescriptions(this.model.getStimulus()),!0)};return p.a.extend(a,this.displayLogic),a.responseContainer=this.getResponseContainerFor(t),a.ariaLabel=this.getImageClozeAriaLabelFor(t),this.model.hasResponse()&&(n=this.model.getResponseValue(),a.responseValue=n?n[t]:[]),(this.displayLogic.multipleLine?this.clozeTextQuestionTextareaTemplate:this.clozeTextQuestionInputTemplate)({displayLogic:a,pointerVars:i})},showValidationUI:function showValidationUI(){var t=h.a.prototype.showValidationUI.call(this),i=this,n=!(!t||!t.length),a=[];this.$(".lrn_textinput textarea, .lrn_textinput input").each((function(r){var o=l()(this),c=o.parent(),h="lrn_not_attempted";n&&p.a.isBoolean(t[o.data("inputid")])&&(t[o.data("inputid")]?h="lrn_correct":o.val().length&&(h="lrn_incorrect")),c.addClass(h),i.displayLogic.displayCorrectAnswer&&c.prepend('<span class="lrn_responseIndex">'+i.getResponseIndexLabel(r)+"</span>"),a.push(c[0])})),this.showingValidationUI=!0},clearValidationUI:function clearValidationUI(t){!this.readOnly&&this.showingValidationUI&&(this.clearCorrectAnswers(),this.$(".lrn_correct,.lrn_incorrect,.lrn_not_attempted").removeClass("lrn_correct lrn_incorrect lrn_not_attempted"),this.showingValidationUI=!1,h.a.prototype.clearValidationUI.call(this)),this.addRemoveInputFocus(t)},addRemoveInputFocus:function addRemoveInputFocus(t){p.a.isObject(t)&&("focusin"===t.type?l()(t.target).parent(".lrn_textinput").addClass("lrn_focus"):"focusout"===t.type&&l()(t.target).parent(".lrn_textinput").removeClass("lrn_focus"))},updateModel:function updateModel(t){var i=this.model.getIgnoreLeadingAndTrailingSpaces(),n=l()(t.currentTarget);this.responseValue[n.data("inputid")]=i?p.a.trim(n.val()):n.val(),this.model.updateResponseValue(this.responseValue)},checkIsDisabled:function checkIsDisabled(t){(this.displayLogic.readOnly||this.displayLogic.disableInput)&&t.preventDefault()},getCorrectResponseTextByIndex:function getCorrectResponseTextByIndex(t){return this.model.getCorrectByIndex(t)},setDisabled:function setDisabled(t){this.$(".lrn_textinput input, .lrn_textinput textarea").prop("disabled",t).attr("aria-disabled",t),this.setEventsDisabled(t),this.setButtonsDisabled(t)}}),C=n(730),L=n.n(C),A=n(731),w=n.n(A),D=n(24),x=n(732),M=n.n(x),O=n(312),S=(n(11),{buildPossibleResponseGroup:function buildPossibleResponseGroup(t,i){return p.a.map(t,(function(t){var n=p.a.deepClone(t);return n.responses=function getResponses(t){var n=[];return p.a.each(t,(function(t){var a=p.a.findWhere(i,{value:t});a&&n.push(a)})),n}(n.responses),n}))},buildResponseItems:function buildResponseItems(t,i){return t(i)},renderPossibleResponseGroups:function renderPossibleResponseGroups(t,i){var n="",a=i.displayLogic,r=S.buildPossibleResponseGroup(i.groups,i.remainingPossibilities);return p.a.each(r,(function(i,r){n+=S.buildResponseItems(t,{displayLogic:a,group:p.a.extend({index:r},i)})})),n}}),N=function PossibilityListBuilder(t){var i=t.displayLogic.possibilityListPosition||"bottom";this.displayLogic=t.displayLogic,this.templates=t.templates,this.itemsTemplate=this.templates.items,this.template=this.templates[i],this.displayLogic.possibleResponseGroups&&(this.displayLogic.groupingResponses=!0)};p.a.extend(N.prototype,{build:function build(){var t,i=this.displayLogic.remainingPossibilitiesList,n=this.displayLogic.possibleResponseGroups;if(i||n)return t=n?S.renderPossibleResponseGroups(this.itemsTemplate,{displayLogic:this.displayLogic,remainingPossibilities:i,groups:n}):S.buildResponseItems(this.itemsTemplate,{displayLogic:this.displayLogic,group:{responses:i}}),p.a.isFunction(this.template)?(this.displayLogic.responseItems=t,this.template({displayLogic:this.displayLogic})):t}});var R=N,V=n(208),P=n(478);function hasDefinedHeight(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.height,n=void 0===i?"":i,a=!p.a.isNaN(parseInt(n)),r=n.match("em")||n.match("px");return a&&r}function hasHorizontalPointer(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"left"===t.pointer||"right"===t.pointer}var B=["h1","h2","h3","h4","h5","h6","p","pre","div","blockquote","section"],k=h.a.extend({clozeAssociationQuestionTemplate:L.a,clozeAssociationPossibilitiesTemplate:w.a,showingAnswer:!1,maskable:!0,possibilityListTemplates:{items:M.a},events:p.a.extend({"click .lrn_possibilityList .lrn_draggable":"toggleMasking"},h.a.prototype.events),initialize:function initialize(){p.a.extend(this.model,O.a),E.a.isTouchDevice()&&(this.events=p.a.extend({},this.events,{"touchend .lrn_possibilityList .lrn_draggable":"toggleMasking"}),this.toggleMasking=p.a.debounce(this.toggleMasking.bind(this),100,!0)),h.a.prototype.initialize.apply(this,arguments)},initialisationCompleted:function initialisationCompleted(){var t=this,i=this.model.get("question");h.a.prototype.initialisationCompleted.apply(this,arguments);var n=function updateResponseContainersWidth(){if(!p.a.getNested(i,"response_container.width")){var n=i.response_containers||[],a=100;t.$(".lrn_btn_drag").each((function(t,i){var n=l()(i).outerWidth();a<n&&(a=n)})),t.$(".lrn_dropzone").filter((function(t){return!(n[t]&&n[t].width)})).width(a)}};this.options.mathRenderPromise.then(n,n)},addRenderingLogic:function addRenderingLogic(){var t,i=this.model.get("response"),n=this.model.get("question"),a=[],r=[],o=this.model.usingPossibleGroupingResponses(),l=o?this.model.getPossibleResponseGroupResponses():this.model.getPossibleResponses();this.possibilitiesList=[],p.a.each(l,(function(t,i){this.possibilitiesList.push({value:t.value,index:i,groupIndex:t.groupIndex,ariaValue:T.a.stripHTML(T.a.createImageDescriptions(t.value),!0)})}),this),i?(p.a.each(i.value,function(t){var i,n=p.a.find(this.possibilitiesList,(function(i){return i.value===t})),r=t,o=-1;n&&(r=n.value,o=n.index,i=n.groupIndex),a.push({value:r,index:o,groupIndex:i,ariaValue:T.a.stripHTML(r,!0,!0)})}.bind(this)),n.duplicate_responses?r=this.possibilitiesList:p.a.each(this.possibilitiesList,(function(t){-1===p.a.indexOf(i.value,t.value)&&r.push(p.a.clone(t))}))):((a=[]).length=this.responseValue.length,r=this.possibilitiesList),this.displayLogic.isReviewState=this.activity.get("state")===this.activity.STATE.REVIEW,this.displayLogic.possibilitiesList=this.possibilitiesList,this.displayLogic.remainingPossibilitiesList=r,this.displayLogic.responseList=a,this.displayLogic.duplicateResponses=!!n.duplicate_responses,this.displayLogic.questiontype=n.type,this.displayLogic.dragHandle=!p.a.hasProperty(n,"ui_style.show_drag_handle")||n.ui_style.show_drag_handle,p.a.hasProperty(n,"ui_style.possibility_list_position")&&(this.displayLogic.possibilityListPosition=n.ui_style.possibility_list_position),o&&(this.displayLogic.possibleResponseGroups=this.model.getPossibleResponseGroups()),t=new R({displayLogic:this.displayLogic,templates:this.possibilityListTemplates}),this.displayLogic.possibilityListContent=t.build(),h.a.prototype.addRenderingLogic.call(this)},render:function render(){return h.a.prototype.render.call(this),this.readOnly||(this.dragDrop=new V.a({container:this.el,zones:this.$(".lrn_dragdrop").get(),draggables:this.$(".lrn_draggable").get(),copy:this.displayLogic.duplicateResponses,origin:this.$(".lrn_possibilityList")[0],maxItems:1,groupingResponses:this.model.usingPossibleGroupingResponses(),swapInlineAndBlock:!0}),P.a.listenToDragDrop.call(this)),this.positionResponses(),this},getResponseInputHTML:function getResponseInputHTML(t,i){var n={inputId:t};p.a.extend(n,this.displayLogic),n.ariaLabel=this.getImageClozeAriaLabelFor(t),n.responseContainer=this.getResponseContainerFor(t);var a=this.clozeAssociationQuestionTemplate({displayLogic:n,pointerVars:i});return this.replaceBlockWithInline(a)},replaceBlockWithInline:function replaceBlockWithInline(t){return t&&p.a.each(B,(function(i){t=t.replace(new RegExp("<".concat(i,">"),"gi"),'<span class="lrn-block">').replace(new RegExp("</".concat(i,">"),"gi"),"</span>")})),t},getExtraContentHTML:function getExtraContentHTML(){return this.clozeAssociationPossibilitiesTemplate({displayLogic:this.displayLogic})},showValidationUI:function showValidationUI(){var t=this,i=h.a.prototype.showValidationUI.call(this);!this.readOnly&&this.dragDrop&&this.dragDrop.clear(),t.$(".lrn_response_container").each((function(n){var a=l()(this);if(a.find(".lrn_draggable").length>0&&i&&p.a.isBoolean(i[a.data("inputid")])){var r=i[a.data("inputid")];a.addClass(r?"lrn_correct_marker":"lrn_incorrect_marker").find(".lrn_draggable").addClass(r?"lrn_correct":"lrn_incorrect")}else a.hasClass("lrn_incorrect")||a.hasClass("lrn_correct")||a.addClass("lrn_not_attempted_marker");t.displayLogic.displayCorrectAnswer&&a.prepend('<span class="lrn_responseIndex">'+t.getResponseIndexLabel(n)+"</span>")}))},toggleMasking:function toggleMasking(t){h.a.prototype.toggleMasking.call(this,t),t.currentTarget.querySelector("svg")?this.dragDrop.disable(t.currentTarget):t.currentTarget.removeAttribute("disabled")},clearValidationUI:function clearValidationUI(){this.readOnly||(this.clearCorrectAnswers(),this.showingValidationUI&&(this.$(".lrn_correct,.lrn_incorrect,.lrn_correct_marker,.lrn_incorrect_marker,.lrn_not_attempted_marker").removeClass("lrn_correct lrn_incorrect lrn_correct_marker lrn_incorrect_marker lrn_not_attempted_marker"),this.showingValidationUI=!1),h.a.prototype.clearValidationUI.call(this))},updateModel:function updateModel(){p.a.each(this.$(".lrn_response_container"),(function(t){var i=l()(t),n=i.find(".lrn_draggable");n.length?this.responseValue[i.data("inputid")]=this.possibilitiesList[n.attr("data-index")].value:this.responseValue[i.data("inputid")]=null}),this),this.model.updateResponseValue(this.responseValue),this.positionResponses()},getCorrectResponseTextByIndex:function getCorrectResponseTextByIndex(t){return this.model.getCorrectByIndex(t)},setDisabled:function setDisabled(t){this.setButtonsDisabled(t),P.a.setDisabled.call(this,t)},calculateWidestElement:function calculateWidestElement(){var t=this.model.usingPossibleGroupingResponses()?this.model.getPossibleResponseGroupResponses():this.model.getPossibleResponses();if(!t||!t.length)return"";var i,n,a,r=0;return(i=document.createElement("div")).style.visibility="hidden",a=t.map((function(t){var n=document.createElement("span");return n.textContent=t.value,i.appendChild(n),n})),document.body.appendChild(i),a.forEach((function(t){r<t.offsetWidth&&(r=t.offsetWidth,n=t.textContent)})),document.body.removeChild(i),n},onDraggableItemActivated:function onDraggableItemActivated(){this.positionResponses()},onDraggableItemDeactivated:function onDraggableItemDeactivated(){this.positionResponses()},onDraggableItemShadow:function onDraggableItemShadow(){this.positionResponses()},positionResponses:function positionResponses(){this.$(".lrn_imagecloze_response").each(this.positionResponse.bind(this))},positionResponse:function positionResponse(t,i){var n=this.model.get("question"),a=n.response_container||{},r=(n.response_containers||[])[t]||{};if((p.a.exists(r.pointer)?hasHorizontalPointer(r):!!p.a.exists(a.pointer)&&hasHorizontalPointer(a))&&!(p.a.exists(r.height)?hasDefinedHeight(r):!!p.a.exists(a.height)&&hasDefinedHeight(a))){var o=l()(i);Object(D.a)(o,(function(){var t=o.find(".lrn_cloze_response"),i=o.find(".lrn_cloze_response_pointer").innerHeight(),n=-(t.innerHeight()-i/2)/2;t.css({marginTop:n})}))}}}),z=n(733),H=n.n(z),F=n(7),G={preserveWhitespace:!0,allowedTags:["caret"]},$=(F.a.browser,E.a.hasLayout()),W=$&&8===F.a.version,U=h.a.extend({clozeInlineTextQuestionTemplate:H.a,events:{"paste          .lrn_inlinetext_wrapper span.lrn_text_inline":"paste","keydown        .lrn_inlinetext_wrapper span.lrn_text_inline":"keydownHandler","keyup          .lrn_inlinetext_wrapper span.lrn_text_inline":"updateModel","mousedown      .lrn_inlinetext_wrapper span.lrn_text_inline":"checkIsDisabled","focus          .lrn_inlinetext_wrapper span.lrn_text_inline":"clearValidationUI","focusin        .lrn_inlinetext_wrapper span.lrn_text_inline":"wrapperOnFocus","focusout       .lrn_inlinetext_wrapper span.lrn_text_inline":"wrapperOnFocus","mousedown      .lrn_inlinetext_wrapper":"setFocus"},STATE:{INIT:"init",INLINE_BLOCK:"inline-block",INLINE:"inline"},render:function render(){h.a.prototype.render.call(this);var t=this.$(".lrn_inlinetext_wrapper").first().parent(),i=this.getPX(t.css("line-height"));return p.a.each(this.$(".lrn_inlinetext_wrapper"),(function(t){var n=l()(t),a=n.find(".lrn_text_inline"),r=this.getElmFontsize(n[0]),o=this.getResponseContainerFor(a.data("inputid")),c=this.getPX(o.height,r),h=this.getWrapperState(a,n);this.setWrapper(n,h),this.setSpan(a,n,h);var u=this.getWrapperDimensions(n,"height");(!this.readOnly&&this.displayLogic.showCharacterMap&&new v.a(t,this.displayLogic.characterMapCharacters,{characterMapIcon:this.displayLogic.characterMapIcon,characterMapTitle:this.i18n.labels.characterMapTitle},this.$el,{extraClasses:l.a.trim("lrn_clozeinlinetext "+this.model.getFontClass())}),p.a.isUndefined(a.attr("placeholder"))||m.a.polyfillPlaceholder(a[0],t).css("top",this.getOffsetHeight(u)),!0===$)&&(n.on("mousedown",(function(t){a.attr("contenteditable",!0),p.a.delay((function(){if(l()(t.target).hasClass("lrn_inlinetext_wrapper")){var i=document.body.createTextRange();i.moveToElementText(a[0]),i.collapse(!1),i.select()}}),10)})),a.attr("contenteditable",!1).css("display",this.STATE.INLINE).on("focusout",(function(){a.attr("contenteditable",!1)})));i<c&&(i=c)}),this),this},addRenderingLogic:function addRenderingLogic(){var t=this.model.get("question");t.character_map&&(this.displayLogic.showCharacterMap=!0,t.is_math?(this.displayLogic.characterMapCharacters=this.i18n.labels.characterMapMathCharacters,this.displayLogic.characterMapIcon=this.i18n.labels.characterMapMathIcon):(this.displayLogic.characterMapCharacters=this.i18n.labels.characterMapCharacters,this.displayLogic.characterMapIcon=this.i18n.labels.characterMapIcon),p.a.isArray(t.character_map)&&(this.displayLogic.characterMapCharacters=t.character_map)),this.displayLogic.isReviewState=this.activity.get("state")===this.activity.STATE.REVIEW,this.displayLogic.spellCheck=t.spellcheck,this.displayLogic.maxLength=p.a.isNumber(this.model.get("question").max_length)?this.model.get("question").max_length:void 0,this.displayLogic.responseContainer={width:(this.displayLogic.maxLength<8?15*this.displayLogic.maxLength/14:8.6)+"em"},h.a.prototype.addRenderingLogic.call(this)},getResponseInputHTML:function getResponseInputHTML(t){var i={inputId:t};return p.a.extend(i,this.displayLogic),i.responseContainer=this.getResponseContainerFor(t),this.model.hasResponse()&&(i.responseValue=this.model.getResponseValue()[t]),this.clozeInlineTextQuestionTemplate({displayLogic:i})},showValidationUI:function showValidationUI(){var t=h.a.prototype.showValidationUI.call(this),i=this,n=!(!t||!t.length),a=[];this.$(".lrn_inlinetext_wrapper span.lrn_text_inline").each((function(r){var o=l()(this),c=o.parent();o.text().length>0&&n&&p.a.isBoolean(t[o.data("inputid")])?c.addClass(t[o.data("inputid")]?"lrn_correct":"lrn_incorrect"):c.addClass("lrn_not_attempted"),i.displayLogic.displayCorrectAnswer&&c.prepend('<span class="lrn_responseIndex">'+i.getResponseIndexLabel(r)+"</span>"),a.push(c[0])}))},clearValidationUI:function clearValidationUI(t){this.readOnly||(this.showingValidationUI&&(this.displayLogic.displayCorrectAnswer&&this.clearCorrectAnswers(),this.$(".lrn_correct,.lrn_incorrect,.lrn_not_attempted").removeClass("lrn_correct lrn_incorrect lrn_not_attempted"),this.showingValidationUI=!1),h.a.prototype.clearValidationUI.call(this)),t&&this.setCharMapButtonStyle(l()(t.currentTarget),this.STATE.INLINE_BLOCK)},wrapperOnFocus:function wrapperOnFocus(t){var i=l()(t.target);"focusin"===t.type?i.parent().addClass("lrn_focus"):"focusout"===t.type&&i.parent().removeClass("lrn_focus")},setFocus:function setFocus(t){p.a.delay((function(){var i=l()(".lrn_text_inline",l()(t.target));if(i.length)if(i[0].focus(),window.getSelection){var n=document.createRange();n.selectNodeContents(i[0]),n.collapse(!1);var a=window.getSelection();a.removeAllRanges(),a.addRange(n)}else if(document.selection){var r=document.body.createTextRange();r.moveToElementText(i[0]),r.collapse(!1),r.select()}}),10)},checkIsDisabled:function checkIsDisabled(t){this.displayLogic.readOnly&&t.preventDefault()},paste:function paste(t){var i=this,n=l()(t.currentTarget);p.a.defer((function(){var t,a;if(window.getSelection){t=window.getSelection().getRangeAt(0),(a=document.createElement("caret")).innerHTML="-",t.insertNode(a),n.html(i.cleanHTML(n.html())),a=document.getElementsByTagName("caret")[0],(t=window.getSelection().rangeCount>0?window.getSelection().getRangeAt(0):document.createRange()).setStartBefore(a),t.setEndBefore(a);var r=window.getSelection();r.rangeCount>0&&r.removeAllRanges(),r.addRange(t),a.parentNode.removeChild(a)}else if(document.selection){(t=document.selection.createRange()).pasteHTML("<span id=lrneditorcaret>-</span>");var o=n.html();o=o.replace(/<span id=lrneditorcaret>-<\/span>/i,"<caret>-</caret>"),o=(o=i.cleanHTML(o)).replace(/<caret>-<\/caret>/i,"<span id=lrneditorcaret>-</span>"),n.html(o),a=document.getElementById("lrneditorcaret"),(t=document.selection.createRange()).moveToElementText(a),t.select(),a.parentNode.removeChild(a)}else n.html(i.cleanHTML(n.html()))}),1)},keydownHandler:function keydownHandler(t){var i=l()(t.currentTarget),n=i.parent(),a=i.data("maxlength"),r=t.keyCode;if(13!==r)if(1===this.getTextLength(i.text())&&8===r&&this.setSpan(i,n,this.STATE.INLINE_BLOCK),p.a.isNumber(a)){if(this.getTextLength(i.text())<a||8===r||9===r||r>=35&&r<=40)return;t.preventDefault()}else;else t.preventDefault()},updateModel:function updateModel(t){var i=l()(t.currentTarget),n=i.data("inputid"),a=i.data("maxlength"),r=i.parent(),o=this.getWrapperDimensions(r,"width"),c=this.getResponseContainerFor(n),h=this.getElmFontsize(r[0]),u=this.getPX(c.width,h);p.a.isNumber(a)&&this.getTextLength(i.text())>a&&i.text(i.text().substr(0,a)),o>u&&r.css("display")!==this.STATE.INLINE?(this.setSpan(i,r,this.STATE.INLINE),this.setWrapper(r,this.STATE.INLINE),this.setCharMapButtonStyle(i,this.STATE.INLINE_BLOCK)):o<=u&&r.css("display")!==this.STATE.INLINE_BLOCK&&(this.setSpan(i,r,this.STATE.INLINE_BLOCK),this.setWrapper(r,this.STATE.INLINE_BLOCK),this.setCharMapButtonStyle(i,this.STATE.INLINE)),0===this.getTextLength(i.text())&&this.setSpan(i,r,this.STATE.INLINE_BLOCK),this.responseValue[n]=this.trimZeroWidthSpace(p.a.trim(i.text())),this.model.updateResponseValue(this.responseValue)},cleanHTML:function cleanHTML(t){return T.a.sanitizeHTML(t,G)},setWrapper:function setWrapper(t,i){var n=this.getWrapperDimensions(t,"width"),a=this.getElmFontsize(t[0]);switch(i){case this.STATE.INIT:case this.STATE.INLINE_BLOCK:var r=n>this.getPX(t.css("min-width"),a)?"lrn_inlinetext_inline":"lrn_inlinetext_block";t.addClass(r)}},setSpan:function setSpan(t,i,n){switch(n){case this.STATE.INLINE:new RegExp("​$").test(t.text())||!0!==this.displayLogic.showCharacterMap||t.append("​")}},getTextLength:function getTextLength(t){return this.trimZeroWidthSpace(t).length},trimZeroWidthSpace:function trimZeroWidthSpace(t){return t.replace(new RegExp("​","g"),"")},getOffsetHeight:function getOffsetHeight(t){return Math.ceil((t-24)/2)},setCharMapButtonStyle:function setCharMapButtonStyle(t,i){t.siblings(".lrn_charactermapbutton").css("display",i)},getPX:function getPX(t,i){if(p.a.isUndefined(t))return 0;var n=t.length,a=t.substr(0,n-2);return"em"===t.substr(n-2)?Math.ceil(parseFloat(a)*i):parseInt(a,10)},getElmFontsize:function getElmFontsize(t){var i;return i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,this.getPX(i.fontSize||"14px")},getWrapperDimensions:function getWrapperDimensions(t,i){var n=W?t.width():t.outerWidth(),a=this.getPX(t[0].style.height||t.css("height"))||24;return"width"===i?n:"height"===i?a:{width:n,height:a}},getWrapperState:function getWrapperState(t,i){var n=this.getWrapperDimensions(i,"width"),a=this.getResponseContainerFor(t.data("inputid")),r=this.getElmFontsize(t[0]),o=this.getPX(a.width,r);return 0===this.getTextLength(t.text())?this.STATE.INIT:n>o?this.STATE.INLINE:n<=o?this.STATE.INLINE_BLOCK:void 0},getCorrectResponseTextByIndex:function getCorrectResponseTextByIndex(t){return this.model.getCorrectByIndex(t)},setDisabled:function setDisabled(t){this.$(".lrn_text_inline").prop("contenteditable",!t).attr("aria-disabled",t),this.setEventsDisabled(t),this.setButtonsDisabled(t)}});i.default={Model:r.a,getViewFor:function getViewFor(t){return t.type===r.a.prototype.TYPE.IMAGECLOZETEXT?I:t.type===r.a.prototype.TYPE.IMAGECLOZEASSOCIATION?k:t.type===r.a.prototype.TYPE.CLOZEINLINETEXT?U:void 0}}},204:function(t,i,n){(function(i){t.exports=function e(t,i,n){function s(r,o){if(!i[r]){if(!t[r]){if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[r]={exports:{}};t[r][0].call(c.exports,(function(i){var n=t[r][1][i];return s(n||i)}),c,c.exports,e,t,i,n)}return i[r].exports}for(var a=!1,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t,i,n){"use strict";var a={};function lookupClass(t){var i=a[t];return i?i.lastIndex=0:a[t]=i=new RegExp("(?:^|\\s)"+t+"(?:\\s|$)","g"),i}i.exports={add:function addClass(t,i){var n=t.className;n.length?lookupClass(i).test(n)||(t.className+=" "+i):t.className=i},rm:function rmClass(t,i){t.className=t.className.replace(lookupClass(i)," ").trim()}}},{}],2:[function(t,n,a){(function(i){"use strict";var a=t("contra/emitter"),r=t("crossvent"),o=t("./classes"),l=document,c=l.documentElement,p=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,h="onpropertychange"in document&&!!window.matchMedia,u=!!window.MSInputMethodContext&&!!document.documentMode;function touchy(t,n,a,o){i.navigator.pointerEnabled?r[n](t,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[a],o):i.navigator.msPointerEnabled?r[n](t,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[a],o):(r[n](t,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[a],o),r[n](t,a,o))}function whichMouseButton(t){if(void 0!==t.touches)return t.touches.length;if(void 0!==t.which&&0!==t.which)return t.which;if(void 0!==t.buttons)return t.buttons;var i=t.button;return void 0!==i?1&i?1:2&i?3:4&i?2:0:void 0}function getOffset(t){var i=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{top:n.top-i.top,left:n.left-i.left}}function getElementBehindPoint(t,i,n){return l.elementFromPoint(i,n)}function never(){return!1}function always(){return!0}function getRectWidth(t){return t.width||t.right-t.left}function getRectHeight(t){return t.height||t.bottom-t.top}function getParent(t){return t.parentNode===l?null:t.parentNode}function isInput(t){return t&&("INPUT"===t.tagName||"TEXTAREA"===t.tagName||"SELECT"===t.tagName||function isEditable(t){return!!t&&"false"!==t.contentEditable&&("true"===t.contentEditable||isEditable(getParent(t)))}(t))}function nextEl(t){return t.nextElementSibling||function manually(){var i=t;do{i=i.nextSibling}while(i&&1!==i.nodeType);return i}()}function getCoord(t,i){var n=function getEventHost(t){return t.targetTouches&&t.targetTouches.length?t.targetTouches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t}(i),a={pageX:"clientX",pageY:"clientY"};return t in a&&!(t in n)&&a[t]in n&&(t=a[t]),n[t]}h&&(getElementBehindPoint=function(t,i,n){var a,r=t||{},o=r.className;return r.className+=" gu-hide",a=l.elementFromPoint(i,n),r.className=o,a}),n.exports=function dragula(t,i){var n,h,d,g,f,v,m,E,b,y,T,I=arguments.length;1===I&&!1===Array.isArray(t)&&(i=t,t=[]);var C,L=null,A=null,w=null,D=i||{};void 0===D.moves&&(D.moves=always),void 0===D.accepts&&(D.accepts=always),void 0===D.invalid&&(D.invalid=invalidTarget),void 0===D.containers&&(D.containers=t||[]),void 0===D.isContainer&&(D.isContainer=never),void 0===D.copy&&(D.copy=!1),void 0===D.copySortSource&&(D.copySortSource=!1),void 0===D.revertOnSpill&&(D.revertOnSpill=!1),void 0===D.removeOnSpill&&(D.removeOnSpill=!1),void 0===D.direction&&(D.direction="vertical"),void 0===D.ignoreInputTextSelection&&(D.ignoreInputTextSelection=!0),void 0===D.mirrorContainer&&(D.mirrorContainer=l.body);var x=a({containers:D.containers,start:manualStart,end:end,cancel:cancel,remove:remove,destroy:destroy,canMove:canMove,dragging:!1});return!0===D.removeOnSpill&&x.on("over",spillOver).on("out",spillOut),events(),x;function isContainer(t){return-1!==x.containers.indexOf(t)||D.isContainer(t)}function events(t){var i=t?"remove":"add";touchy(D.mirrorContainer,i,"mousedown",grab),touchy(window,i,"mouseup",release)}function eventualMovements(t){touchy(c,t?"remove":"add","mousemove",startBecauseMouseMoved)}function movements(t){var i=t?"remove":"add";r[i](c,"selectstart",preventGrabbed),r[i](c,"click",preventGrabbed)}function destroy(){events(!0),release({})}function preventGrabbed(t){C&&t.preventDefault()}function grab(t){if(v=t.clientX,m=t.clientY,1===whichMouseButton(t)&&!t.metaKey&&!t.ctrlKey){var i=t.target,n=canStart(i);if(n){C=n;var a=getOffset(n.item);g=getCoord("pageX",t)-a.left,f=getCoord("pageY",t)-a.top,eventualMovements(),"mousedown"===t.type&&(isInput(i)?i.focus():t.preventDefault()),t.stopPropagation(),"touchstart"===t.type&&t.preventDefault()}}}function startBecauseMouseMoved(t){if(C)if(0!==whichMouseButton(t)){if(void 0===t.clientX||t.clientX!==v||void 0===t.clientY||t.clientY!==m){if(D.ignoreInputTextSelection){var i=getCoord("clientX",t),n=getCoord("clientY",t);if(isInput(l.elementFromPoint(i,n)))return}var a=C;for(eventualMovements(!0),movements(),end(),start(a),A=d;A&&"none"===window.getComputedStyle(A).getPropertyValue("transform");)A=A.parentElement;A&&(w=D.transformMatrix.getInverseMatrix(A,{removeTranslation:!0})),o.add(y||d,"gu-transit"),renderMirrorImage(),drag(t)}}else release({})}function canStart(t){if(!(x.dragging&&n||isContainer(t))){for(var i=t;getParent(t)&&!1===isContainer(getParent(t));){if(D.invalid(t,i))return;if(!(t=getParent(t)))return}var a=getParent(t);if(a&&!D.invalid(t,i)&&D.moves(t,a,i,nextEl(t)))return{item:t,source:a}}}function canMove(t){return!!canStart(t)}function manualStart(t){var i=canStart(t);i&&start(i)}function start(t){isCopy(t.item,t.source)&&(y=t.item.cloneNode(!0),x.emit("cloned",y,t.item,"copy")),h=t.source,d=t.item,E=b=nextEl(t.item),x.dragging=!0,x.emit("drag",d,h)}function invalidTarget(){return!1}function end(){if(x.dragging){var t=y||d;drop(t,getParent(t))}}function ungrab(){C=!1,eventualMovements(!0),movements(!0)}function release(t){if(ungrab(),x.dragging){var i=y||d,a=getCoord("clientX",t),r=getCoord("clientY",t),o=findDropTarget(getElementBehindPoint(n,a,r),a,r);o&&(y&&D.copySortSource||!y||o!==h)?drop(i,o):D.removeOnSpill?remove():cancel()}}function drop(t,i){var n=getParent(t);y&&D.copySortSource&&i===h&&n.removeChild(d),isInitialPlacement(i)?x.emit("cancel",t,h,h):x.emit("drop",t,i,h,b),cleanup()}function remove(){if(x.dragging){var t=y||d,i=getParent(t);i&&i.removeChild(t),x.emit(y?"cancel":"remove",t,i,h),cleanup()}}function cancel(t){if(x.dragging){var i=arguments.length>0?t:D.revertOnSpill,n=y||d,a=getParent(d),r=isInitialPlacement(a);!1===r&&i&&(y?y.parentNode&&y.parentNode.removeChild(y):h.insertBefore(n,h.contains(E)?E:null)),r||i?x.emit("cancel",n,h,h):x.emit("drop",n,a,h,b),cleanup()}}function cleanup(){var t=y||d;ungrab(),removeMirrorImage(),t&&o.rm(t,"gu-transit"),T&&clearTimeout(T),x.dragging=!1,L&&x.emit("out",t,L,h),x.emit("dragend",t),h=d=y=E=b=T=L=null,A=null,w=null}function isInitialPlacement(t,i){var a;return a=void 0!==i?i:n?b:nextEl(y||d),t===h&&a===E}function findDropTarget(t,i,n){for(var a=t;a&&!accepted();)a=getParent(a);return a;function accepted(){if(!1===isContainer(a))return!1;var r=getImmediateChild(a,t),o=getReference(a,r,i,n);return!!isInitialPlacement(a,o)||D.accepts(d,a,h,o)}}function drag(t){if(n){t.preventDefault();var i=getCoord("clientX",t),a=getCoord("clientY",t),r=i-g,o=a-f;if(A&&!u){var l=A.getBoundingClientRect();r=r-l.left-l.width/2,o=o-l.top-l.height/2;var c=D.transformMatrix.transformPoint({x:r,y:o},w);r=c.x+A.scrollLeft+A.offsetWidth/2,o=c.y+A.scrollTop+A.offsetHeight/2}requestAnimationFrame((function(){if(n&&(n.style.left=r+"px",n.style.top=o+"px",p&&!A)){var t=n.getBoundingClientRect();(t.top<o-2||t.top>o+2||t.left<r-2||t.left>r+2)&&(r+=r-t.left,o+=o-t.top,n.style.left=r+"px",n.style.top=o+"px")}}));var v=y||d,m=getElementBehindPoint(n,i,a),T=findDropTarget(m,i,a);x.emit("move",v,{clientX:i,clientY:a,pageX:getCoord("pageX",t),pageY:getCoord("pageY",t)},m);var I=null!==T&&T!==L;(I||null===T)&&(function out(){L&&moved("out")}(),L=T,function over(){I&&moved("over")}());var C=getParent(v);if(T!==h||!y||D.copySortSource){var M;if(null!==getImmediateChild(T,m))M=getShadowReference(T,v,I,i,a);else{if(!0!==D.revertOnSpill||y)return void(y&&C&&C.removeChild(v));M=E,T=h}(null===M&&I||M!==v&&M!==nextEl(v))&&(b=M,T.insertBefore(v,M),x.emit("shadow",v,T,h))}else C&&C.removeChild(v)}function moved(t){x.emit(t,v,L,h)}}function spillOver(t){o.rm(t,"gu-hide")}function spillOut(t){x.dragging&&o.add(t,"gu-hide")}function renderMirrorImage(){n||(d.getBoundingClientRect(),(n=d.cloneNode(!0)).style.width=d.offsetWidth+"px",n.style.height=d.offsetHeight+"px",o.rm(n,"gu-transit"),o.add(n,"gu-mirror"),D.mirrorContainer.appendChild(n),touchy(c,"add","mousemove",drag),o.add(D.mirrorContainer,"gu-unselectable"),x.emit("cloned",n,d,"mirror"))}function removeMirrorImage(){n&&(o.rm(D.mirrorContainer,"gu-unselectable"),touchy(c,"remove","mousemove",drag),getParent(n).removeChild(n),n=null)}function getImmediateChild(t,i){for(var n=i;n!==t&&getParent(n)!==t;)n=getParent(n);return n===c?null:n}function getShadowReference(t,i,n,a,r){var o,l,c,p,h,u,d,g,f,v=t.children.length;for(o=0;o<v;o++)if(p=(c=t.children[o]).getBoundingClientRect(),h=c.getClientRects(),f=c,u=i.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_FOLLOWING,inRect(a,r,p)&&(d=h[0],g=void 0,g=i.getBoundingClientRect(),a<d.left+g.width&&r<d.top+g.height))for(l=0;l<h.length;l++)if(inRect(a,r,h[l]))return resolve(c,u);return n?null:nextEl(i);function resolve(t,i){return i?nextEl(t):t}function inRect(t,i,n){return t>n.left&&t<n.right&&i>n.top&&i<n.bottom}}function getReference(t,i,n,a){var r="horizontal"===D.direction;return i!==t?function inside(){var t=i.getBoundingClientRect();return resolve(r?n>t.left+getRectWidth(t)/2:a>t.top+getRectHeight(t)/2)}():function outside(){var i,o,l,c=t.children.length;for(i=0;i<c;i++){if(o=t.children[i],l=o.getBoundingClientRect(),r&&l.left+l.width/2>n)return o;if(!r&&l.top+l.height/2>a)return o}return null}();function resolve(t){return t?nextEl(i):i}}function isCopy(t,i){return"boolean"==typeof D.copy?D.copy:D.copy(t,i)}}}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./classes":1,"contra/emitter":4,crossvent:8}],3:[function(t,i,n){"use strict";var a=t("ticky");i.exports=function debounce(t,i,n){t&&a((function run(){t.apply(n||null,i||[])}))}},{ticky:6}],4:[function(t,i,n){"use strict";var a=t("atoa"),r=t("./debounce");i.exports=function emitter(t,i){var n=i||{},o={};return void 0===t&&(t={}),t.on=function(i,n){return o[i]?o[i].push(n):o[i]=[n],t},t.once=function(i,n){return n._once=!0,t.on(i,n),t},t.off=function(i,n){var a=arguments.length;if(1===a)delete o[i];else if(0===a)o={};else{var r=o[i];if(!r)return t;r.splice(r.indexOf(n),1)}return t},t.emit=function(){var i=a(arguments);return t.emitterSnapshot(i.shift()).apply(this,i)},t.emitterSnapshot=function(i){var l=(o[i]||[]).slice(0);return function(){var o=a(arguments),c=this||t;if("error"===i&&!1!==n.throws&&!l.length)throw 1===o.length?o[0]:o;return l.forEach((function emitter(a){n.async?r(a,o,c):a.apply(c,o),a._once&&t.off(i,a)})),t}},t}},{"./debounce":3,atoa:5}],5:[function(t,i,n){i.exports=function atoa(t,i){return Array.prototype.slice.call(t,i)}},{}],6:[function(t,i,n){var a;a="function"==typeof setImmediate?function(t){setImmediate(t)}:function(t){setTimeout(t,0)},i.exports=a},{}],7:[function(t,n,a){(function(t){var i=t.CustomEvent;n.exports=function useNative(){try{var t=new i("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?i:"function"==typeof document.createEvent?function CustomEvent(t,i){var n=document.createEvent("CustomEvent");return i?n.initCustomEvent(t,i.bubbles,i.cancelable,i.detail):n.initCustomEvent(t,!1,!1,void 0),n}:function CustomEvent(t,i){var n=document.createEventObject();return n.type=t,i?(n.bubbles=Boolean(i.bubbles),n.cancelable=Boolean(i.cancelable),n.detail=i.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(t,n,a){(function(i){"use strict";var a=t("custom-event"),r=t("./eventmap"),o=i.document,l=function addEventEasy(t,i,n,a){return t.addEventListener(i,n,a)},c=function removeEventEasy(t,i,n,a){return t.removeEventListener(i,n,a)},p=[];function unwrap(t,i,n){var a=function find(t,i,n){var a,r;for(a=0;a<p.length;a++)if((r=p[a]).element===t&&r.type===i&&r.fn===n)return a}(t,i,n);if(a){var r=p[a].wrapper;return p.splice(a,1),r}}i.addEventListener||(l=function addEventHard(t,n,a){return t.attachEvent("on"+n,function wrap(t,n,a){var r=unwrap(t,n,a)||function wrapperFactory(t,n,a){return function wrapper(n){var r=n||i.event;r.target=r.target||r.srcElement,r.preventDefault=r.preventDefault||function preventDefault(){r.returnValue=!1},r.stopPropagation=r.stopPropagation||function stopPropagation(){r.cancelBubble=!0},r.which=r.which||r.keyCode,a.call(t,r)}}(t,0,a);return p.push({wrapper:r,element:t,type:n,fn:a}),r}(t,n,a))},c=function removeEventHard(t,i,n){var a=unwrap(t,i,n);if(a)return t.detachEvent("on"+i,a)}),n.exports={add:l,remove:c,fabricate:function fabricateEvent(t,i,n){var l=-1===r.indexOf(i)?function makeCustomEvent(){return new a(i,{detail:n})}():function makeClassicEvent(){var t;return o.createEvent?(t=o.createEvent("Event")).initEvent(i,!0,!0):o.createEventObject&&(t=o.createEventObject()),t}();t.dispatchEvent?t.dispatchEvent(l):t.fireEvent("on"+i,l)}}}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":9,"custom-event":7}],9:[function(t,n,a){(function(t){"use strict";var i=[],a="",r=/^on/;for(a in t)r.test(a)&&i.push(a.slice(2));n.exports=i}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[2])(2)}).call(this,n(37))},208:function(t,i,n){"use strict";var a=n(0),r=n.n(a),o=n(5),l=n.n(o),c=n(1),p=n.n(c),h=n(204),u=n.n(h);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,i){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(t,i)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,a=new Array(i);n<i;n++)a[n]=t[n];return a}function Behaviour(t){r()(this).extend(t),this.initialize()}r.a.extend(Behaviour.prototype,l.a.Events,{remove:function remove(){this.stopListening()}}),Behaviour.extend=l.a.Model.extend,Behaviour.Collection=function(t,i){var n=this;this._behaviours={},r.a.each(t,(function(t,a){t.prototype.active.call(i)&&(n._behaviours[a]=new t(i))}))},r.a.extend(Behaviour.Collection.prototype,l.a.Events,{aggregate:function aggregate(t){var i={},n=Array.prototype.slice.call(arguments,1);return r.a.each(this._behaviours,(function(a){r.a.isFunction(a[t])&&r.a.extend(i,a[t].apply(a,n))})),i},prioritise:function prioritise(t,i){var n=this,a=Array.prototype.slice.call(arguments,2),o=this._behaviours[r.a.find(i,(function(i){return n._behaviours[i]&&n._behaviours[i][t]}))];return o&&o[t].apply(o,a)},callAll:function callAll(t){var i,n=Array.prototype.slice.call(arguments,1);(i=r()(this._behaviours)).invoke.apply(i,[t].concat(_toConsumableArray(n)))},callIfActive:function callIfActive(t,i){var n=this._behaviours[t],a=Array.prototype.slice.call(arguments,2);if(n&&r.a.isFunction(n[i]))return n[i].apply(n,a)},has:function has(t){return!!this._behaviours[t]}});var d=Behaviour,g=d.extend({active:function active(){var t=this.opts;return r.a.isNumber(t.maxItems)&&t.maxItems>0},initialize:function initialize(){this.handleMaxItems()},handleMaxItems:function handleMaxItems(){var t=this,i=this.pub;this.listenTo(i,i.EVENT.CHANGED,(function(i,n,a){t.shouldRemoveItems(n)&&t.removeOtherItems(i,n,a)}))},draggablesInZone:function draggablesInZone(t){return p()(t).find(this.prv.$draggables).get()},shouldRemoveItems:function shouldRemoveItems(t){var i=this.opts;return this.spacesLeft(t)<0&&(i.enforceMaxItemsInOrigin||!this.isOriginalDragZone(t))},isOriginalDragZone:function isOriginalDragZone(t){return!this.prv.$dropzones.is(t)},spacesLeft:function spacesLeft(t){return this.opts.maxItems-this.draggablesInZone(t).length},removeOtherItems:function removeOtherItems(t,i,n){var a=this,o=this.draggablesInZone(i);r.a.each(o,(function(i,r){i!==t&&o.length>a.opts.maxItems&&(a.moveItemAway(i,n),o.splice(r,1))}))},moveItemAway:function moveItemAway(t,i){var n=this.prv,a=this.prv.behaviours.prioritise("returnItemTo",["duplicateItems","groupingResponses","maxItems"],t,i),r=t.parentElement;a?a.appendChild(t):(this.prv.$draggables=this.prv.$draggables.not(t),r.removeChild(t)),n.trigger(n.EVENT.MOVED_ITEM_AWAY,t,r)},returnItemTo:function returnItemTo(t,i){var n=this.opts;return n.enforceMaxItemsInOrigin?i:n.origin||!1}}),f=d.extend({active:function active(){return this.opts.copy&&this.opts.origin},initialize:function initialize(){this.listenTo(this.prv,this.prv.EVENT.APPENDED_ITEM,this.onAppend)},isInOrigin:function isInOrigin(t){return this.opts.origin.contains(t)},onAppend:function onAppend(t,i){var n=this.prv;i&&(this.removeIfReturnedToOrigin(t,i),n.$draggables=n.$draggables.not(t),i.contains(t)&&(n.$draggables=n.$draggables.add(t)))},removeIfReturnedToOrigin:function removeIfReturnedToOrigin(t,i){this.isInOrigin(i)&&(this.prv.$draggables=this.prv.$draggables.not(t),p()(t).remove())},returnItemTo:function returnItemTo(){return!1}}),v=n(11),m=d.extend({active:function active(){return this.opts.preventMathjaxDuplication},initialize:function initialize(){var t=this.pub;this.listenTo(t,t.EVENT.CLONED,this.onClone)},onClone:function onClone(t){v.a.isInitalised()&&t.querySelector(".MathJax")&&v.a.preventReRender(t)}}),E=n(184);function getDraggableAttributes(t){if(!r.a.exists(t))return{};var i=r.a.chain(t.attributes).pick("aria-disabled","aria-label","aria-pressed","data-index","data-key","data-response-index").mapObject((function(t,i){return r.a.exists(t.value)?t.value:null})).mapObject((function(t,i){return"true"===t||"false"!==t&&t})).mapObject((function(t,i){return"data-index"===i||"data-response-index"===i?parseInt(t):t})).value();return{ariaDisabled:i["aria-disabled"],ariaLabel:i["aria-label"],ariaPressed:i["aria-pressed"],index:i["data-index"],key:i["data-key"],responseIndex:i["data-response-index"]}}function getContainerIndex(t){var i=p()(t).closest(".lrn_dropzone");return i.length?parseInt(i.data("index")):-1}var b=d.extend({EVENT:{MOVE_FOCUS_WITH_ARROW_KEY:"move-focus-with-arrow-key"},NAMESPACES:{INTERACTION:".interaction",ACTIVE:".active"},KEYS:{TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},IGNORE_SELECTORS:".lrn_widget.lrn_feature:not(.lrn_scrollablepassage)",DRAG_ABORT_WINDOW:200,activeItem:null,active:function active(){return this.opts.keyboardAndClickInteraction},initialize:function initialize(){var t=this.prv;this.draggableClass=r.a.uniqueId("lrn-dragdrop-group-"),this.listenToOnce(t,t.EVENT.INITIALIZED,this.onDragdropInitialized)},onDragdropInitialized:function onDragdropInitialized(){var t=this.pub;this.setupDraggables(),this.setupInteraction(),this.activateAfterShortDrag(),this.listenTo(t,t.EVENT.ACTIVATED_ITEM,this.onItemActivation),this.listenTo(t,t.EVENT.DEACTIVATED_ITEM,this.onItemDeactivation),this.listenTo(t,t.EVENT.SET_DISABLED,this.onSetDisabled),this.listenTo(t,t.EVENT.CHANGED,this.onChange),this.listenTo(t,t.EVENT.CLEAR,this.deactivateActiveItem),this.listenTo(t,t.EVENT.CLONED,this.onClone),this.listenTo(t,t.EVENT.AUTO_MOVE,this.autoMove),this.listenTo(t,t.EVENT.CHANGE_DRAGGABLES,this.setupDraggables),this.on(this.EVENT.MOVE_FOCUS_WITH_ARROW_KEY,this.onMoveFocusWithArrowKey)},onChange:function onChange(t){var i=this.prv;this.isKeyboard&&(i.$origin.find(i.$draggables.get()).get(0)||t).focus()},onClone:function onClone(t,i,n){"copy"===n&&p()(i).data("clone",t)},namespace:function namespace(t,i){return t.replace(/\s/g,"."+i+" ")},activateAfterShortDrag:function activateAfterShortDrag(){var t,i=this.pub,n={};function isShortAbortedDrag(t,i,a){return i===a&&n.source===a&&n.start+this.DRAG_ABORT_WINDOW>Date.now()}this.listenTo(i,i.EVENT.DRAG_START,(function(i,a){n.activeItem=this.activeItem,n.start=Date.now(),n.source=a,n.el=i,t=!1})),this.listenTo(i,i.EVENT.DRAG_CANCEL,(function(){isShortAbortedDrag.apply(this,arguments)&&(t=!0)})),this.listenTo(i,i.EVENT.DRAG_END,(function(){t&&(n.activeItem&&n.activeItem!==this.activeItem&&this.activateItem(n.activeItem),this.hitItem(n.el))}))},setupDraggables:function setupDraggables(){this.prv.$draggables.addClass(this.draggableClass).attr("tabindex",0)},autoMove:function autoMove(t,i,n){var a=this.prv,r=t&&t.parentNode;a.canAccept(t,i,r)&&(this.activateItem(t),this.appendActiveToZone(i),n&&this.activateItem(t))},setupInteraction:function setupInteraction(){var t=this.prv,i=this.pub,n=i.uid+this.NAMESPACES.INTERACTION,a=this.namespace("keydown ",n),r=this.namespace("keyup ",n),o=this.namespace("focus ",n);t.$container.on(a,this.onContainerKeyDown.bind(this)).on(r,this.onContainerKeyUp.bind(this)).on(o,".".concat(i.CLASS.ACTIVE),this.onContainerFocus.bind(this)),t.$draggables.addClass(this.draggableClass),E.a.startListening(),this.listenTo(E.a,E.a.EVENTS.CLICK_OR_TAP,this.onActivateElement)},onContainerFocus:function onContainerFocus(){this.keyFocusDirection&&(this.moveFocus(this.keyFocusDirection),this.keyFocusDirection=!1)},onContainerKeyDown:function onContainerKeyDown(t){var i=this.isArrowKeyEvent(t);i&&(this.keyFocusDirection=this.getKeyFocusDirection(t)),(i||this.isSpacebarKeyEvent(t))&&t.preventDefault()},onContainerKeyUp:function onContainerKeyUp(t){this.isToggleKeyEvent(t)?(this.isKeyboard=!0,this.onActivateElement(t.target),this.isKeyboard=!1):this.isArrowKeyEvent(t)?(t.stopPropagation(),this.trigger(this.EVENT.MOVE_FOCUS_WITH_ARROW_KEY,this.getKeyFocusDirection(t))):this.isEscapeKeyEvent(t)&&this.deactivateActiveItem()},onActivateElement:function onActivateElement(t){var i=this.prv,n=p()(t);if(!(i.isDragging()||n.closest(this.IGNORE_SELECTORS).length>0)){var a=n.closest(i.$draggables);a.length>0?this.hitItem(a.get(0)):i.$zones.is(t)&&this.hitZone(t),i.$origin.is(t)&&this.hitOrigin(t)}},onMoveFocusWithArrowKey:function onMoveFocusWithArrowKey(t){var i=this.prv.behaviours,n=this.activeItem;i.has("list")&&document.activeElement===n?(this.keyFocusDirection=!1,i.callIfActive("list","moveActive",n,this.getNextByDir(t,n)[0])):this.moveFocus(t)},remove:function remove(){var t=this.prv;this.deactivateActiveItem(),this.stopListening(),this.off(),t.$container.add(t.$origin).off("."+this.pub.uid).find("."+this.draggableClass).removeClass(this.draggableClass),this.lastHitItem=null},onItemActivation:function onItemActivation(t){this.deactivateActiveItem(),t.focus(),this.applyTabindex(t),this.listenForDomEvents()},onItemDeactivation:function onItemDeactivation(t){var i=this.prv,n=this.pub,a=p()(t);i.$zones.removeAttr("tabindex"),i.$origin.removeAttr("tabindex"),a.data("clone")&&(a=a.add(a.data("clone")).removeData("clone")),a.removeClass(n.CLASS.ACTIVE),p()(document).add(this.opts.zones).add(this.opts.origin).off("."+n.uid+this.NAMESPACES.ACTIVE)},onSetDisabled:function onSetDisabled(t,i){t&&(i?this.deactivateItem(i):this.deactivateActiveItem())},applyTabindex:function applyTabindex(t){var i=this.prv,n=this.opts,a=i.$origin;a.is(n.zones)||i.behaviours.has("groupingResponses")?(i.$dropzones.filter(":empty, .lrn-dragdrop-empty").attr("tabindex",0),a.find(t).length||a.attr("tabindex",0)):i.$zones.filter(":empty, .lrn-dragdrop-empty").attr("tabindex",0)},listenForDomEvents:function listenForDomEvents(){var t=this,i=this.prv,n=this.pub,a=n.uid+this.NAMESPACES.ACTIVE,r=i.$container.find("."+n.CLASS.IGNORE_TAP);function contains(t,i){return t.is(i)||t.find(i).length>0}i.$zones.add(i.$origin).on(this.namespace("mouseenter ",a),(function(t){i.isDragging()||n.trigger(n.EVENT.OVER_DROP_ZONE,t.currentTarget)})).on(this.namespace("mouseleave ",a),(function(t){i.isDragging()||n.trigger(n.EVENT.LEFT_DROP_ZONE,t.currentTarget)})),i.$origin.on("focus."+a,(function(t){t.currentTarget.classList.add(n.CLASS.OVER)})).on("blur."+a,(function(t){t.currentTarget.classList.remove(n.CLASS.OVER)})),E.a.startListening(),this.listenToOnce(E.a,E.a.EVENTS.CLICK_OR_TAP,(function(n){contains(p()(t.lastHitItem),n)||contains(r,n)||contains(i.$zones,n)||t.deactivateActiveItem()}))},hitOrigin:function hitOrigin(){this.prv.trigger(this.prv.EVENT.HIT_ORIGIN,this.activeItem)},hitZone:function hitZone(t){this.appendActiveToZone(t)},appendActiveToZone:function appendActiveToZone(t){var i,n=this.prv,a=this.activeItem,r=a&&a.parentNode;a&&n.canAccept(a,t,r)&&(i=p()(a).data("clone")||a,this.deactivateItem(a,{isBeingAppendedToNewZone:t!==r}),t.contains(a)||(t.appendChild(i),n.triggerAppendEvents(i,t,r)))},hitItem:function hitItem(t){var i=this.prv;this.activeItem?(this.activeItem!==t&&i.behaviours.prioritise("hitSecondItem",["list","keyboardMouseInteraction"],t,this.activeItem),this.deactivateActiveItem()):(this.activateItem(t),this.lastHitItem=t)},hitSecondItem:function hitSecondItem(t){this.appendActiveToZone(t.parentNode)},getKeyFocusDirection:function getKeyFocusDirection(t){var i=this.KEYS;return t.which===i.DOWN||t.which===i.RIGHT?1:t.which===i.UP||t.which===i.LEFT?-1:void 0},moveFocus:function moveFocus(t){this.getNextByDir(t,document.activeElement).focus()},getNextByDir:function getNextByDir(t,i){var n=this.prv.$container.find("[tabindex=0]"),a=n.index(i)+t;return n.eq(a%n.length)},isArrowKeyEvent:function isArrowKeyEvent(t){var i=this.KEYS;return[i.LEFT,i.UP,i.RIGHT,i.DOWN].indexOf(t.which)>=0},isEscapeKeyEvent:function isEscapeKeyEvent(t){return t.which===this.KEYS.ESC},isSpacebarKeyEvent:function isSpacebarKeyEvent(t){return t.which===this.KEYS.SPACE},isToggleKeyEvent:function isToggleKeyEvent(t){return t.which===this.KEYS.ENTER||t.which===this.KEYS.SPACE},isActive:function isActive(t){return t===this.activeItem},activateItem:function activateItem(t){var i=this.pub,n=this.prv;if(this.deactivateActiveItem(),n.drake.canMove(t)){var a=r()(getDraggableAttributes(t)).assign({containerIndex:getContainerIndex(t),isActive:!0});t.classList.add(i.CLASS.ACTIVE),i.trigger(i.EVENT.ACTIVATED_ITEM,t,a),i.trigger(i.EVENT.CLONED,t.cloneNode(!0),t,n.canCopy(t,t.parentNode)?"copy":"invisible"),this.activeItem=t}},deactivateActiveItem:function deactivateActiveItem(){this.activeItem&&this.deactivateItem(this.activeItem)},deactivateItem:function deactivateItem(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isBeingAppendedToNewZone:!1};if(this.activeItem){var n=this.pub,a=r()(getDraggableAttributes(t)).assign({dropzoneIndex:getContainerIndex(t),isActive:!1});a.isBeingAppendedToNewZone=i.isBeingAppendedToNewZone,t.classList.remove(n.CLASS.ACTIVE),n.trigger(n.EVENT.DEACTIVATED_ITEM,t,a),this.activeItem=null}}}),y=d.extend({active:function active(){return this.opts.applyAriaAttributes},initialize:function initialize(){this.listenToOnce(this.prv,this.prv.EVENT.INITIALIZED,this.onDragdropInitialized)},onDragdropInitialized:function onDragdropInitialized(){var t=this.pub;this.prv.$zones;this.setupDraggables(),this.listenTo(t,t.EVENT.ACTIVATED_ITEM,(function(t){t.setAttribute("aria-pressed",!0)})),this.listenTo(t,t.EVENT.DEACTIVATED_ITEM,(function(t){t.setAttribute("aria-pressed",!1)}))},setupDraggables:function setupDraggables(){this.prv.$draggables.attr("aria-pressed",!1)},disabledProps:function disabledProps(t){return{"aria-disabled":t}}}),T=d.extend({active:function active(){return this.opts.applyOverHighlightDropzoneClasses},initialize:function initialize(){var t=this.prv;this.listenToOnce(t,t.EVENT.INITIALIZED,this.onDragdropInitialized),this.opts.origin&&this.listenTo(t,t.EVENT.NOTIFY_CUSTOM_DROP,this.setOriginOver)},onDragdropInitialized:function onDragdropInitialized(){var t=this.pub,i=this.prv,n=i.$dropzones,a=t.CLASS;n.addClass(a.DROPZONE),this.listenTo(t,t.EVENT.ACTIVATED_ITEM,(function(){n.filter((function(t,i){return!i.hasAttribute("disabled")})).addClass(a.HIGHLIGHT)})),this.listenTo(t,t.EVENT.CLONED,(function(t){this.mirror=t})),this.listenTo(t,t.EVENT.DEACTIVATED_ITEM,(function(){i.$zones.removeClass(a.HIGHLIGHT+" "+a.OVER),this.mirror=null})),this.listenTo(t,t.EVENT.OVER_DROP_ZONE,(function(t){t.classList.add(a.OVER)})),this.listenTo(t,t.EVENT.LEFT_DROP_ZONE,(function(t){t.classList.remove(a.OVER)}))},setOriginOver:function setOriginOver(t){this.opts.origin.classList[t?"add":"remove"](this.pub.CLASS.OVER)}}),I=n(145),C={maxItems:g,duplicateItems:f,preventMathjaxDuplication:m,keyboardMouseInteraction:b,ariaAttribute:y,styleHandler:T,scrollable:d.extend({REPEATER_ID:"dragDropScroll",CONSTS:{BUFFER:50,PERIOD:10,DELTA:10},POSSIBLE_OVERFLOWS:["overflow","overflowY"],active:function active(){return this.opts.scrollable},initialize:function initialize(){this.listenToOnce(this.prv,this.prv.EVENT.INITIALIZED,this.onDragdropInitialized)},onDragdropInitialized:function onDragdropInitialized(){var t=this.pub;this.listenTo(t,t.EVENT.ACTIVATED_ITEM,this.onActivatedItem),this.listenTo(t,t.EVENT.MOVED,this.onMoved),this.listenTo(t,t.EVENT.DEACTIVATED_ITEM,this.clearScroll)},isScrollableOverflow:function isScrollableOverflow(t){var i=p()(t),n=!1;return r.a.some(this.POSSIBLE_OVERFLOWS,(function(t){var a=i.css(t);if("scroll"===a||"auto"===a)return n=!0,!0})),n},onActivatedItem:function onActivatedItem(t){var i=this,n=window,a=document.documentElement,r=p()(t).parents().filter((function(t,n){return i.isScrollableOverflow(n)})),o=document.scrollingElement||a;this.scrollableContainers=p.a.merge(r,p()(o)).map((function(t,i){var r=p()(i),l=r.offset(),c={el:i,top:l.top,left:l.left,scrollWidth:i.scrollWidth,scrollHeight:i.scrollHeight};return i===o?(c.isDocumentScrollingElement=!0,c.width=Math.max(a.clientWidth,n.innerWidth||0),c.height=Math.max(a.clientHeight,n.innerHeight||0)):(c.width=r.outerWidth(),c.height=r.outerHeight()),c})).toArray()},onMoved:function onMoved(t,i){var n,a,o=this,l={top:i.pageY,left:i.pageX};r.a.some(this.scrollableContainers,(function(t){if(n=o.getScrollingDirection(t,l,t.isDocumentScrollingElement),!r.a.isNull(n))return a=t.el,!0})),n&&a?this.scroll(a,n):I.a.clear(this.REPEATER_ID)},getScrollingDirection:function getScrollingDirection(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.CONSTS.BUFFER,r=t.height,o=t.scrollHeight,l=t.el,c=l.scrollTop,p=n?c:t.top;return i.top<=p+a&&c>0?"top":i.top>=p+r-a&&c<o-r&&r<o?"bottom":null},scroll:function scroll(t,i){var n=this.CONSTS,a=n.DELTA,r=n.PERIOD;I.a.start(this.REPEATER_ID,(function(){"top"===i?t.scrollTop-=a:"bottom"===i&&(t.scrollTop+=a)}),r)},clearScroll:function clearScroll(){this.scrollableContainers=null,I.a.clear(this.REPEATER_ID)},remove:function remove(){this.stopListening(),this.clearScroll()}}),groupingResponses:d.extend({ATTR:{RESPONSE_GROUP:"data-lrn-response-group"},active:function active(){return this.opts.groupingResponses},initialize:function initialize(){this.listenToOnce(this.prv,this.prv.EVENT.INITIALIZED,this.onDragdropInitialized)},onDragdropInitialized:function onDragdropInitialized(){this.setupDragOverOrigin(),this.listenTo(this.prv,this.prv.EVENT.HIT_ORIGIN,this.hitOrigin)},setupDragOverOrigin:function setupDragOverOrigin(){var t=this.prv,i=this.pub,n=this.opts.origin,a=!1,r=null;this.listenTo(i,i.EVENT.ACTIVATED_ITEM,(function(t){a=n.contains(t),r=t.parentElement})),this.listenTo(i,i.EVENT.MOVED,(function(i,r,o){var l=n.contains(o);l!==a&&(a=l,t.trigger(t.EVENT.NOTIFY_CUSTOM_DROP,a))})),this.listenTo(i,i.EVENT.DEACTIVATED_ITEM,(function(i){a&&this.moveToCorrespondingGroup(i,r),a=!1,r=null,t.trigger(t.EVENT.NOTIFY_CUSTOM_DROP,!1)}))},moveToCorrespondingGroup:function moveToCorrespondingGroup(t,i){var n=this.prv,a=n.$origin,r=this.getResponseGroup(a,t),o=n.behaviours;r&&!r.contains(t)&&(r.appendChild(t),n.triggerAppendEvents(t,r,i),o.prioritise("deactivateItem",["keyboardMouseInteraction","groupingResponses"],t))},deactivateItem:function deactivateItem(t){this.pub.trigger(this.pub.EVENT.DEACTIVATED_ITEM,t)},getResponseGroup:function getResponseGroup(t,i){var n=i.getAttribute(this.ATTR.RESPONSE_GROUP);if(!r.a.isUndefined(n))return t.find("["+this.ATTR.RESPONSE_GROUP+'="'+n+'"]')[0]},returnItemTo:function returnItemTo(t){return this.getResponseGroup(this.prv.$origin,t)},isDroppable:function isDroppable(t,i,n){var a=this.prv.$dropzones,r=this.ATTR.RESPONSE_GROUP;return{allowed:i===n||(!!a.is(i)||p()(t).attr(r)===p()(i).attr(r))}},hitOrigin:function hitOrigin(t){t&&this.moveToCorrespondingGroup(t,t.parentElement)}}),list:d.extend({active:function active(){return this.opts.list},initialize:function initialize(){var t=this.pub;this.listenTo(t,t.EVENT.CLONED,this.onClone)},onClone:function onClone(t,i,n){var a,r=this;"mirror"===n&&(t.classList.remove(this.pub.CLASS.ACTIVE),(a=this.horizontalOffset(i,t))&&requestAnimationFrame((function(){r.replicateOffset(t,a)})))},horizontalOffset:function horizontalOffset(t,i){return p()(t.firstChild).innerHeight()>p()(i.firstChild).innerHeight()&&this.getHorizontalOffset(t)},hitSecondItem:function hitSecondItem(t,i){this.moveActive(i,t)},getHorizontalOffset:function getHorizontalOffset(t){var i=t.offsetParent.getBoundingClientRect();return t.getClientRects()[0].left-i.left},replicateOffset:function replicateOffset(t,i){var n=p()(t),a=n.clone().removeClass("gu-mirror"),r=p()("<span>").css({display:"inline-block",width:i});t.className="gu-mirror",n.empty().removeAttr("data-original-index aria-label aria-pressed tabindex").append(r).append(a)},moveActive:function moveActive(t,i){var n=t.parentNode;this.moveItemBeyondTarget(t,i,n)&&(t.focus(),this.prv.triggerAppendEvents(t,n,n))},moveItemBeyondTarget:function moveItemBeyondTarget(t,i,n){var a=this.getDomOrder(t,i);if(0!==a)return n.insertBefore(t,1===a?i.nextSibling:i),!0},getDomOrder:function getDomOrder(t,i){var n=t.compareDocumentPosition(i),a=0;return n&Node.DOCUMENT_POSITION_FOLLOWING&&(a=1),n&Node.DOCUMENT_POSITION_PRECEDING&&(a=-1),a}}),swapInlineAndBlock:d.extend({active:function active(){return this.opts.swapInlineAndBlock},initialize:function initialize(){var t=this.prv;this.$container=p()(this.opts.container),this.onChanged=r.a.debounce(this.onChanged.bind(this),10),this.listenToOnce(t,t.EVENT.INITIALIZED,this.onDragdropInitialized)},onDragdropInitialized:function onDragdropInitialized(){var t=this.pub;this.listenTo(t,t.EVENT.CHANGED,this.onChanged)},onChanged:function onChanged(t,i){var n,a=this.pub,r=this.opts,o=p()(t);if(i===r.origin&&o.is("span")?n="div":o.is("div")&&(n="span"),n){this.changeElementType(t,n);var l=this.$container.find(".".concat(a.CLASS.ZONE," .").concat(a.CLASS.DRAGGABLE)).get();this.pub.changeDraggables(l)}},changeElementType:function changeElementType(t,i){var n={},a=p()(t);p.a.each(t.attributes,(function(t,i){n[i.nodeName]=i.nodeValue})),a.replaceWith((function(){return p()("<".concat(i,"/>"),n).append(a.contents())}))}})},L=n(228),A=n.n(L),w=n(250),D=n.n(w),x=n(251),M=n.n(x),O=n(156),S=n.n(O),N=A.a.create();function getTransformMatrixString(t){return window.getComputedStyle(t).getPropertyValue("transform")}function strToMatrixArray(t){for(var i=t.replace(/(matrix\()|(\))/,"").split(","),n=0;n<i.length;n++)i[n]=parseFloat(i[n]);return[[i[0],i[2],i[4]],[i[1],i[3],i[5]],[0,0,1]]}N.import(D.a),N.import(M.a),N.import(S.a);var R={getInverseMatrix:function getInverseMatrix(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=getTransformMatrixString(t),a=strToMatrixArray(n);return i.removeTranslation&&(a[0][2]=a[1][2]=0),N.inv(N.matrix(a))},transformPoint:function transformPoint(t,i){var n=function pointToVector(t){var i=t.x,n=t.y;return N.matrix([[i],[n],[1]])}(t),a=N.multiply(i,n);return{x:a.get([0,0]),y:a.get([1,0])}}};function DragDropPrivate(t,i){this.pub=t,this.opts=i}r.a.extend(DragDropPrivate.prototype,l.a.Events,{EVENT:{APPENDED_ITEM:"appended-item",NOTIFY_CUSTOM_DROP:"notify-custom-drop",HIT_ORIGIN:"hit-origin",INITIALIZED:"initialized",MOVED_ITEM_AWAY:"moved-item-away"},MOVE_THROTTLE_TIME:100,initialize:function initialize(){r.a.defaults(this.opts,this.pub.defaults),this.applyBehaviours(),this.jqueryize(),this.applyClasses(),this.dragulize(),this.listenToDragula(),this.listenToInterface(),this.on(this.EVENT.MOVED_ITEM_AWAY,this.onMovedAway),this.trigger(this.EVENT.INITIALIZED)},applyBehaviours:function applyBehaviours(){this.behaviours=new d.Collection(C,{prv:this,pub:this.pub,opts:this.opts})},applyClasses:function applyClasses(){var t=this.pub,i=this.opts;this.$zones.addClass(t.CLASS.ZONE),i.list||i.container.classList.add(this.pub.CLASS.NON_LIST)},jqueryize:function jqueryize(){var t=this.pub;this.$origin=p()(this.opts.origin),this.$zones=p()(this.opts.zones),this.$draggables=p()(this.opts.draggables),this.$dropzones=this.$zones.not(this.$origin).not(this.$origin.find(this.opts.zones)),this.$container=t.$container=p()(this.opts.container)},dragulize:function dragulize(){var t=this,i=this.opts;this.drake=u()(i.zones,{mirrorContainer:i.container,copy:this.canCopy.bind(this),accepts:this.canAccept.bind(this),transformMatrix:R,invalid:function invalid(i){return!t.$draggables.is(i)&&!t.$draggables.find(i).length||i.hasAttribute("disabled")}})},canAccept:function canAccept(t,i,n){return(!i||!i.hasAttribute("disabled"))&&r.a.every(this.behaviours.aggregate("isDroppable",t,i,n))},canCopy:function canCopy(t,i){return!!this.behaviours.callIfActive("duplicateItems","isInOrigin",i)},listenToDragula:function listenToDragula(){var t=this,i=this.pub,n=this.drake,a=!1;n.on("drag",(function(t,n){var a=r()(getDraggableAttributes(t)).assign({isActive:!0,isPointerDragAction:!0,isBeingAppendedToNewZone:!1});i.trigger(i.EVENT.DRAG_START,t,n),i.trigger(i.EVENT.ACTIVATED_ITEM,t,a)})).on("move",r.a.throttle((function handleMove(n,a,r){t.isDragging()&&i.trigger(i.EVENT.MOVED,n,a,r)}),this.MOVE_THROTTLE_TIME)).on("dragend",(function(t){var n=r()(getDraggableAttributes(t)).assign({isActive:!1,isPointerDragAction:!0,isBeingAppendedToNewZone:!1});t&&(t.classList.remove(i.CLASS.DRAG_SHADOW,i.CLASS.DRAG_MIRROR),i.trigger(i.EVENT.DEACTIVATED_ITEM,t,n)),i.trigger(i.EVENT.DRAG_END,t),a=!1})).on("over",(function(t,n){i.trigger(i.EVENT.OVER_DROP_ZONE,n)})).on("out",(function(t,n){i.trigger(i.EVENT.LEFT_DROP_ZONE,n)})).on("drop",(function(i,r,o){a?n.cancel(!0):t.triggerAppendEvents(i,r,o)})).on("cloned",(function(t,n,a){t.classList.add(i.CLASS.DRAG_MIRROR),i.trigger(i.EVENT.CLONED,t,n,a)})).on("cancel",(function(t,n,r){a||i.trigger(i.EVENT.DRAG_CANCEL,t,n,r)})).on("shadow",(function(t,n){t.classList.add(i.CLASS.DRAG_SHADOW),i.trigger(i.EVENT.SHADOW,t,n)})),this.on(this.EVENT.NOTIFY_CUSTOM_DROP,(function(t){a=t}))},listenToInterface:function listenToInterface(){var t=this,i=this.drake,n=this.pub;n.on(n.EVENT.SET_DISABLED,this.setDisabled,this),n.on(n.EVENT.REMOVE,this.remove,this),n.on(n.EVENT.CLEAR,(function(){i.cancel()})),n.on(n.EVENT.CHANGE_DRAGGABLES,(function(i){t.$draggables=p()(i)}))},isDragging:function isDragging(){return this.drake&&this.drake.dragging},triggerAppendEvents:function triggerAppendEvents(t,i,n){var a=this,o=this.pub;this.opts;if(i){this.trigger(this.EVENT.APPENDED_ITEM,t,i);var l=r()(i.childNodes).filter((function(t){return a.$draggables.is(t)})),c={containerIndex:this.$dropzones.index(i),sourceIndex:this.$dropzones.index(n),keys:r()(l).map((function(t){return t.dataset.key}))};o.trigger(o.EVENT.CHANGED,t,i,n,c)}},onMovedAway:function onMovedAway(t,i){var n=this.pub,a=this.$dropzones.index(i);n.trigger(n.EVENT.MOVED_AWAY,t,i,a)},setDisabled:function setDisabled(t,i){var n=!!t||null,a=this.behaviours.aggregate("disabledProps",n),r=i?p()(i):this.$zones.add(this.$draggables);a.disabled=n,r.attr(a)},remove:function remove(){this.behaviours.callAll("remove"),this.drake.destroy(),this.off(),this.pub.off(),this.$container=this.$origin=this.$zones=this.$draggables=this.pub=this.opts=null}});var V=DragDropPrivate;function DragDrop(t){var i=new V(this,t);this.uid=r.a.uniqueId("lrn-dragdrop-"),i.initialize()}r.a.extend(DragDrop.prototype,l.a.Events,{EVENT:{ACTIVATED_ITEM:"activated-item",AUTO_MOVE:"auto-move",CHANGED:"changed",CHANGE_DRAGGABLES:"change-draggables",CLEAR:"clear",CLONING:"cloning",CLONED:"cloned",DEACTIVATED_ITEM:"deactivated-item",DRAG_START:"drag-start",DRAG_CANCEL:"drag-cancel",DRAG_END:"drag-end",OVER_DROP_ZONE:"over-drop-zone",LEFT_DROP_ZONE:"left-drop-zone",MOVED:"moved",MOVED_AWAY:"moved-away",SET_DISABLED:"set-disabled",SHADOW:"shadow",REMOVE:"remove"},CLASS:{ACTIVE:"lrn_active",DRAGGABLE:"lrn_draggable",DRAG_SHADOW:"lrn_drag_shadow",DRAG_MIRROR:"lrn_drag_mirror",DROPPABLE:"lrn_droppable",DROPZONE:"lrn_dropzone",HIGHLIGHT:"lrn_highlight",IGNORE_TAP:"lrn_dragdrop_ignore_tap",NON_LIST:"lrn_non_list",OVER:"lrn_over",ZONE:"lrn_dragdrop"},defaults:{preventMathjaxDuplication:!0,copy:!1,keyboardAndClickInteraction:!0,applyAriaAttributes:!0,applyOverHighlightDropzoneClasses:!0,maxItems:null,enforceMaxItemsInOrigin:!1,scrollable:!0,groupingResponses:!1,list:!1,swapInlineAndBlock:!1},changeDraggables:function changeDraggables(t){this.trigger(this.EVENT.CHANGE_DRAGGABLES,t)},clear:function clear(){this.trigger(this.EVENT.CLEAR)},disable:function disable(t){this.trigger(this.EVENT.SET_DISABLED,!0,t)},enable:function enable(t){this.trigger(this.EVENT.SET_DISABLED,!1,t)},move:function move(t,i,n){this.trigger(this.EVENT.AUTO_MOVE,t,i,n)},remove:function remove(){this.trigger(this.EVENT.REMOVE)}});i.a=DragDrop},380:function(t,i,n){"use strict";var a=n(5),r=n.n(a),o=n(0),l=n.n(o),c=n(1),p=n.n(c),h=n(290),u=n.n(h),d=n(477),g=n.n(d),f=n(130),v=n(24),m="input, textarea, span.lrn_text_inline",E=function init(t,i,n,a,r){var o=this;this.selector=t,this.$selector=p()(t),this.characterMapCharacters=i,this.i18nLabels=n,this.bindedResetUI=l.a.bind(this.resetUI,this),this.container=a,this.options=r||{},this.buttonMap=[],this.appendParent=document.body,p()(m,this.selector).on("focusin blur",this.bindedResetUI),this.options.customCharacterMapButton&&(this.characterMapButton=p()(this.options.customCharacterMapButton),this.characterMapButton.on("click",l.a.bind(this.showCharacterMap,this)),this.characterMapButton.on("keydown",l.a.bind(this.focusCharacterMap,this))),this.fullScreenObserver=f.a.fullScreen.observe((function(t){var i=t||document.body;i!==o.appendParent&&(o.appendParent=i)}))};l.a.extend(E.prototype,r.a.Events,{characterMapBubbleTemplate:u.a,characterMapButtonTemplate:g.a,characterMap:null,showingCharacterMap:!1,characterMapButton:null,showingCharacterMapButton:!1,KEYCODES:{LEFT:37,UP:38,RIGHT:39,DOWN:40,TAB:9,ESC:27,SPACE:32,ENTER:13,SHIFT:16},fadeInCharacterMapButton:function fadeInCharacterMapButton(){this.characterMapButton||(this.characterMapButton=p()(this.characterMapButtonTemplate({characterMapIcon:this.i18nLabels.characterMapIcon})).appendTo(this.selector),this.characterMapButton.on("click",l.a.bind(this.showCharacterMap,this)),this.characterMapButton.on("mousedown",l.a.bind(this.keepFocus,this)),this.characterMapButton.on("keydown",l.a.bind(this.focusCharacterMap,this)),this.characterMapButton.on("blur",this.bindedResetUI),this.characterMapButton.on("focusout",l.a.bind(this.checkIfNeedFadeout,this))),this.showingCharacterMapButton||(p()(m,this.selector).addClass("lrn_mapactive"),this.characterMapButton.fadeToggle(),this.showingCharacterMapButton=!0)},fadeOutCharacterMapButton:function fadeOutCharacterMapButton(){this.showingCharacterMapButton&&(p()(m,this.selector).removeClass("lrn_mapactive"),this.characterMapButton.fadeToggle(),this.showingCharacterMapButton=!1)},fadeOutCharacterMap:function fadeOutCharacterMap(){if(this.showingCharacterMap&&!this.hasFocus()){var t=this;p()(".lrn_characterbutton",this.characterMap).off("mousedown").off("click"),this.checkIfNeedFadeout(),this.characterMap.fadeOut("slow",(function(){t.characterMap.remove(),t.$newWrapper&&t.$newWrapper.remove()})),this.characterMapButton.removeClass("lrn_active"),this.showingCharacterMap=!1}},hasFocus:function hasFocus(){return p()(".lrn_characterbutton:focus",this.characterMap).length>0},focusCharacterMap:function focusCharacterMap(t){t.stopPropagation(),t.keyCode===this.KEYCODES.TAB&&this.showingCharacterMap&&(p()(".lrn_characterbutton",this.characterMap).eq(0).focus(),t.preventDefault())},keepFocus:function keepFocus(t){t.preventDefault()},buttonKeyDown:function buttonKeyDown(t){switch(t.keyCode){case this.KEYCODES.LEFT:case this.KEYCODES.UP:case this.KEYCODES.RIGHT:case this.KEYCODES.DOWN:this.moveFocusInDirection(t);break;case this.KEYCODES.TAB:t.preventDefault(),p()(m,this.selector).focus()}t.keyCode===this.KEYCODES.TAB&&t.shiftKey&&(t.preventDefault(),this.characterMapButton.focus())},moveFocusInDirection:function moveFocusInDirection(t){var i=l.a.findWhere(this.buttonMap,{el:t.currentTarget}),n=l.a.invert(this.KEYCODES)[t.keyCode];i.links[n]&&(p()(i.links[n].el).focus().attr("tabindex",0),p()(i.el).attr("tabindex",-1)),t.preventDefault(),t.stopPropagation()},showCharacterMap:function showCharacterMap(t){if(this.showingCharacterMap)this.fadeOutCharacterMap();else{t.preventDefault(),p()(t.currentTarget).trigger("focus"),this.characterMap=p()(this.characterMapBubbleTemplate({characters:this.characterMapCharacters,labels:this.i18nLabels}));var i=p()(".lrn_characterbutton",this.characterMap);i.add(this.characterMapButton).on("blur",l.a.bind((function(){l.a.defer((function(t){t.fadeOutCharacterMap()}),this)}),this)),i.eq(0).attr("tabindex","0"),i.on("mousedown",l.a.bind(this.keepFocus,this)).on("click",l.a.bind(this.insertCharacter,this)).on("keydown",l.a.bind(this.buttonKeyDown,this));var n=this.characterMapButton.offset();this.characterMapButton.outerWidth();this.$newWrapper=p()("<div>").addClass("lrn lrn_widget lrn_charactermap_wrapper ".concat(this.options.extraClasses||"")).appendTo(this.appendParent),this.characterMap.css("visibility","hidden").appendTo(this.$newWrapper),this.buttonMap=f.a.updateButtonMap(p()(".lrn_characterbutton",this.characterMap));var a=0,r=0,o=this.characterMap.outerWidth(),c=this.characterMap.outerHeight(),h=this.characterMapButton.outerWidth(),u=this.characterMapButton.outerHeight(),d=p()(t.currentTarget).parent().width(),g=parseInt(p()("body").css("margin-left"))+parseInt(p()("body").css("padding-left"));if(void 0!==this.container){var v=this.$newWrapper.offset();a=n.left-v.left,r=n.top-v.top,this.characterMap.addClass(this.determinePositionClasses())}this.characterMap.hasClass("lrn_bubbleBottom")?r+=u:this.characterMap.hasClass("lrn_bubbleTop")?r+=-c:this.characterMap.hasClass("lrn_bubbleRight")?(r+=-c/2,a+=h):this.characterMap.hasClass("lrn_bubbleLeft")&&(r+=-c/2,a-=o),this.characterMap.hasClass("lrn_arrowLeft")?this.options.customCharacterMapButton?a=n.left-g:a-=d-h:this.characterMap.hasClass("lrn_arrowRight")&&(a+=-(o-h)),this.characterMap.css({left:a,top:r}),this.characterMap=this.characterMap.detach(),this.characterMap.appendTo(this.$newWrapper),this.characterMap.css({visibility:"visible",display:"none"}).fadeIn(),this.characterMapButton.addClass("lrn_active"),this.showingCharacterMap=!0}},determinePositionClasses:function determinePositionClasses(){var t,i=this,n={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight},a=this.characterMapButton[0].getBoundingClientRect(),r=[];return Object(v.a)(this.characterMap,(function(){t={width:i.characterMap.width(),height:i.characterMap.height()+50}})),a.top+t.height<n.height?(r.push("lrn_bubbleBottom"),r.push(this.getArrowPosition(n,t,a))):a.top-t.height>20?(r.push("lrn_bubbleTop"),r.push(this.getArrowPosition(n,t,a))):a.right+t.width+20<n.width?r.push("lrn_bubbleRight"):r.push("lrn_bubbleLeft"),r.join(" ")},getArrowPosition:function getArrowPosition(t,i,n){return n.right-i.width>20?"lrn_arrowRight":"lrn_arrowLeft"},insertCharacter:function insertCharacter(t){var i=p()(m,this.selector);(l.a.isUndefined(i.attr("maxlength"))||i.val().length<i.attr("maxlength"))&&(this.insertAtCaret(i[0],p()(t.target).text()),i.trigger("change").trigger("keyup"),this.fadeOutCharacterMap())},insertAtCaret:function insertAtCaret(t,i){if(document.selection)t.focus(),document.selection.createRange().text=i,t.focus();else if(t.selectionStart||0===t.selectionStart){var n=t.selectionStart,a=t.selectionEnd,r=t.scrollTop;t.value=t.value.substring(0,n)+i+t.value.substring(a,t.value.length),t.focus(),t.selectionStart=n+i.length,t.selectionEnd=n+i.length,t.scrollTop=r}else l.a.isUndefined(t.value)?l.a.defer((function(){var n,a,r;if(window.getSelection){var o=(n=window.getSelection().getRangeAt(0)).startOffset,l=n.endOffset;(a=document.createElement("caret")).innerHTML="-",n.insertNode(a),n.insertNode(document.createTextNode(i)),o!==l&&(t.innerHTML=t.innerHTML.substring(0,o+17)+t.innerHTML.substring(l+17)),n=window.getSelection().rangeCount>0?window.getSelection().getRangeAt(0):document.createRange(),a=document.getElementsByTagName("caret")[0],n.setStartBefore(a),n.setEndBefore(a),(r=window.getSelection()).rangeCount>0&&r.removeAllRanges(),r.addRange(n),a.parentNode.removeChild(a)}else t.innerHTML+=i})):t.value+=i,t.focus()},resetUI:function resetUI(t){"focusin"!==t.type||this.options.customCharacterMapButton?"blur"===t.type&&this.checkIfNeedFadeout():this.fadeInCharacterMapButton()},checkIfNeedFadeout:function checkIfNeedFadeout(){l.a.defer(l.a.bind((function(){var t=!!p()(":focus",this.$selector).length,i=!!p()(".lrn_charactermapbutton:focus",this.$selector).length;t||i||this.showingCharacterMap||this.fadeOutCharacterMapButton()}),this))},remove:function remove(){this.characterMapButton&&(this.characterMapButton.off("click"),this.characterMapButton.off("mousedown"),this.characterMapButton.remove()),this.showingCharacterMap&&(p()(".lrn_characterbutton",this.characterMap).off("mousedown"),p()(".lrn_characterbutton",this.characterMap).off("click"),this.characterMap.remove()),p()(m,this.selector).off("focusin focusout",this.bindedResetUI),this.fullScreenObserver&&f.a.fullScreen.unobserve(this.fullScreenObserver)}}),i.a=E},381:function(t,i,n){"use strict";var a=n(1),r=n.n(a);i.a={polyfillPlaceholder:function polyfillPlaceholder(t,i,n){if(t){var a,o=r()(t).val()||r()(t).text(),l=o&&o.length>0;return n&&""!==n||(n=r()(t).attr("placeholder")||""),n?(a=r()("<span />").addClass("lrn_placeholder").text(n),l&&a.hide(),r()(i).addClass("lrn_input_with_placeholder").append(a),a.on("click",(function(){r()(this).hide(),r()(t).focus()})),r()(t).on("focusout focusin keydown keyup",(function(){var t=r()(this).val()||r()(this).text();t&&t.length>0?a.hide():a.show()})),a):void 0}}}},477:function(module,exports,__webpack_require__){var _=__webpack_require__(0);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<button type="button" class="lrn_btn lrn_charactermapbutton" unselectable="on">'+(null==(__t=characterMapIcon)?"":__t)+"</button>";return __p}},478:function(t,i,n){"use strict";i.a={listenToDragDrop:function listenToDragDrop(){var t=arguments,i=this,n=this.dragDrop;this.listenTo(n,n.EVENT.ACTIVATED_ITEM,(function(){setTimeout(this.clearValidationUI.bind(this))})),this.listenTo(n,n.EVENT.CHANGED,this.updateModel),this.listenTo(n,n.EVENT.SHADOW,(function(){i.onDraggableItemShadow&&i.onDraggableItemShadow.apply(i,t)})),this.listenTo(n,n.EVENT.ACTIVATED_ITEM,(function(){i.onDraggableItemActivated&&i.onDraggableItemActivated.apply(i,t)})),this.listenTo(n,n.EVENT.DEACTIVATED_ITEM,(function(){i.onDraggableItemDeactivated&&i.onDraggableItemDeactivated.apply(i,t)}))},setDisabled:function setDisabled(t){t?this.dragDrop.disable():this.dragDrop.enable(),this.setEventsDisabled(t)}}},728:function(module,exports,__webpack_require__){var _=__webpack_require__(0);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",pointerVars.position&&(__p+='<span class="lrn_cloze_response_pointer"><span></span></span>'),__p+='<label class="lrn_textinput '+(null==(__t=pointerVars.position?"lrn_response_pointer lrn_response_pointer_"+pointerVars.position:"")?"":__t)+'" style="'+(null==(__t=pointerVars.top?"top:"+pointerVars.top+";":"")?"":__t)+(null==(__t=pointerVars.right?"right:"+pointerVars.right+";":"")?"":__t)+(null==(__t=pointerVars.bottom?"bottom:"+pointerVars.bottom+";":"")?"":__t)+(null==(__t=pointerVars.left?"left:"+pointerVars.left+";":"")?"":__t)+'"data-lrn-access-review-dest>',displayLogic.ariaLabel&&(__p+='<span class="lrn-accessibility-label-static">'+(null==(__t=displayLogic.ariaLabel)?"":__t)+"</span>"),__p+="<input "+(null==(__t=displayLogic.ariaLabel?'aria-label="'+displayLogic.ariaLabel+'" ':" ")?"":__t),displayLogic.responseContainer.showPlaceholder&&(__p+='placeholder="'+(null==(__t=displayLogic.responseContainer.placeholder)?"":_.escape(__t))+'"'),__p+="",_.isBoolean(displayLogic.spellCheck)&&(__p+=""+(null==(__t=displayLogic.spellCheck?' spellcheck="true" autocorrect="on" autocomplete="on" autocapitalize="on"':' spellcheck="false" autocorrect="off" autocomplete="off" autocapitalize="off"')?"":__t)),__p+='type="'+(null==(__t=displayLogic.responseContainer.inputType)?"":_.escape(__t))+'" maxlength="'+(null==(__t=displayLogic.maxLength)?"":_.escape(__t))+'"',(displayLogic.responseContainer.hasOwnProperty("width")||displayLogic.responseContainer.hasOwnProperty("height"))&&(__p+='style="',displayLogic.responseContainer.width&&(__p+="width: "+(null==(__t=displayLogic.responseContainer.width)?"":__t)+";max-width: "+(null==(__t=displayLogic.responseContainer.width)?"":__t)+";"),displayLogic.responseContainer.height&&(__p+="height: "+(null==(__t=displayLogic.responseContainer.height)?"":__t)+";"),__p+='"'),__p+='class="lrn_cloze_response '+(null==(__t=displayLogic.readOnly?" lrn_disabled":"")?"":__t)+'" data-inputid="'+(null==(__t=displayLogic.inputId)?"":_.escape(__t))+'"value="'+(null==(__t=displayLogic.responseValue?displayLogic.responseValue:"")?"":_.escape(__t))+'"'+(null==(__t=displayLogic.readOnly?'readonly="readonly"':"")?"":__t)+'size="'+(null==(__t=displayLogic.maxLength)?"":_.escape(__t))+'" /></label>';return __p}},729:function(module,exports,__webpack_require__){var _=__webpack_require__(0);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",pointerVars.position&&(__p+='<span class="lrn_cloze_response_pointer"><span></span></span>'),__p+='<label class="lrn_textinput '+(null==(__t=pointerVars.position?"lrn_response_pointer lrn_response_pointer_"+pointerVars.position:"")?"":__t)+'" style="'+(null==(__t=pointerVars.top?"top:"+pointerVars.top+";":"")?"":__t)+(null==(__t=pointerVars.right?"right:"+pointerVars.right+";":"")?"":__t)+(null==(__t=pointerVars.bottom?"bottom:"+pointerVars.bottom+";":"")?"":__t)+(null==(__t=pointerVars.left?"left:"+pointerVars.left+";":"")?"":__t)+'">',displayLogic.ariaLabel&&(__p+='<span class="lrn-accessibility-label-static">'+(null==(__t=displayLogic.ariaLabel)?"":__t)+"</span>"),__p+="<textarea  "+(null==(__t=displayLogic.ariaLabel?'aria-label="'+displayLogic.ariaLabel+'" ':" ")?"":__t)+(null==(__t=displayLogic.responseContainer.showPlaceholder?' placeholder="'+displayLogic.responseContainer.placeholder+'"':"")?"":__t)+' maxlength="'+(null==(__t=displayLogic.maxLength)?"":__t)+'"',_.isBoolean(displayLogic.spellCheck)&&(__p+=""+(null==(__t=displayLogic.spellCheck?' spellcheck="true" autocorrect="on" autocomplete="on" autocapitalize="on"':' spellcheck="false" autocorrect="off" autocomplete="off" autocapitalize="off"')?"":__t)),__p+="",(displayLogic.responseContainer.hasOwnProperty("width")||displayLogic.responseContainer.hasOwnProperty("height"))&&(__p+='style="',displayLogic.responseContainer.width&&(__p+="width: "+(null==(__t=displayLogic.responseContainer.width)?"":__t)+";max-width: "+(null==(__t=displayLogic.responseContainer.width)?"":__t)+";"),displayLogic.responseContainer.height&&(__p+="height: "+(null==(__t=displayLogic.responseContainer.height)?"":__t)+";"),__p+='"'),__p+='class="lrn_cloze_response '+(null==(__t=displayLogic.readOnly?" lrn_disabled":"")?"":__t)+'" data-inputid="'+(null==(__t=displayLogic.inputId)?"":__t)+'"'+(null==(__t=displayLogic.readOnly?'readonly="readonly"':"")?"":__t)+'cols="'+(null==(__t=displayLogic.maxLength+3)?"":__t)+'">'+(null==(__t=displayLogic.responseValue?displayLogic.responseValue:"")?"":__t)+"</textarea></label>";return __p}},730:function(module,exports,__webpack_require__){var _=__webpack_require__(0);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){if(__p+="\x3c!-- THIS TEMPLATE IS NOT BEING USED --\x3e",pointerVars.position&&(__p+='<span class="lrn_cloze_response_pointer"><span></span></span>'),__p+='<span class="lrn_cloze_response lrn_response_container lrn_dragdrop lrn_dropzone'+(null==(__t=displayLogic.responseContainer.fluid_width?" lrn-full-width":"")?"":__t)+(null==(__t=displayLogic.responseContainer.fluid_height?" lrn-full-height":"")?"":__t)+(null==(__t=!0===displayLogic.responseContainer.wordwrap?" lrn_wordwrap":"")?"":__t)+(null==(__t=displayLogic.isReviewState?" lrn_review":"")?"":__t)+" "+(null==(__t=pointerVars.position?"lrn_response_pointer lrn_response_pointer_"+pointerVars.position:"")?"":__t)+'" data-inputid="'+(null==(__t=displayLogic.inputId)?"":__t)+'" style="'+(null==(__t=pointerVars.top?"top:"+pointerVars.top+";":"")?"":__t)+(null==(__t=pointerVars.right?"right:"+pointerVars.right+";":"")?"":__t)+(null==(__t=pointerVars.bottom?"bottom:"+pointerVars.bottom+";":"")?"":__t)+(null==(__t=pointerVars.left?"left:"+pointerVars.left+";":"")?"":__t),displayLogic.responseContainer.fluid_width||(__p+="width:"+(null==(__t=displayLogic.responseContainer.width)?"":__t)+"; max-width:"+(null==(__t=displayLogic.responseContainer.width)?"":__t)+";"),__p+="",!displayLogic.responseContainer.fluid_height&&displayLogic.responseContainer.hasOwnProperty("height")&&(__p+="height:"+(null==(__t=displayLogic.responseContainer.height)?"":__t)),__p+='"',displayLogic.ariaLabel&&(__p+='aria-label="'+(null==(__t=displayLogic.ariaLabel)?"":__t)+'" aria-label-static="'+(null==(__t=displayLogic.ariaLabel)?"":__t)+'"'),__p+="data-lrn-access-review-dest data-lrn-access-review-source>",displayLogic.responseList.hasOwnProperty(displayLogic.inputId)&&null!==displayLogic.responseList[displayLogic.inputId].value){var possibility=displayLogic.responseList[displayLogic.inputId];__p+='<span data-index="'+(null==(__t=possibility.index)?"":__t)+'"aria-label="Draggable item. '+(null==(__t=possibility.ariaValue)?"":_.escape(__t))+'"class="lrn_draggable lrn_btn_drag'+(null==(__t=displayLogic.readOnly?" lrn_disabled":"")?"":__t)+(null==(__t=!1===displayLogic.dragHandle?" lrn_btn_no_handle":"")?"":__t)+'"',_.isNumber(possibility.groupIndex)&&(__p+='data-lrn-response-group="'+(null==(__t=possibility.groupIndex)?"":__t)+'"'),__p+=">",displayLogic.ariaLabel&&(__p+='<span class="lrn-accessibility-label-static">'+(null==(__t=displayLogic.ariaLabel)?"":__t)+" - </span>"),__p+='<span class="lrn_item">'+(null==(__t=possibility.value)?"":__t)+'</span><span class="sr-only">&nbsp;</span></span>'}__p+="</span>"}return __p}},731:function(module,exports,__webpack_require__){var _=__webpack_require__(0);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="lrn_possibilityList lrn_cloze_row',displayLogic.groupingResponses||(__p+=" lrn_dragdrop "),__p+="",_.isUndefined(displayLogic.possibilityListPosition)||"bottom"===displayLogic.possibilityListPosition?__p+="lrn_list_bottom":"top"===displayLogic.possibilityListPosition?__p+="lrn_list_top":"left"===displayLogic.possibilityListPosition?__p+="lrn_list_left":__p+="lrn_list_right",__p+='">'+(null==(__t=displayLogic.possibilityListContent)?"":__t)+"</div>";return __p}},732:function(module,exports,__webpack_require__){var _=__webpack_require__(0);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="\x3c!-- This template is not being used --\x3e",_.isString(group.title)&&(__p+='<div class="lrn_possible_responses_group"><div class="lrn_group_label">'+(null==(__t=group.title)?"":__t)+'</div><div class="lrn_dragdrop" data-lrn-response-group="'+(null==(__t=group.index)?"":__t)+'">'),__p+="",_.each(group.responses,(function(t){__p+='<div data-index="'+(null==(__t=t.index)?"":__t)+'"aria-label="Draggable item. '+(null==(__t=t.ariaValue)?"":_.escape(__t))+'"class="lrn_draggable lrn_btn_drag'+(null==(__t=displayLogic.readOnly?" lrn_disabled":"")?"":__t)+(null==(__t=!1===displayLogic.dragHandle?" lrn_btn_no_handle":"")?"":__t)+'"',_.isNumber(t.groupIndex)&&(__p+='data-lrn-response-group="'+(null==(__t=t.groupIndex)?"":__t)+'"'),__p+='><span class="lrn_item">'+(null==(__t=t.value)?"":__t)+'</span><span class="sr-only">&nbsp;</span></div>'})),__p+="",_.isString(group.title)&&(__p+="</div></div>"),__p+="";return __p}},733:function(module,exports,__webpack_require__){var _=__webpack_require__(0);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<span class="lrn_inlinetext_wrapper lrn_cloze_response '+(null==(__t=displayLogic.isReviewState?"lrn_review":"")?"":__t)+'" style="min-width:'+(null==(__t=displayLogic.responseContainer.width)?"":__t)+";"+(null==(__t=displayLogic.responseContainer.hasOwnProperty("height")?" height: "+displayLogic.responseContainer.height+";":"")?"":__t)+'" data-lrn-access-review-dest><span class="lrn_text_inline'+(null==(__t=displayLogic.readOnly?" lrn_disabled":"")?"":__t)+'"',displayLogic.responseContainer.showPlaceholder&&(__p+='placeholder="'+(null==(__t=displayLogic.responseContainer.placeholder)?"":_.escape(__t))+'"'),__p+=(null==(__t=displayLogic.maxLength?'data-maxlength="'+displayLogic.maxLength+'"':"")?"":_.escape(__t))+" "+(null==(__t=displayLogic.readOnly?"":'contenteditable="true"')?"":__t)+' spellcheck="'+(null==(__t=_.isBoolean(displayLogic.spellCheck)?displayLogic.spellCheck.toString():"false")?"":__t)+'" data-inputid="'+(null==(__t=displayLogic.inputId)?"":_.escape(__t))+'">'+(null==(__t=displayLogic.responseValue?displayLogic.responseValue:"")?"":_.escape(__t))+"</span>"+(null==(__t=!0===displayLogic.showCharacterMap?"":"<span></span>")?"":__t)+"</span>";return __p}}}]);